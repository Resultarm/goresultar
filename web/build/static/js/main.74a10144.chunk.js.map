{"version":3,"sources":["components/Logo/styles.module.scss","i18n.js","components/Logo/index.jsx","components/LoginForm/index.jsx","contexts.js","helpers/NS.js","helpers/useFetch.js","hooks/useProduct.js","helpers/safeget.js","helpers/sorter.js","helpers/includes.js","helpers/listsearch.js","helpers/useList.js","helpers/useListv2.js","hooks/useProductList.js","hooks/useClientOptions.js","hooks/useOrder.js","hooks/useTaskList.js","hooks/useOrders.js","hooks/useExpenses.js","hooks/useTask.js","hooks/useOrganization.js","hooks/useStaffOptions.js","hooks/useCategories.js","hooks/useServiceStatusOptions.js","hooks/useDepartments.js","hooks/useBrands.js","hooks/useSubcategories.js","hooks/useBrand.js","hooks/useDepartmentOptions.js","hooks/useModels.js","hooks/useDepartment.js","hooks/useLogin.js","hooks/useClients.js","hooks/useClient.js","hooks/useRoles.js","hooks/useProductv2.js","hooks/useQuotationToOrder.js","hooks/index.js","containers/LoginPage/index.jsx","components/Spinner/index.jsx","helpers/webApiHelper.js","services/productService.js","components/ProductComponents/DeleteProduct/index.jsx","helpers/formatters.js","helpers/currencyFormatterPrefix.js","components/DropdownConfirmation.jsx","components/ProductComponents/ProductList/index.jsx","components/ProductComponents/ServiceFormModal/index.jsx","helpers/listOptsFromQueryParams.js","helpers/translateRules.js","helpers/editDeleteRenderer.js","helpers/index.js","components/InputNumberFmtd/index.jsx","components/OrgAwareButton/index.jsx","components/FormModal.jsx","components/NSHandler.jsx","components/FormList/index.jsx","components/OrganizationAddr/index.jsx","components/ProtectedRoute.jsx","components/CategorySelect/index.jsx","components/ProductSelect/index.jsx","components/BrandSelect/index.jsx","components/index.jsx","containers/ProductsPage/ProductKitFormModal.jsx","containers/ProductsPage/ProductFormModal.jsx","containers/ProductsPage/index.js","helpers/validations.js","components/SubcategoriesComponents/SubcategoryForm/index.jsx","services/subcategoriesService.js","components/SubcategoriesComponents/DeleteSubcategory/index.jsx","components/SubcategoriesComponents/SubcategoriesList/index.jsx","containers/SubcategoriesPage/index.jsx","components/CategoriesComponents/CategoryForm/index.jsx","services/categoriesService.js","components/CategoriesComponents/DeleteCategory/index.jsx","components/CategoriesComponents/CategoriesList/index.jsx","containers/CategoriesPage/index.jsx","containers/ChequeList/ChequeAddModal.jsx","containers/ChequeList/ChequeImageModal.jsx","helpers/currencyFormatter.js","containers/ChequeList/ChequeCalenderModal.jsx","containers/ChequeList/index.jsx","containers/ExpenseList/ExpenseAddModal.jsx","containers/ExpenseList/index.jsx","containers/Dashboard/RevenueCost.jsx","containers/Dashboard/ExpenseStats.js","containers/Dashboard/index.jsx","services/organizationsService.js","components/Header/index.jsx","components/NotFound/index.jsx","services/modelsService.js","components/ModelsComponents/ModelForm/index.jsx","components/ModelsComponents/DeleteModel/index.jsx","components/ModelsComponents/ModelsList/index.jsx","containers/ModelsPage/index.jsx","components/ProductComponents/ProductImagesSlider/index.jsx","components/FileUpload/index.js","services/productImagesService.js","components/QRModal/index.jsx","components/icons/toorder.svg","components/ProductComponents/ProductView/index.jsx","services/orderService.js","components/OrderComponents/DeleteOrder/index.jsx","components/OrderComponents/UpdateQuotation/index.js","helpers/options.js","components/OrderComponents/AddOrderPaymentModal/index.js","components/OrderComponents/OrderList/index.jsx","containers/ClientsPage/ClientFormModal.jsx","containers/OrdersPage/OrderFormModal.jsx","containers/OrdersPage/index.js","containers/ClientsPage/index.jsx","containers/AdminsPage/UserFormModal.jsx","containers/AdminsPage/index.jsx","components/OrderComponents/OrderView/index.jsx","components/InputNumber/index.jsx","components/ImageUpload/index.jsx","components/OrganizationComponents/CreateOrganizationForm/index.js","components/OrganizationComponents/OrganizationList/index.js","components/confirmCallback/index.jsx","containers/OrganizationsPage/index.js","helpers/formatMoney.js","containers/ExpenseDetail/MakePaymentModal.js","containers/ExpenseDetail/index.js","containers/WoodCalculator/index.jsx","containers/TaskList/TaskFormModal.jsx","containers/TaskList/index.jsx","containers/TaskDetail/index.jsx","containers/PrintEverything/OrderTable.jsx","containers/PrintEverything/ProductTable.jsx","containers/PrintEverything/TaskTable.jsx","containers/PrintEverything/ExpenseTable.jsx","containers/PrintEverything/DepartmentEarnings.jsx","containers/PrintEverything/index.jsx","containers/InitialOnboarding/index.jsx","containers/BrandList/BrandFormModal.jsx","containers/BrandList/index.jsx","containers/DepartmentList/DepartmentFormModal.jsx","containers/DepartmentList/index.jsx","containers/Routing/index.jsx","App.js","index.js"],"names":["module","exports","i18n","use","Backend","LanguageDetector","initReactI18next","init","fallbackLng","debug","interpolation","escapeValue","react","wait","initImmediate","window","__","t","bind","Logo","Header","as","color","className","styles","logoWrapper","Image","circular","src","LoginForm","onSubmit","useState","email","setEmail","password","setPassword","isEmailValid","setIsEmailValid","isPasswordValid","setIsPasswordValid","handleLoginClick","a","Form","name","size","Segment","Input","fluid","icon","iconPosition","placeholder","type","error","onChange","ev","data","target","value","onBlur","validator","isEmail","Boolean","Button","primary","OrganizationContext","React","createContext","undefined","UserContext","NS","status","message","statusCode","responseTime","requestId","cached","hasData","token","errorCaught","this","code","cr","tab","uuidv4","replace","c","crypto","getRandomValues","Uint8Array","toString","defaultFetchOptions","headers","Accept","useFetch","url","opts","organizationId","useContext","rId","fresh","setParams","response","setResponse","refresh","useCallback","useEffect","abortctrl","AbortController","clone","startTime","performance","now","finalopts","Authorization","localStorage","getItem","OrganizationID","fetch","then","res","signal","aborted","get","json","body","console","log","s","cloned","dataType","Number","isNaN","Array","Object","length","catch","err","abort","useAPI","customOptions","useMemo","require","msgTemplate","SUCCESS","n","endsWith","ERROR","useProduct","id","payload","method","setState","JSON","stringify","action","add","edit","save","del","reset","changeStatus","safeget","object","path","defaultVal","shift","defaultValues","string","number","date","includes","input","searchText","trimmed","trim","toLowerCase","listsearch","list","fields","filter","item","some","f","split","perPage","initialState","currentPage","sort","by","direction","predicate","values","getComparator","b","fn","field","compareType","getValue","o","localeCompare","moment","diff","sorter","defaultResponse","pageCount","total","useList","searchFields","transform","filterFields","filterPredicate","filterer","filters","setFilters","search","goto","pageNo","setPredicate","handlers","prototype","hasOwnProperty","call","filterConfig","transformed","map","filtered","searched","sorted","paginated","slice","pages","Math","ceil","all","useListv2","useProductList","URLSearchParams","append","useClientOptions","users","options","_id","firstName","lastName","label","useOrder","useTaskList","orderProcesses","paymentStatuses","statuses","1","2","3","4","useOrders","useTranslation","_processStatus","processStatus","_status","useExpenses","useTask","getID","getStatus","useOrganization","useStaffOptions","organizationIds","roleNumber","useCategories","useServiceStatusOptions","text","useDepartments","useBrands","useSubcategories","useBrand","useDepartmentOptions","departments","title","useModels","useDepartment","useLogin","setPayload","login","useClients","useClient","insertedId","useRoles","useProductv2","useQuotationToOrder","setId","convert","noOrgHeader","useNewCheques","useCheques","cheques","useCategoryOptions","categories","departmentId","useSubCategoryOptions","subCategories","categoryId","useProviderOptions","u","LoginPage","onLogin","newToken","isSuccess","isError","navigate","style","height","maxWidth","margin","width","textAlign","Message","exact","to","backgroundImage","backgroundRepeat","backgroundSize","class","padding","marginBottom","alt","fontWeight","display","justifyContent","href","Spinner","Dimmer","active","inverted","Loader","getFetchUrl","args","endpoint","query","queryString","getFetchArgs","attachment","skipAuthorization","Error","formData","FormData","request","ct","throwIfResponseFailed","ok","removeItem","parsedException","callWebApi","getProduct","deleteProduct","deleteProductImage","prodId","imageId","DeleteProduct","addToast","loadProducts","isModalOpen","setIsModalOpen","toggleModal","Modal","trigger","onClick","Icon","open","closeIcon","Content","resp","appearance","finally","formatNumber","toLocaleString","formatDate","timestamp","format","AlertWrapper","alert","children","backgroundColor","stringifyOrderStatus","Intl","NumberFormat","currency","DropdownConfirmation","defaultValue","basic","hasMounted","useRef","confirmValue","setConfirmValue","comment","setValue","current","Dropdown","event","opt","find","confirm","confirmWithComment","Group","Confirm","content","onCancel","onConfirm","cancelButton","confirmButton","onClose","e","elements","TextArea","maxLength","required","statusColors","Available","emptyPredicate","ProductsList","products","showKitModal","setProductToEdit","onPageChange","statusOptions","Table","celled","Row","HeaderCell","colspan","Body","product","key","Cell","kitProducts","description","isService","totalUnits","minStockThreshold","fontFamily","department","category","subcategory","join","brand","model","currencyFormatter","cost","price","_","Footer","colSpan","Pagination","activePage","totalPages","defaultProps","isLoading","ruleRequired","validations","subcategoryId","chargeDuration","ServiceFormModal","okText","okButtonProps","afterSave","initialValue","departmentOptions","categoryOptions","useCategoryOptionsAntdv2","subcategoryOptions","subCategoryOptions","useSubCategoryOptionsAntdv2","visible","form","htmlType","layout","initialValues","onFinish","formValues","Item","rules","gutter","span","getValueFromEvent","vs","floatValue","customInput","thousandSeparator","decimalSeparator","dependencies","noStyle","getFieldValue","rows","searchParams","location","from","translatedRules","prop","r","editDeleteRenderer","onEdit","onDelete","i","DeleteOutlined","ghost","EditOutlined","cf","InputNumberFmtd","valuePropName","props","onValueChange","OrgAwareButton","disabled","Wrapper","Fragment","FormModal","formID","submitButtonProps","globalOrganizationId","maskClosable","keyboard","bodyStyle","maxHeight","destroyOnClose","Provider","StyleWrapper","alignItems","NSHandler","noDataMessage","isInit","inline","defaultAddBtnProps","PlusOutlined","FormList","addText","min","addBtnPropsFromProps","addBtnProps","paddingBottom","List","remove","gridTemplateColumns","columnGap","visibility","MinusCircleOutlined","OrganizationAddr","organization","logoUrl","phoneNumber","ProtectedRoute","Component","component","rest","useToasts","autoDismiss","noThrow","CategorySelect","departmentTreeOptions","subcategories","dep","cat","subcat","useDepartmentTree","changeOnSelect","p","ProductSelect","onAdd","showServices","showKits","productsStatus","handleProductAdd","Search","preventDefault","allowClear","itemLayout","dataSource","loading","renderItem","actions","Meta","avatar","images","link","BrandSelect","brandTreeOptions","brands","models","thisBrandModels","brandId","useBrandTreeOptions","Span","normFile","isArray","fileList","categoryInfo","brandInfo","discount","computeTotal","selectedProducts","quantity","toFixed","ProductKitFormModal","saveStatus","useForm","setSelectedProducts","productMap","setFieldsValue","totalPrice","totalCost","selectedQuantity","handleDelete","productId","newSelectedProducts","success","reading","handleScannerInput","scannedProduct","ISBN","setTimeout","document","addEventListener","removeEventListener","denormInitValue","modelId","imageUrls","uid","fromEntries","kp","top","push","preserve","wrapperCol","shouldUpdate","entries","inProduct","step","danger","fontSize","paddingTop","labelCol","multiple","accept","listType","marginLeft","formRules","departmentTree","brandTree","costContributionValue","unitType","measurementType","metricValue","getBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","UNIT","MEASUREMENT_TYPES","costContribution","profitInPercentage","ProductFormModal","translateFormRules","imagePreviewUrl","setImagePreviewUrl","providerOptions","handleImagePreview","preview","originFileObj","imageUrl","profit","metricType","unit","onValuesChange","reduce","acc","revenue","providerId","fieldKey","costContributionName","EyeOutlined","onPreview","defaultFilterFields","ProductsPage","changeStatusStatus","shouldShowCreateKitModal","setShouldShowCreateKitModal","kitToEdit","setKitToEdit","shouldShowAddServiceModal","setShouldShowAddServiceModal","shouldShowAddModal","setShouldShowAddModal","productToEdit","lowStockAlerted","setLowStockAlerted","useBrandOptions","brandOptions","useModelOptions","modelOptions","closeAddModal","closeEditModal","autoDismissTimeout","handleCloseKitModal","closeServiceModal","marginRight","showSearch","ProductList","isTextValid","max","SubcategoryForm","submit","componentName","loadSubcategories","setTitle","isTitleValid","setIsTitleValid","setDescription","setCategoryId","isDescriptionValid","setIsDescriptionValid","setIsLoading","handleFormSubmit","handleCloseModal","toggleModalState","Select","createSubcategory","updateSubcategory","deleteSubcategory","DeleteSubcategory","SubcategoriesList","createSubcategoryRow","req","handlePaginationClick","page","updatePageFilter","rowspan","SubcategoriesPage","CategoryForm","loadCategories","setDepartmentId","createCategory","updateCategory","deleteCategory","DeleteCategory","CategoriesList","createCategoryRow","CategoriesPage","ruleAllowOnlyDigits","pattern","normalizeAgencyNo","test","substr","normalizeAccountNo","agencyNo","no","accountNo","holder","destinationName","destinationBank","destinationDate","depositMode","amount","accountType","frontImage","backImage","imageUrlToImage","imageFromEvent","ChequeAddModal","onSave","translateRules","denormalizedInitialValues","frontImageUrl","backImageUrl","unix","help","ChequeImageModal","urls","selected","setSelected","footer","borderRight","paddingRight","borderWidth","borderStyle","borderColor","objectFit","minHeight","maximumFractionDigits","minimumFractionDigits","colors","whiteSpace","textOverflow","ChequeCalenderModal","chequeMapByDate","cheque","dateOnes","destDateOnes","chequeMapByMonth","overflowY","fullscreen","dateCellRender","filteredCheques","monthCellRender","new","canceled","good","compensated","other","returned","ChequeList","chequesStatus","useCheque","actionStatus","shouldShowCalender","setShouldShowCalender","selectedChequeForEdit","setSelectedChequeForEdit","selectedChequeForDelete","setSelectedChequeForDelete","selectedImages","setSelectedImages","handleEdit","closeDeleteConfirmation","handlePageChange","d","handleStatusChange","translatedStatusOptions","sortable","negative","toUpperCase","currencyFormatterPrefix","frequency","issueDate","dueDate","moneySource","paymentMethod","lateFee","receiptUrl","invoiceUrl","numTimes","fixedAmount","variableAmount","receipt","invoice","fixed","chequeIds","ExpenseAddModal","useDepartmentsWithProfits","departmentsStatus","receipts","invoices","componentSize","moneySourceId","Option","suffix","ExpenseList","expenses","expensesStatus","initialAddValues","shouldAdd","getInitialAddValues","useExpense","expense","RevenueCost","collected","notCollected","labelLink","labelMap","getTotalPayment","payments","getTotalAmount","ExpenseStats","expenseStats","expenseStatsStatus","textTransform","paid","partial","notpaid","nextMonthExpense","dues","Divider","RangePicker","DatePicker","OrgStatTitles","organizations","branches","reps","commissionNameMap","closed","quotations","RealProfit","dashboard","realProfit","totalexpenses","Dashboard","history","admin","user","range","daterange","setDaterange","rangeQueryParam","orderStatsStatus","dashboardStatus","productStats","productStatsStatus","countByProcessStatus","countByProcessStatusStatus","shouldShowPrintEverything","setShouldShowPrintEverything","totalRevenue","totalQuantity","totalCollected","totalNeedsToCollect","orders","totalProducts","worthPrice","worthCost","topDepartments","allearnings","allrepearnings","v","subtract","startOf","PrinterOutlined","clients","topreps","earnings","k","allowedStatuses","count","isRep","centered","getOrganizations","createOrganization","updateOrganization","localeOptions","MenuExampleStackable","state","handleItemClick","activeItem","handleOrganizationChange","onOrganizationChange","logout","onLocaleChange","locale","Menu","stackable","role","activeClassName","context","contextType","withTranslation","NotFound","marginTop","createModel","updateModel","deleteModel","ModelForm","loadModels","isEdit","setBrandId","brandsOptions","DeleteModel","ModelsList","createModelRow","ModelsPage","CustomCardSlide","index","image","header","isDeleteModalOpen","setIsDeleteModalOpen","toggleDeleteModal","Card","position","float","reload","removeProductImage","verticalAlign","CustomDotGroup","slides","Container","keys","slide","Dot","CardCarousel","naturalSlideWidth","naturalSlideHeight","totalSlides","UploadFile","uploadHandler","setFile","files","createProductImage","QRModal","_g","fileName","shouldShow","setShouldShow","includeMargin","pngUrl","getElementById","toDataURL","downloadLink","createElement","download","appendChild","click","removeChild","block","ProductViewPage","prepareProdDescriptionTableBody","provider","createdAt","prepareProductStats","stats","openOrders","units","modalOpen","fileChangedHandler","selectedFile","striped","getOrderStatuses","getOrder","deleteTransaction","transactionId","updateOrderProcessStatus","deleteOrder","parse","uploadProofPayment","addOrderPayment","updateOrderPayment","getOrderPayments","DeleteOrder","loadOrders","hasPayments","deleteTrxs","_extends","assign","arguments","source","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgToorder","_ref","svgRef","titleId","xmlns","xmlnsXlink","viewBox","fill","ref","ForwardRef","UpdateQuotation","staticFormOptions","unitOptions","volumeOptions","sizeOptions","sizev2Options","weightOptions","paymentOptions","AddOrderPaymentModal","order","paymentType","setPaymentType","paymentAmount","setPaymentAmount","fileLink","proofPaymentUrl","setProofPaymentUrl","isFileUploading","setIsFileUploading","isPaymentAmountValid","setIsPaymentAmountValid","setError","chequeId","setChequeId","chequeOptions","submitOrderPayment","orderId","totalPaid","widths","pointing","alignSelf","Label","_30Days","OrderProcess","paymentStatus","onUpdate","allowed","shouldShowReviewModal","setShouldShowReviewModal","setFiles","review","setReview","closeShouldShowReviewModal","documents","EstConclusionDate","bgColor","prefix","dateFormatted","diffFromToday","OrderList","setSelectedOrders","selectedOrders","showOrderUpdateModal","collectPaymentFor","setCollectPaymentFor","shouldShowChangeStatusModal","setShouldShowChangeStatusModal","allowedOrders","client","r1","r2","closeCollectPaymentModal","rowSpan","shouldDeleteQuote","Date","gridAutoFlow","checked","sid","lastPaymentOn","transactions","noPaymentSince30days","estConclusionDate","address","cpf","len","cnpj","zipCode","identificationType","ClientFormModal","identificationNumber","validateTrigger","isCNPJ","landlineNumber","mobileNumber","Password","paymentMethodOptions","ruleJustRequired","OrderFormModal","afterPlace","isQuotation","shouldShowClientAddModal","setShouldShowClientAddModal","clientOptions","clientOptionsStatus","refreshClientOpts","setSearchText","selectedProduct","findIndex","__id","handleProductAddAsAnother","Symbol","handleAddClientClick","temp","Set","items","has","clientId","productItems","gridTemplateRows","computeOrderTotal","dropdownRender","menu","filterOption","option","expiredQuotataionsPredicate","lastWeekOpenOrdersPredicate","OrdersPage","allOrders","ordersStatus","alerted","setAlerted","shouldShowQuotationForm","setShouldShowQuotationForm","paymentDueAlert","setPaymentDueAlert","conclusionNearAlert","setConclusionNearAlert","conclusionDueAlert","setConclusionDueAlert","showOrderCreateModal","setShowOrderCreateModal","editOrderId","setEditOrderId","defaultSelectedStatus","defaultSelectedPaymentStatus","selectedStatus","setSelectedStatus","selectedPaymentStatus","setSelectedPaymentStatus","closeOrderFormModal","shouldAlertForDue","shouldAlertForNear","isCreateDisabled","maxOrders","selectedOrder","ClientsPage","roles","selectedForEdit","setSelectedForEdit","selectedForDelete","setSelectedForDelete","record","readOnly","departmentIds","salary","nonAdminOneOrgValidator","rule","UserFormModal","orderStatuses","setOrderStatuses","useOrganizations","roleOptions","organizationOptions","branchIds","branchOptions","organization_id","concat","changed","salary13thDate","dateStr","mode","commission","AdminsPage","useUser","OrderViewPage","fetchTransactions","trxs","fetchOrderAndTransactions","transaction","transactionToEdit","transactionToDelete","handleConfirmDelete","closeTransactionEditModal","handleAfterTransactionSave","showQR","shouldShowQR","hideQR","prepareTransactionsTable","trx","totalWithoutDiscount","cellNumber","print","Description","isModifierKey","keyCode","shiftKey","ctrlKey","metaKey","enforceFormat","isNumericInput","formatEVToPhone","formatToPhone","substring","area","middle","last","InputNumber","onKeyDown","onKeyUp","ImageUpload","onUpload","inFileList","setFileList","OrganizationForm","org","loadOrgs","setLogoPath","setBranches","updateBranchItem","propValue","propName","newBranches","defaultFileList","branch","OrganizationList","orgs","bulleted","confirmCallback","cb","ExclamationCircleOutlined","cancelText","onOk","OrganizationsPage","MakePaymentModal","chequeAmountValidator","chequeTotal","denormInitialValues","URLsWithDate","ChequeAnchor","ChequeAnchors","ExpenseDetail","useGetExpense","useExpensePayments","paymentsStatus","refreshPayments","expenseId","useExpensePayment","shouldShowMakePaymentModal","setShouldShowMakePaymentModal","showMakePaymentModal","closeMakePaymentModal","shouldDisablePayment","bordered","formatMoney","rowKey","Column","dataIndex","render","computeVolume","frontLeftHeight","frontRightHeight","midLeftHeight","midRightHeight","rearLeftHeight","rearRightHeight","leftLength","rightLength","tailLayout","pricePerVolume","CreateExpenseLink","expenseDescription","nf","create","urlpath","Total","volume","WoodCalculator","offset","getFieldsValue","startDate","assigneeId","leaderId","TaskFormModal","userOptions","denormInitialValue","helperIds","timestampToDateStr","TaskList","tasks","tasksStatus","shouldShowCreateModal","setShouldShowCreateModal","task","TaskPrintView","TaskDetail","assignee","leader","helpers","h","ProductTable","showHeader","pagination","getOrderTotal","OrderTable","listOptsFromQueryParams","getTotalUnits","TaskTable","hs","DepartmentEarnings","Stats","PrintEverything","ExpenseTable","bottom","right","InitialOnboarding","setOnboarded","onboarded","onboard","useOnboard","onboardedNew","onboardStatus","BrandFormModal","BrandList","delStatus","handleFormModalClose","categoryTitle","subCategoryTitle","DepartmentFormModal","categoryDescription","borderBottom","borderLeft","paddingLeft","subfield","subCategoryDescription","DepartmentList","departmentsTree","isLeaf","ResetCache","localeFileMap","enUS","ptBR","defaultGlobalFormConfig","validateMessages","getInitialState","getOnboardedFromLS","Routing","setOrganizationId","setToken","setLocale","onboardedFromAPI","onboardedStatus","handleLogin","setItem","atob","decodeJWT","authContext","changeLanguage","shouldShowNavigation","globalFormConfig","msg","default","App","fallback","ReactDOM"],"mappings":"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","file":"static/js/main.74a10144.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"logoWrapper\":\"styles_logoWrapper__2ifFw\"};","import i18n from \"i18next\";\nimport Backend from \"i18next-http-backend\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\nimport { initReactI18next } from \"react-i18next\";\n\ni18n\n  // load translation using http -> see /public/locales\n  // learn more: https://github.com/i18next/i18next-http-backend\n  .use(Backend)\n  // detect user language\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\n  .use(LanguageDetector)\n  // pass the i18n instance to react-i18next.\n  .use(initReactI18next)\n  // init i18next\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init({\n    fallbackLng: \"en\",\n    debug: false,\n\n    interpolation: {\n      escapeValue: false, // not needed for react as it escapes by default\n    },\n    react: {\n      wait: true,\n    },\n\n    initImmediate: false,\n  });\n\nwindow.__ = i18n.t.bind(i18n);\n","import React from 'react';\nimport { Image, Header } from 'semantic-ui-react';\n\nimport styles from './styles.module.scss';\n\nexport const Logo = () => (\n  <Header as=\"h2\" color=\"grey\" className={styles.logoWrapper}>\n    <Image circular src=\"http://s1.iconbird.com/ico/2013/9/440/w128h1281380212086box.png\" />\n    {' '}\n    Gerenciador\n  </Header>\n);\n\nexport default Logo;\n","import React, { useState } from \"react\";\nimport validator from \"validator\";\nimport { Button, Form, Segment } from \"semantic-ui-react\";\n\nconst LoginForm = ({ onSubmit }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const [isEmailValid, setIsEmailValid] = useState(true);\n  const [isPasswordValid, setIsPasswordValid] = useState(true);\n\n  const emailChanged = (data) => {\n    setEmail(data);\n    setIsEmailValid(true);\n  };\n\n  const passwordChanged = (data) => {\n    setPassword(data);\n    setIsPasswordValid(true);\n  };\n\n  const handleLoginClick = async () => {\n    const isValid = isEmailValid && isPasswordValid;\n    if (!isValid) {\n      return;\n    }\n\n    onSubmit({ email, password });\n  };\n\n  return (\n    <Form name=\"loginForm\" size=\"large\" onSubmit={handleLoginClick}>\n      <Segment>\n        <Form.Input\n          fluid\n          icon=\"at\"\n          iconPosition=\"left\"\n          placeholder=\"Email\"\n          type=\"email\"\n          error={!isEmailValid}\n          onChange={(ev) => emailChanged(ev.target.value)}\n          onBlur={() => setIsEmailValid(validator.isEmail(email))}\n        />\n        <Form.Input\n          fluid\n          icon=\"lock\"\n          iconPosition=\"left\"\n          placeholder=\"Password\"\n          type=\"password\"\n          error={!isPasswordValid}\n          onChange={(ev) => passwordChanged(ev.target.value)}\n          onBlur={() => setIsPasswordValid(Boolean(password))}\n        />\n\n        <Button type=\"submit\" color=\"teal\" fluid size=\"large\" primary>\n          Login\n        </Button>\n      </Segment>\n    </Form>\n  );\n};\n\nexport default LoginForm;\n","import React from \"react\";\n\nexport const OrganizationContext = React.createContext(undefined);\nexport const UserContext = React.createContext(undefined);\n","export default class NS {\n  /**\n   * Create a point.\n   * @param {'INIT'|'LOADING'|'SUCCESS'|'ERROR'} status\n   * @param {string|null} message\n   */\n  constructor(\n    status,\n    message,\n    statusCode = 0,\n    responseTime = 0,\n    requestId,\n    cached = false,\n    hasData = false,\n    token,\n    errorCaught = false\n  ) {\n    this.code = status;\n    this.message = message;\n    this.statusCode = statusCode;\n    this.hasData = hasData;\n    this.responseTime = responseTime;\n    this.requestId = requestId;\n    this.cached = cached;\n    this.token = token;\n    this.errorCaught = errorCaught;\n  }\n\n  get isInit() {\n    return this.code === \"INIT\";\n  }\n\n  get isLoading() {\n    return this.code === \"LOADING\";\n  }\n\n  get isError() {\n    this.errorCaught = true;\n    return this.code === \"ERROR\";\n  }\n\n  get isSuccess() {\n    return this.code === \"SUCCESS\";\n  }\n\n  clone(\n    status,\n    message,\n    statusCode,\n    responseTime,\n    requestId,\n    cached,\n    hasData,\n    token,\n    errorCaught\n  ) {\n    return new NS(\n      status === undefined ? this.code : status,\n      message === undefined ? this.message : message,\n      statusCode === undefined ? this.statusCode : statusCode,\n      hasData === undefined ? this.hasData : hasData,\n      responseTime === undefined ? this.responseTime : responseTime,\n      requestId === undefined ? this.requestId : requestId,\n      cached === undefined ? this.cached : cached,\n      token === undefined ? this.token : token,\n      errorCaught === undefined ? this.errorCaught : errorCaught\n    );\n  }\n\n  toString() {\n    return this.code;\n  }\n}\n","import React, { useEffect, useCallback, useState, useMemo } from \"react\";\nimport { useContext } from \"react\";\nimport { OrganizationContext } from \"src/contexts\";\nimport NS from \"./NS\";\n\nexport const cr = \"\\n\";\nexport const tab = \"\\t\";\n\n// https://stackoverflow.com/a/2117523\nfunction uuidv4() {\n  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (c) =>\n    (c ^ (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))).toString(16)\n  );\n}\n\nconst defaultFetchOptions = {\n  headers: {\n    Accept: \"application/json\",\n    \"Content-Type\": \"application/json\",\n  },\n};\n\nfunction getType(data) {\n  if (data === null) return \"Null\";\n  if (data === undefined) return \"Undefined\";\n  if (typeof data === \"string\") return \"String\";\n  if (typeof data === \"number\" && !Number.isNaN(data)) return \"Number\";\n  if (Number.isNaN(data)) return \"NaN\";\n  if (typeof data === \"boolean\") return \"Boolean\";\n  if (data instanceof Array) return \"Array\"; // always should be before `Object`\n  if (data instanceof Object) return \"Object\";\n\n  return \"\";\n}\n\nexport default function useFetch(url, opts) {\n  const organizationId = useContext(OrganizationContext);\n  const [[rId, fresh], setParams] = useState(() => [\"\", false]);\n  const [response, setResponse] = useState([undefined, new NS(\"INIT\")]);\n\n  const refresh = useCallback(() => setParams([uuidv4(), true]), []);\n\n  useEffect(() => {\n    if (url) {\n      setParams([uuidv4(), false]);\n    }\n  }, [url, opts]);\n\n  useEffect(() => {\n    if (!url || !rId) return;\n\n    const abortctrl = new AbortController();\n\n    setResponse(([, s]) => [undefined, s.clone(\"LOADING\")]);\n    const startTime = performance.now();\n\n    // recursive merge might be better solution\n    const finalopts = {\n      ...defaultFetchOptions,\n      ...opts,\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n        ...defaultFetchOptions.headers,\n        ...opts?.headers,\n        ...(fresh && { \"X-Clear-Cache\": true }),\n        \"X-Request-ID\": rId,\n        ...(organizationId && { OrganizationID: organizationId }),\n      },\n    };\n\n    if (finalopts.headers[\"Content-Type\"] === null) {\n      delete finalopts.headers[\"Content-Type\"];\n    }\n    fetch(url, finalopts)\n      .then(async (res) => {\n        if (abortctrl.signal.aborted) return;\n\n        const responseTime = performance.now() - startTime;\n        const cached = !!res.headers.get(\"X-Browser-Cache\");\n        const token = res.headers.get(\"X-Token\");\n        let body;\n\n        try {\n          body = await res.json();\n        } catch (e) {\n          const message = \"Invalid JSON response from API\";\n          console.error(`${cr}API Error:${cr}${tab}URL: ${url}${cr}${tab}Msg: ${message}${cr}${tab}Code: ${res.status}`);\n          setResponse(([, s]) => [undefined, s.clone(\"ERROR\", message, res.status, responseTime, rId, cached)]);\n          return;\n        }\n\n        if (res.status >= 400) {\n          const message = body.error || body.message || \"\";\n          console.log(\"message :>> \", message);\n          setResponse(([, s]) => {\n            console.log(\"s :>> \", s);\n            const cloned = s.clone(\"ERROR\", message, res.status, responseTime, rId, cached, false, token);\n            console.log(\"cloned :>> \", cloned);\n            return [undefined, s.clone(\"ERROR\", message, res.status, responseTime, rId, cached, false, token)];\n          });\n          return;\n        }\n        const dataType = getType(body);\n        const hasData = dataType !== \"Null\" && (dataType === \"Array\" ? body.length > 0 : true);\n\n        setResponse(([, s]) => [body, s.clone(\"SUCCESS\", \"\", res.status, responseTime, rId, cached, hasData, token)]);\n      })\n      .catch((err) => {\n        if (abortctrl.signal.aborted) return;\n        const responseTime = performance.now() - startTime;\n        console.error(`${cr}API Error:${cr}${tab}URL: ${url}${cr}${tab}Msg: ${err.message}${cr}${tab}Code: 0`);\n        setResponse(([, s]) => [undefined, s.clone(\"ERROR\", \"\", 0, responseTime, rId)]);\n      });\n\n    return () => abortctrl.abort();\n  }, [rId]);\n\n  return [response[0], response[1], refresh];\n}\n\nexport function useAPI(url, customOptions) {\n  const organizationId = useContext(OrganizationContext);\n  const options = useMemo(\n    () => ({\n      ...customOptions,\n      headers: {\n        OrganizationID: organizationId || \"\",\n        ...customOptions?.headers,\n      },\n    }),\n    [customOptions, organizationId]\n  );\n  return useFetch(url, options);\n}\n","import { useAPI } from \"src/helpers/useFetch\";\n\nconst { useMemo, useState } = require(\"react\");\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => `failed to ${a} ${n}`,\n};\n\nfunction useProduct() {\n  const [[id, payload, method], setState] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"add\" && payload) return [\"/api/products\", { method: \"POST\", body: JSON.stringify(payload) }];\n    if (method === \"update\" && id && payload) return [`/api/products/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && id) return [`/api/products/${id}`, { method: \"DELETE\" }];\n    if (method === \"status change\" && payload && id)\n      return [`/api/v2/products/${id}/status`, { method: \"POST\", body: JSON.stringify(payload) }];\n\n    return [undefined, undefined];\n  }, [payload, method, id]);\n\n  const [, status] = useAPI(...opts);\n\n  const add = (payload) => setState([undefined, payload, \"add\"]);\n  const edit = (id, payload) => setState([id, payload, \"update\"]);\n  const save = (payload, id) => setState([id, payload, id ? \"update\" : \"add\"]);\n  const changeStatus = (id, payload) => setState([id, payload, \"status change\"]);\n  const del = (id) => setState([id, undefined, \"delete\"]);\n  const reset = () => setState([]);\n\n  if (method) {\n    status.action = method;\n    status.message = msgTemplate[status.code] ? msgTemplate[status.code](\"product\", method) + `: ${status.message}` : \"\";\n  }\n\n  return { add, edit, save, del, reset, changeStatus, status };\n}\n\nexport default useProduct;\n","export default function safeget(object, path, defaultVal) {\n  if (typeof object === \"undefined\" || object === null) {\n    return defaultVal;\n  }\n  if (path.length === 0) {\n    return object;\n  }\n\n  return safeget(object[path.shift()], path, defaultVal);\n}\n","import moment from \"moment\";\nimport safeget from \"./safeget\";\n\nconst defaultValues = {\n  string: \"\",\n  number: 0,\n  date: \"\",\n};\n\nexport default function sorter(field, compareType) {\n  const getValue =\n    typeof field === \"function\"\n      ? field\n      : (o) => safeget(o, field.split(\".\"), defaultValues[compareType]);\n  switch (compareType) {\n    case \"string\": {\n      return (a, b) => getValue(a).localeCompare(getValue(b));\n    }\n    case \"number\": {\n      return (a, b) => getValue(a) - getValue(b);\n    }\n    case \"date\": {\n      return (a, b) => moment(getValue(a)).diff(moment(getValue(b)));\n    }\n    default:\n      return (a, b) => 0;\n  }\n}\n","export default function includes(input, searchText) {\n  if (input === undefined || input === null) return false;\n\n  const trimmed = searchText.trim();\n  if (!trimmed) return true;\n\n  const stringified = typeof input === \"string\" ? input : JSON.stringify(input);\n\n  return stringified.toLowerCase().includes(trimmed.toLowerCase().toString());\n}\n","import includes from \"./includes\";\nimport safeget from \"./safeget\";\n\nexport default function listsearch(list, fields, searchText) {\n  if (!searchText) return list;\n  if (fields === \"*\") return list.filter((item) => includes(item, searchText));\n  return list.filter((item) =>\n    fields.some((f) => includes(safeget(item, f.split(\".\"), \"\"), searchText))\n  );\n}\n","import { useState, useMemo, useEffect, useRef } from \"react\";\nimport sorter from \"src/helpers/sorter\";\nimport listsearch from \"src/helpers/listsearch\";\nimport { useAPI } from \"src/helpers/useFetch\";\nconst perPage = 10;\n\nconst initialState = {\n  searchText: \"\",\n  currentPage: 1,\n  sort: { by: undefined, direction: undefined },\n  predicate: undefined,\n  values: {},\n};\n\n// function useDidUpdate(fn, deps) {\n//   const didMount = useRef(false);\n\n//   useEffect(() => {\n//     if (!didMount.current) {\n//       didMount.current = true;\n//       return;\n//     }\n\n//     fn();\n//   }, deps);\n// }\n\nconst getComparator = (by, direction) => (a, b) => {\n  const fn = sorter(by, typeof a[by]);\n  return direction === \"descending\" ? fn(b, a) : fn(a, b);\n};\nconst defaultResponse = { data: [], pageCount: 0, total: 0 };\nfunction useList(url, searchFields, transform, filterFields = {}, filterPredicate) {\n  const [filters, setFilters] = useState(\n    filterPredicate ? { ...initialState, values: filterFields, filterer: filterPredicate } : initialState\n  );\n\n  const [{ data, total } = defaultResponse, status, refresh] = useAPI(url);\n  const search = (searchText) =>\n    setFilters((filters) => ({\n      ...filters,\n      searchText,\n      currentPage: 1,\n      sort: { by: undefined, direction: undefined },\n    }));\n  const goto = (pageNo) => setFilters((f) => ({ ...f, currentPage: pageNo }));\n  const sort = (by, direction) => setFilters((f) => ({ ...f, currentPage: 1, sort: { by, direction } }));\n  const setPredicate = (fn) => setFilters((f) => ({ ...f, predicate: fn }));\n\n  const handlers = useMemo(() => {\n    const handlers = {};\n\n    for (const field in filters.values) {\n      if (Object.prototype.hasOwnProperty.call(filters.values, field)) {\n        handlers[field] = (value) =>\n          setFilters((filterConfig) => ({ ...filterConfig, values: { ...filterConfig.values, [field]: value } }));\n      }\n    }\n    return handlers;\n  }, [filters.values]);\n\n  const transformed = useMemo(() => (transform ? data.map(transform) : data), [transform, data]);\n  const filtered = useMemo(() => {\n    if (!filters.filterer) return filters.predicate ? transformed.filter(filters.predicate) : transformed;\n\n    return transformed.filter(filters.filterer(filters.values));\n  }, [transformed, filters]);\n\n  const searched = useMemo(() => listsearch(filtered, searchFields, filters.searchText), [\n    filtered,\n    searchFields,\n    filters.searchText,\n  ]);\n\n  const sorted = useMemo(\n    () => (filters.sort.by ? [...searched.sort(getComparator(filters.sort.by, filters.sort.direction))] : searched),\n    [searched, filters.sort.by, filters.sort.direction]\n  );\n\n  const paginated = useMemo(() => sorted.slice((filters.currentPage - 1) * perPage, filters.currentPage * perPage), [\n    sorted,\n    filters.currentPage,\n  ]);\n\n  useEffect(() => {\n    if (data.length > 0) {\n      setFilters(filterPredicate ? { ...initialState, filterer: filterPredicate, values: filterFields } : initialState);\n    }\n  }, [data, filterPredicate]);\n\n  return [\n    paginated,\n    { total, pages: Math.ceil(searched.length / perPage), all: sorted },\n    search,\n    goto,\n    sort,\n    { ...filters, setPredicate, handlers },\n    status,\n    refresh,\n  ];\n}\n\nexport default useList;\n","import useList from \"./useList\";\n\nfunction useListv2(url, searchFields, transform, filterFields, filterPredicate) {\n  const [data, { total, pages, all }, search, goto, sort, filters, status, refresh] = useList(\n    url,\n    searchFields,\n    transform,\n    filterFields,\n    filterPredicate\n  );\n  return { data, total, pages, all, search, goto, sort, filters, status, refresh };\n}\n\nexport default useListv2;\n","import useListv2 from \"src/helpers/useListv2\";\n\nconst searchFields = \"*\";\n\nfunction useProductList(opts, filterFields, filterPredicate) {\n  const s = new URLSearchParams(opts);\n  s.append(\"showAll\", \"true\");\n\n  return useListv2(`/api/v2/products?${s.toString()}`, searchFields, undefined, filterFields, filterPredicate);\n}\n\nexport default useProductList;\n","import { useAPI } from \"src/helpers/useFetch\";\n\nfunction useClientOptions() {\n  const [{ data: users } = { data: [] }, status, refresh] = useAPI(`/api/clients`);\n  const clients = users.map(({ _id, firstName, lastName }) => ({ value: _id, label: `${firstName} ${lastName}` }));\n  return { options: clients, status, refresh };\n}\n\nexport default useClientOptions;\n","import { useAPI } from \"src/helpers/useFetch\";\n\nconst { useMemo, useState } = require(\"react\");\n\nconst entityName = \"order\";\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => `failed to ${a} ${n}`,\n};\n\nfunction useOrder() {\n  const [[id, payload, method], setState] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"create\" && payload) return [\"/api/orders\", { method: \"POST\", body: JSON.stringify(payload) }];\n    if (method === \"update\" && id && payload) return [`/api/v2/orders/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && id) return [`/api/orders/${id}`, { method: \"DELETE\" }];\n    if (method === \"status change\" && payload && id)\n      return [`/api/orders/${id}/status`, { method: \"POST\", body: JSON.stringify(payload) }];\n\n    return [undefined, undefined];\n  }, [payload, method, id]);\n\n  const [, status] = useAPI(...opts);\n\n  const add = (payload) => setState([undefined, payload, \"create\"]);\n  const edit = (id, payload) => setState([id, payload, \"update\"]);\n  const save = (id, payload) => setState([id, payload, id ? \"update\" : \"create\"]);\n  const changeStatus = (id, payload) => setState([id, payload, \"status change\"]);\n  const del = (id) => setState([id, undefined, \"delete\"]);\n  const reset = () => setState([]);\n\n  if (method) {\n    status.action = method;\n    status.message = msgTemplate[status.code] ? msgTemplate[status.code](entityName, method) + `: ${status.message}` : \"\";\n  }\n\n  return { add, edit, save, del, reset, changeStatus, status };\n}\n\nexport default useOrder;\n","import useListv2 from \"src/helpers/useListv2\";\n\nconst searchFields = \"*\";\n\nfunction useTaskList(opts) {\n  const s = new URLSearchParams(opts);\n  s.append(\"showAll\", \"true\");\n  return useListv2(`/api/v2/tasks?${s.toString()}`, searchFields);\n}\n\nexport default useTaskList;\n","import useListv2 from \"src/helpers/useListv2\";\nimport { useCallback } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nconst searchFields = \"*\";\n\nexport const orderProcesses = [\n  \"None\",\n  \"New\",\n  \"Preparation\",\n  \"Production\",\n  \"Quality\",\n  \"Finishing\",\n  \"Completed\",\n  \"Delivered | Returned\",\n  \"Concluded\",\n  \"Canceled\",\n];\n\nexport const paymentStatuses = [\"None\", \"Open\", \"Partial\", \"Closed\", \"Quotation\"];\n\nexport const statuses = {\n  1: \"Open\",\n  2: \"Partial\",\n  3: \"Closed\",\n  4: \"Quotation\",\n};\n\nfunction useOrders(opts) {\n  const { t } = useTranslation([\"translation\"]);\n  // allows searching by processStatus and status\n  const transform = useCallback(\n    (o) => ({ ...o, _processStatus: t(orderProcesses[o.processStatus]), _status: t(statuses[o.status]) }),\n    [t]\n  );\n\n  const s = new URLSearchParams(opts);\n  s.append(\"showAll\", \"true\");\n  return useListv2(`/api/orders?${s.toString()}`, searchFields, transform);\n}\n\nexport default useOrders;\n","import useListv2 from \"src/helpers/useListv2\";\n\nconst searchFields = \"*\";\n\nfunction useExpenses(opts) {\n  const s = new URLSearchParams(opts);\n  s.append(\"showAll\", \"true\");\n  return useListv2(`/api/expenses?${s.toString()}`, searchFields);\n}\n\nexport default useExpenses;\n","import { useAPI } from \"src/helpers/useFetch\";\n\nconst { useMemo, useState } = require(\"react\");\n\nconst entityName = \"task\";\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => `failed to ${a} ${n}`,\n};\n\nfunction useTask(getID) {\n  const [[id, payload, method], setState] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"create\" && payload) return [\"/api/v2/tasks\", { method: \"POST\", body: JSON.stringify(payload) }];\n    if (method === \"update\" && id && payload) return [`/api/v2/tasks/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && id) return [`/api/v2/tasks/${id}`, { method: \"DELETE\" }];\n    if (method === \"status change\" && payload && id)\n      return [`/api/v2/tasks/${id}/status`, { method: \"POST\", body: JSON.stringify(payload) }];\n\n    return [undefined, undefined];\n  }, [payload, method, id]);\n\n  const [{ data } = {}, getStatus] = useAPI(getID ? `/api/v2/tasks/${getID}` : undefined);\n  const [, status] = useAPI(...opts);\n\n  const add = (payload) => setState([undefined, payload, \"create\"]);\n  const edit = (id, payload) => setState([id, payload, \"update\"]);\n  const save = (id, payload) => setState([id, payload, id ? \"update\" : \"create\"]);\n  const changeStatus = (id, payload) => setState([id, payload, \"status change\"]);\n  const del = (id) => setState([id, undefined, \"delete\"]);\n  const reset = () => setState([]);\n\n  if (method) {\n    status.action = method;\n    status.message = msgTemplate[status.code] ? msgTemplate[status.code](entityName, method) + `: ${status.message}` : \"\";\n  }\n\n  return { data, add, edit, save, del, reset, changeStatus, status, getStatus };\n}\n\nexport default useTask;\n","import { useAPI } from \"src/helpers/useFetch\";\n\nconst { useMemo, useState } = require(\"react\");\n\nconst entityName = \"task\";\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => `failed to ${a} ${n}`,\n};\n\nfunction useOrganization() {\n  const [[id, payload, method], setState] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"create\" && payload) return [\"/api/orgs\", { method: \"POST\", body: JSON.stringify(payload) }];\n    if (method === \"update\" && id && payload) return [`/api/orgs/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && id) return [`/api/orgs/${id}`, { method: \"DELETE\" }];\n\n    return [undefined, undefined];\n  }, [payload, method, id]);\n\n  const [, status] = useAPI(...opts);\n\n  const add = (payload) => setState([undefined, payload, \"create\"]);\n  const edit = (id, payload) => setState([id, payload, \"update\"]);\n  const save = (id, payload) => setState([id, payload, id ? \"update\" : \"create\"]);\n\n  const del = (id) => setState([id, undefined, \"delete\"]);\n  const reset = () => setState([]);\n\n  if (method) {\n    status.action = method;\n    status.message = msgTemplate[status.code] ? msgTemplate[status.code](entityName, method) + `: ${status.message}` : \"\";\n  }\n\n  return { add, edit, save, del, reset, status };\n}\n\nexport default useOrganization;\n","import { useAPI } from \"src/helpers/useFetch\";\n\nfunction useStaffOptions(organizationId) {\n  const [{ data } = { data: [] }, status] = useAPI(\"/api/admins\");\n\n  return {\n    data: data\n      .filter(\n        ({ organizationIds, roleNumber }) =>\n          (organizationId ? organizationIds.includes(organizationId) : true) && roleNumber === 3\n      )\n      .map(({ _id, firstName, lastName }) => ({ value: _id, label: `${firstName} ${lastName}` })),\n    status,\n  };\n}\n\nexport default useStaffOptions;\n","import useListv2 from \"src/helpers/useListv2\";\n\nconst searchFields = \"*\";\n\nfunction useCategories() {\n  return useListv2(`/api/categories?showAll=true`, searchFields);\n}\n\nexport default useCategories;\n","import { useTranslation } from \"react-i18next\";\nimport { useAPI } from \"src/helpers/useFetch\";\n\nfunction useServiceStatusOptions() {\n  const { t } = useTranslation([\"translation\"]);\n  const [data, status] = useAPI(\"/api/v2/products/statuses\");\n\n  return { data: (data || []).map((s) => ({ value: s, text: t(s) })), status };\n}\n\nexport default useServiceStatusOptions;\n","import useListv2 from \"src/helpers/useListv2\";\n\nconst searchFields = \"*\";\n\nfunction useDepartments() {\n  return useListv2(`/api/departments?showAll=true`, searchFields);\n}\n\nexport default useDepartments;\n","import useListv2 from \"src/helpers/useListv2\";\n\nconst searchFields = \"*\";\n\nfunction useBrands() {\n  return useListv2(`/api/brands?showAll=true`, searchFields);\n}\n\nexport default useBrands;\n","import useListv2 from \"src/helpers/useListv2\";\n\nconst searchFields = \"*\";\n\nfunction useSubcategories() {\n  return useListv2(`/api/subcategories?showAll=true`, searchFields);\n}\n\nexport default useSubcategories;\n","import { useMemo, useState } from \"react\";\nimport { useAPI } from \"src/helpers/useFetch\";\n\nconst entityName = \"brand\";\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => `failed to ${a} ${n}`,\n};\n\nfunction useBrand(getID) {\n  const [[id, payload, method], setState] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"create\" && payload) return [\"/api/v2/brands\", { method: \"POST\", body: JSON.stringify(payload) }];\n    if (method === \"update\" && id && payload) return [`/api/brands/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && id) return [`/api/brands/${id}`, { method: \"DELETE\" }];\n\n    return [undefined, undefined];\n  }, [payload, method, id]);\n\n  const [{ data } = {}, getStatus] = useAPI(getID ? `/api/brands/${getID}` : undefined);\n  console.log(\"opts :>> \", opts);\n  const [, status] = useAPI(...opts);\n\n  const add = (payload) => setState([undefined, payload, \"create\"]);\n  const edit = (id, payload) => setState([id, payload, \"update\"]);\n  const save = (id, payload) => setState([id, payload, id ? \"update\" : \"create\"]);\n  const del = (id) => setState([id, undefined, \"delete\"]);\n  const reset = () => setState([]);\n\n  if (method) {\n    status.action = method;\n    status.message = msgTemplate[status.code] ? msgTemplate[status.code](entityName, method) + `: ${status.message}` : \"\";\n  }\n\n  return { data, add, edit, save, del, reset, status, getStatus };\n}\n\nexport default useBrand;\n","import useDepartments from \"./useDepartments\";\n\nfunction useDepartmentOptions() {\n  const { all: departments, status } = useDepartments();\n  const departmentOptions = departments.map(({ _id, title, organizationId }) => ({\n    value: _id,\n    text: title,\n    label: title,\n    organizationId,\n  }));\n\n  return { options: departmentOptions, status };\n}\n\nexport default useDepartmentOptions;\n","import useListv2 from \"src/helpers/useListv2\";\n\nconst searchFields = \"*\";\n\nfunction useModels() {\n  return useListv2(`/api/models?showAll=true`, searchFields);\n}\n\nexport default useModels;\n","import { useMemo, useState } from \"react\";\nimport { useAPI } from \"src/helpers/useFetch\";\n\nconst entityName = \"department\";\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => `failed to ${a} ${n}`,\n};\n\nfunction useDepartment(getID) {\n  const [[id, payload, method], setState] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"create\" && payload) return [\"/api/v2/departments\", { method: \"POST\", body: JSON.stringify(payload) }];\n    if (method === \"update\" && id && payload)\n      return [`/api/v2/departments/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && id) return [`/api/departments/${id}`, { method: \"DELETE\" }];\n\n    return [undefined, undefined];\n  }, [payload, method, id]);\n\n  const [{ data } = {}, getStatus] = useAPI(getID ? `/api/tasks/${getID}` : undefined);\n  const [, status] = useAPI(...opts);\n\n  const add = (payload) => setState([undefined, payload, \"create\"]);\n  const edit = (id, payload) => setState([id, payload, \"update\"]);\n  const save = (payload, id) => setState([id, payload, id ? \"update\" : \"create\"]);\n  const del = (id) => setState([id, undefined, \"delete\"]);\n  const reset = () => setState([]);\n\n  if (method) {\n    status.action = method;\n    status.message = msgTemplate[status.code] ? msgTemplate[status.code](entityName, method) + `: ${status.message}` : \"\";\n  }\n\n  return { data, add, edit, save, del, reset, status, getStatus };\n}\n\nexport default useDepartment;\n","import { useMemo } from \"react\";\nimport { useState } from \"react\";\nimport { useAPI } from \"src/hooks\";\n\nfunction useLogin() {\n  const [payload, setPayload] = useState();\n\n  const opts = useMemo(\n    () => [payload ? \"/api/v2/auth/login\" : undefined, payload ? { method: \"POST\", body: JSON.stringify(payload) } : undefined],\n    [payload]\n  );\n\n  const [data, status] = useAPI(...opts);\n\n  return { data, login: setPayload, status };\n}\n\nexport default useLogin;\n","import useListv2 from \"src/helpers/useListv2\";\n\nconst searchFields = \"*\";\n\nfunction useClients() {\n  return useListv2(`/api/clients?showAll=true`, searchFields);\n}\n\nexport default useClients;\n","import { useMemo, useState } from \"react\";\nimport { useAPI } from \"src/helpers/useFetch\";\n\nconst entityName = \"client\";\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => `failed to ${a} ${n}`,\n};\n\nfunction useClient(getID) {\n  const [[id, payload, method], setState] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"create\" && payload) return [\"/api/v2/clients\", { method: \"POST\", body: JSON.stringify(payload) }];\n    if (method === \"update\" && id && payload) return [`/api/clients/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && id) return [`/api/clients/${id}`, { method: \"DELETE\" }];\n\n    return [undefined, undefined];\n  }, [payload, method, id]);\n\n  const [{ data } = {}, getStatus] = useAPI(getID ? `/api/clients/${getID}` : undefined);\n\n  const [{ _id: insertedId } = {}, status] = useAPI(...opts);\n\n  const add = (payload) => setState([undefined, payload, \"create\"]);\n  const edit = (id, payload) => setState([id, payload, \"update\"]);\n  const save = (payload, id) => setState([id, payload, id ? \"update\" : \"create\"]);\n  const del = (id) => setState([id, undefined, \"delete\"]);\n  const reset = () => setState([]);\n\n  if (method) {\n    status.action = method;\n    status.message = msgTemplate[status.code] ? msgTemplate[status.code](entityName, method) + `: ${status.message}` : \"\";\n  }\n\n  return { insertedId, data, add, edit, save, del, reset, status, getStatus };\n}\n\nexport default useClient;\n","import { useAPI } from \"src/hooks\";\n\nfunction useRoles() {\n  return useAPI(\"/api/v2/roles\");\n}\n\nexport default useRoles;\n","import { useAPI } from \"src/helpers/useFetch\";\n\nconst { useMemo, useState } = require(\"react\");\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => `failed to ${a} ${n}`,\n};\n\nfunction useProductv2() {\n  const [[id, payload, method], setState] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"add\" && payload) return [\"/api/v2/products\", { method: \"POST\", body: JSON.stringify(payload) }];\n    if (method === \"update\" && id && payload)\n      return [`/api/v2/products/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && id) return [`/api/products/${id}`, { method: \"DELETE\" }];\n    if (method === \"status change\" && payload && id)\n      return [`/api/v2/products/${id}/status`, { method: \"POST\", body: JSON.stringify(payload) }];\n\n    return [undefined, undefined];\n  }, [payload, method, id]);\n\n  const [, status] = useAPI(...opts);\n\n  const add = (payload) => setState([undefined, payload, \"add\"]);\n  const edit = (id, payload) => setState([id, payload, \"update\"]);\n  const save = (payload, id) => setState([id, payload, id ? \"update\" : \"add\"]);\n  const changeStatus = (id, payload) => setState([id, payload, \"status change\"]);\n  const del = (id) => setState([id, undefined, \"delete\"]);\n  const reset = () => setState([]);\n\n  if (method) {\n    status.action = method;\n    status.message = msgTemplate[status.code] ? msgTemplate[status.code](\"product\", method) + `: ${status.message}` : \"\";\n  }\n\n  return { add, edit, save, del, reset, changeStatus, status };\n}\n\nexport default useProductv2;\n","import { useAPI } from \"src/helpers/useFetch\";\n\nconst { useMemo, useState } = require(\"react\");\n\nfunction useQuotationToOrder() {\n  const [id, setId] = useState();\n  const opts = useMemo(() => {\n    if (id) return [`/api/v2/orders/${id}/to-order`, { method: \"POST\" }];\n\n    return [undefined, undefined];\n  }, [id]);\n\n  const [, status] = useAPI(...opts);\n\n  return { status, convert: setId };\n}\n\nexport default useQuotationToOrder;\n","import { useAPI } from \"src/helpers/useFetch\";\nexport { useAPI } from \"src/helpers/useFetch\";\nexport { default as useFetch } from \"src/helpers/useFetch\";\nexport { default as useProduct } from \"./useProduct\";\nexport { default as useServiceList } from \"./useServiceList\";\nexport { default as useProductList } from \"./useProductList\";\nexport { default as useClientOptions } from \"./useClientOptions\";\nexport { default as useOrder } from \"./useOrder\";\nexport { default as useTaskList } from \"./useTaskList\";\nexport { default as useOrders } from \"./useOrders\";\nexport { default as useExpenses } from \"./useExpenses\";\nexport { statuses as orderStatuses } from \"./useOrders\";\nexport { orderProcesses } from \"./useOrders\";\nexport { default as useTask } from \"./useTask\";\nexport { default as useOrganization } from \"./useOrganization\";\nexport { default as useStaffOptions } from \"./useStaffOptions\";\nexport { default as useCategories } from \"./useCategories\";\nexport { default as useServiceStatusOptions } from \"./useServiceStatusOptions\";\nexport { default as useDepartments } from \"./useDepartments\";\nexport { default as useBrands } from \"./useBrands\";\nexport { default as useSubcategories } from \"./useSubcategories\";\nexport { default as useBrand } from \"./useBrand\";\nexport { default as useDepartmentOptions } from \"./useDepartmentOptions\";\nexport { default as useModels } from \"./useModels\";\nexport { default as useDepartment } from \"./useDepartment\";\nexport { default as useLogin } from \"./useLogin\";\nexport { default as useClients } from \"./useClients\";\nexport { default as useClient } from \"./useClient\";\nexport { default as useRoles } from \"./useRoles\";\nexport { default as useProductv2 } from \"./useProductv2\";\nexport { default as useQuotationToOrder } from \"./useQuotationToOrder\";\n\nexport function useDepartmentsWithProfits(organizationId) {\n  const [departments = [], status, refresh] = useAPI(\"/api/departments-with-profits\");\n  const filteredDepartments = departments.filter((o) => (organizationId ? o.organizationId === organizationId : true));\n  return [filteredDepartments, status, refresh];\n}\n\nconst noOrgHeader = { headers: { OrganizationID: \"\" } };\nexport function useOrganizations() {\n  const [{ data: organizations } = { data: [] }, status, refresh] = useAPI(\"/api/v2/organizations\", noOrgHeader);\n\n  return [organizations, status, refresh];\n}\n\nexport function useCheques() {\n  const [{ data: cheques } = { data: [] }, status, refresh] = useAPI(\"/api/cheques\");\n\n  return [cheques, status, refresh];\n}\n\nexport function useNewCheques(organizationId) {\n  const [cheques, status, refresh] = useCheques();\n  const newCheques = cheques.filter((c) => c.status === \"new\" && (organizationId ? c.organizationId === organizationId : true));\n  return [newCheques, status, refresh];\n}\n\nexport function useBrandOptions(organizationId) {\n  // const options = useMemo(\n  //   () =>\n  //     organizationId\n  //       ? { headers: { OrganizationID: organizationId } }\n  //       : undefined,\n  //   [organizationId]\n  // );\n  const [{ data: brands } = { data: [] }, status, refresh] = useAPI(\"/api/brands\");\n  const brandOptions = brands\n    .filter((o) => (organizationId ? o.organizationId === organizationId : true))\n    .map(({ _id, title, departmentId }) => ({\n      value: _id,\n      text: title,\n      label: title,\n      departmentId,\n    }));\n\n  return [brandOptions, status, refresh];\n}\nexport function useModelOptions(organizationId) {\n  const [{ data: models } = { data: [] }, status, refresh] = useAPI(\"/api/models\");\n  const modelOptions = models\n    .filter((o) => (organizationId ? o.organizationId === organizationId : true))\n    .map(({ _id, title, brandId }) => ({\n      value: _id,\n      text: title,\n      brandId,\n    }));\n\n  return [modelOptions, status, refresh];\n}\nexport function useCategoryOptions(organizationId) {\n  const [{ data: categories } = { data: [] }, status, refresh] = useAPI(\"/api/categories\");\n  const categoryOptions = categories\n    .filter((o) => (organizationId ? o.organizationId === organizationId : true))\n    .map(({ _id, title, departmentId }) => ({\n      value: _id,\n      text: title,\n      departmentId,\n    }));\n\n  return [categoryOptions, status, refresh];\n}\n\nexport function useCategoryOptionsAntdv2(organizationId) {\n  const [categoryOptions, status, refresh] = useCategoryOptions(organizationId);\n\n  return { options: categoryOptions.map((o) => ({ ...o, label: o.text })), status, refresh };\n}\n\nexport function useSubCategoryOptions(organizationId) {\n  const [{ data: subCategories } = { data: [] }, status, refresh] = useAPI(\"/api/subcategories\");\n  const subCategoryOptions = subCategories\n    .filter((o) => (organizationId ? o.organizationId === organizationId : true))\n    .map(({ _id, title, categoryId }) => ({\n      value: _id,\n      text: title,\n      categoryId,\n    }));\n\n  return [subCategoryOptions, status, refresh];\n}\n\nexport function useProviderOptions() {\n  const [{ data: users } = { data: [] }, status, refresh] = useAPI(\"/api/admins\");\n  const providerOptions = users\n    .filter((u) => u.roleNumber === 5)\n    .map(({ _id, name }) => ({\n      value: _id,\n      text: name,\n      label: name,\n    }));\n  return { options: providerOptions, status, refresh };\n}\n\nexport function useSubCategoryOptionsAntdv2(organizationId) {\n  const [subCategoryOptions, status, refresh] = useSubCategoryOptions(organizationId);\n\n  return { options: subCategoryOptions.map((o) => ({ ...o, label: o.text })), status, refresh };\n}\n","import React, { useContext, useEffect } from \"react\";\nimport Logo from \"src/components/Logo\";\nimport { Header, Message } from \"semantic-ui-react\";\nimport { Link, navigate } from \"@reach/router\";\nimport LoginForm from \"src/components/LoginForm/\";\nimport { useLogin } from \"src/hooks\";\nimport { UserContext } from \"src/contexts\";\nimport \"./styles.scss\";\nimport { message } from \"antd\";\n\nconst LoginPage = ({ onLogin }) => {\n  const { token } = useContext(UserContext);\n  const { data: { token: newToken } = {}, login, status } = useLogin();\n\n  useEffect(() => {\n    if (status.isSuccess) {\n      onLogin(newToken);\n    } else if (status.isError) {\n      message.error(status.message || \"failed to login\");\n    }\n  }, [status, newToken, onLogin]);\n\n  useEffect(() => {\n    if (token) navigate(\"/\");\n  }, [token]);\n\n  return (\n    <div style={{ height: \"100%\" }}>\n      <div className=\"login-container\">\n        <div style={{ maxWidth: \"90%\", margin: \"10% auto auto auto\", width: 400 }}>\n          <Logo />\n          <Header as=\"h2\" color=\"teal\" textAlign=\"center\">\n            Acessar Sua Conta\n          </Header>\n          <LoginForm onSubmit={login} />\n          <Message>\n            Encontrou algum problema?{\" \"}\n            <Link exact to=\"/registration\">\n              Fale com o suporte\n            </Link>\n          </Message>\n        </div>\n        <div className=\"aside\">\n          <div\n            style={{\n              backgroundImage: 'url(\"/login-cover-bg.jpg\")',\n              backgroundRepeat: \"no-repeat\",\n              backgroundSize: \"cover\",\n              height: \"100%\",\n            }}\n          >\n            <div class=\"text-right\" style={{ padding: 16 }}>\n              <h2>GR</h2>\n            </div>\n            <div class=\"ant-row ant-row-center\">\n              <div class=\"ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-0 ant-col-lg-20\">\n                <img class=\"img-fluid mb-5\" style={{ maxWidth: \"100%\", marginBottom: 32 }} src=\"/login-cover.png\" alt=\"\" />\n                <h1 class=\"text-white\" style={{ fontWeight: \"bold\" }}>\n                  Bem vindo ao GR\n                </h1>\n                {/* <p class=\"text-white\">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus\n                ullamcorper nisl erat, vel convallis elit fermentum\n                pellentesque.\n              </p> */}\n              </div>\n            </div>\n            <div style={{ display: \"flex\", justifyContent: \"flex-end\", padding: 32 }}>\n              <a class=\"text-white\" href=\"/#\">\n                Termo &amp; Condies\n              </a>\n              <span class=\"text-white\" style={{ margin: \"0 8px\" }}>\n                {\" \"}\n                |{\" \"}\n              </span>\n              <a class=\"text-white\" href=\"/#\">\n                Privacidade &amp; Poltica\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n","import React from 'react';\nimport { Dimmer, Loader } from 'semantic-ui-react';\n\nconst Spinner = () => (\n  <Dimmer active inverted>\n    <Loader size=\"massive\" inverted />\n  </Dimmer>\n);\n\nexport default Spinner;\n","import * as queryString from \"query-string\";\n\nfunction getFetchUrl(args) {\n  return args.endpoint + (args.query ? `?${queryString.stringify(args.query)}` : \"\");\n}\n\nfunction getFetchArgs(args) {\n  const headers = {};\n  if (!args.attachment) {\n    headers[\"Content-Type\"] = \"application/json\";\n    headers.Accept = \"application/json\";\n  }\n  if (args?.organizationId) {\n    headers[\"OrganizationID\"] = args.organizationId || \"\";\n  }\n  const token = localStorage.getItem(\"token\");\n  if (token && !args.skipAuthorization) {\n    headers.Authorization = `Bearer ${token}`;\n  }\n  let body;\n  if (args.attachment) {\n    if (args.type === \"GET\") {\n      throw new Error(\"GET request does not support attachments.\");\n    }\n    const formData = new FormData();\n    formData.append(\"file\", args.attachment);\n    body = formData;\n  } else if (args.request) {\n    if (args.type === \"GET\") {\n      throw new Error(\"GET request does not support request body.\");\n    }\n    body = JSON.stringify(args.request);\n  }\n  return {\n    method: args.type,\n    headers,\n    signal: args.ct,\n    ...(args.request === \"GET\" ? {} : { body }),\n  };\n}\n\nexport async function throwIfResponseFailed(res) {\n  if (!res.ok) {\n    if (res.status === 401) {\n      localStorage.removeItem(\"token\");\n\n      // localStorage.clear()\n    }\n    let parsedException = \"Something went wrong with request!\";\n    try {\n      parsedException = await res.json();\n    } catch (err) {\n      //\n    }\n    throw parsedException;\n  }\n}\n\nexport default async function callWebApi(args) {\n  const res = await fetch(getFetchUrl(args), getFetchArgs(args));\n  await throwIfResponseFailed(res);\n  return res;\n}\n","import callWebApi from \"../helpers/webApiHelper\";\n\nexport const getProducts = async (args) => {\n  const response = await callWebApi({\n    endpoint: \"/api/products\",\n    type: \"GET\",\n  });\n  return response.json();\n};\nexport const getProductStats = async () => {\n  const response = await callWebApi({\n    endpoint: \"/api/products-stats\",\n    type: \"GET\",\n  });\n  return response.json();\n};\nexport const getProduct = async (id) => {\n  const response = await callWebApi({\n    endpoint: `/api/products/${id}`,\n    type: \"GET\",\n  });\n  return response.json();\n};\nexport const getProductImages = async (id) => {\n  const response = await callWebApi({\n    endpoint: `/api/products/${id}/images`,\n    type: \"GET\",\n  });\n  return response.json();\n};\nexport const createProduct = async (request, organizationId) => {\n  const response = await callWebApi({\n    endpoint: \"/api/products\",\n    type: \"POST\",\n    request,\n    organizationId,\n  });\n  return response.json();\n};\n\nexport const updateProduct = async (id, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/products/${id}`,\n    type: \"PUT\",\n    request,\n  });\n  return response.json();\n};\n\nexport const deleteProduct = async (id) => {\n  const response = await callWebApi({\n    endpoint: `/api/products/${id}`,\n    type: \"DELETE\",\n  });\n  return response.json();\n};\n\nexport const deleteProductImage = async (prodId, imageId) => {\n  const response = await callWebApi({\n    endpoint: `/api/products/${prodId}/images/${imageId}`,\n    type: \"DELETE\",\n  });\n  return response.json();\n};\n\nexport const updateProductImage = async (prodId, imageId, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/products/${prodId}/images/${imageId}`,\n    type: \"PUT\",\n    request,\n  });\n  return response.json();\n};\n","import React, { useState } from \"react\";\nimport { Button, Icon, Modal } from \"semantic-ui-react\";\nimport { deleteProduct } from \"../../../services/productService\";\n\nconst DeleteProduct = ({ title, id, addToast, loadProducts }) => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const removeProduct = () => {\n    deleteProduct(id)\n      .then((resp) => {\n        addToast(`Produto deleted successfully`, { appearance: \"success\" });\n      })\n      .catch((err) => {\n        if (err.message !== \"\") {\n          addToast(\"Could not delete product: \" + err.message, {\n            appearance: \"error\",\n          });\n        } else {\n          addToast(\"Something went wrong\", { appearance: \"error\" });\n        }\n      })\n      .finally(() => {\n        toggleModal();\n        loadProducts();\n      });\n  };\n\n  const toggleModal = () => {\n    setIsModalOpen(!isModalOpen);\n  };\n  return (\n    <Modal\n      trigger={\n        <Button className=\"table-action-btn\" onClick={toggleModal}>\n          <Icon name=\"trash\" />\n        </Button>\n      }\n      open={isModalOpen}\n      closeIcon\n    >\n      <Modal.Header>Delete a product</Modal.Header>\n      <Modal.Content>\n        <h4>Are you sure you want to delete product {`\"${title}\"`}?</h4>\n        <Button color=\"red\" inverted onClick={removeProduct}>\n          <Icon name=\"remove\" /> Delete\n        </Button>\n        <Button color=\"blue\" inverted onClick={toggleModal}>\n          <Icon name=\"checkmark\" /> Cancel\n        </Button>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nexport default DeleteProduct;\n","import React from \"react\";\nimport moment from \"moment\";\n\nexport const formatNumber = (number) => {\n  const f = Number(number);\n  return f.toLocaleString(\"pt-BR\");\n};\n\nexport const formatDate = (timestamp) => {\n  return timestamp ? moment(timestamp * 1000).format(\"DD/MM/YYYY\") : \"-\";\n};\n\nfunction AlertWrapper({ style, alert, children }) {\n  return (\n    <span\n      style={{\n        ...(alert && {\n          backgroundColor: alert ? \"yellow\" : \"none\",\n          fontWeight: \"bold\",\n          padding: 4,\n        }),\n        ...style,\n      }}\n    >\n      {alert ? \"  \" : \"\"}\n      {children}\n    </span>\n  );\n}\n\nexport const stringifyOrderStatus = (t, status, alert = false) => {\n  switch (status) {\n    case 1:\n      return (\n        <AlertWrapper alert={alert} style={{ color: \"green\" }}>\n          {t(\"Open\")}\n        </AlertWrapper>\n      );\n    case 2:\n      return (\n        <AlertWrapper alert={alert} style={{ color: \"orange\" }}>\n          {t(\"Partial\")}\n        </AlertWrapper>\n      );\n    case 3:\n      return (\n        <AlertWrapper alert={alert} style={{ color: \"blue\" }}>\n          {t(\"Closed\")}\n        </AlertWrapper>\n      );\n    case 4:\n      return (\n        <AlertWrapper alert={alert} style={{ color: \"violet\" }}>\n          {t(\"Quotation\")}\n        </AlertWrapper>\n      );\n    default:\n      return <p>{t(\"Unknown\")}</p>;\n  }\n};\n","export default new Intl.NumberFormat(\"pt-BR\", {\n  style: \"currency\",\n  currency: \"BRL\",\n});\n","import React from \"react\";\nimport { useRef } from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Button, Confirm, Dropdown, Form, Modal } from \"semantic-ui-react\";\n\nfunction DropdownConfirmation({ onChange, options, defaultValue, children, color, size, basic }) {\n  const { t } = useTranslation([\"translation\"]);\n  const hasMounted = useRef();\n  const [confirmValue, setConfirmValue] = useState(undefined);\n  const [{ value, comment }, setValue] = useState({ value: defaultValue });\n  const handleChange = (event, data) => {\n    const opt = data.options.find(({ value }) => value === data.value);\n    if (opt.confirm || opt.confirmWithComment) {\n      setConfirmValue(opt);\n    } else {\n      setValue({ value: data.value });\n    }\n  };\n  const handleSubmit = (e, data) => {\n    setValue({\n      value: confirmValue.value,\n      comment: e.target.elements.comment.value,\n    });\n  };\n  const confirm = () => {\n    onChange(undefined, { value: confirmValue.value, comment });\n    setConfirmValue(undefined);\n  };\n\n  useEffect(() => {\n    if (!hasMounted.current) {\n      hasMounted.current = true;\n      return;\n    }\n    onChange(undefined, { value, comment });\n  }, [value]);\n\n  return (\n    <>\n      <Dropdown\n        options={options}\n        onChange={handleChange}\n        value={value}\n        icon=\"\"\n        trigger={\n          <Button.Group color={color} size={size} basic={basic}>\n            <Button style={{ width: 80 }}>{children}</Button>\n            <Button icon=\"dropdown\" />\n          </Button.Group>\n        }\n      />\n      {confirmValue?.confirm && (\n        <Confirm\n          open\n          content={`${t(\"Are you sure you want to\")} ${confirmValue.text} ?`}\n          onCancel={() => setConfirmValue(undefined)}\n          onConfirm={confirm}\n          cancelButton={t(\"No\")}\n          confirmButton={t(\"Yes\")}\n        />\n      )}\n\n      {confirmValue?.confirmWithComment && (\n        <Modal closeIcon open onClose={() => setConfirmValue(undefined)}>\n          <Modal.Header>{t(\"Comment\")}</Modal.Header>\n          <Modal.Content>\n            <Form onSubmit={handleSubmit}>\n              <Form.TextArea name=\"comment\" label={t(\"Comment\")} maxLength={50} required />\n              <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n                <Button type=\"submit\" primary>\n                  {t(\"Submit\")}\n                </Button>\n              </div>\n            </Form>\n          </Modal.Content>\n        </Modal>\n      )}\n    </>\n  );\n}\n\nexport default DropdownConfirmation;\n","import React from \"react\";\n\nimport { Button, Icon, Pagination, Table } from \"semantic-ui-react\";\nimport DeleteProduct from \"../DeleteProduct\";\nimport { formatNumber } from \"../../../helpers/formatters\";\n\nimport currencyFormatter from \"../../../helpers/currencyFormatterPrefix\";\nimport { useServiceStatusOptions } from \"src/hooks\";\nimport DropdownConfirmation from \"src/components/DropdownConfirmation\";\nimport { useTranslation } from \"react-i18next\";\n\nconst statusColors = {\n  Available: \"teal\",\n  \"Not Available\": undefined,\n  \"On Hold\": \"blue\",\n};\n\nconst emptyPredicate = (o) => !!o;\n\nconst ProductsList = ({\n  products,\n  addToast,\n  showKitModal,\n  loadProducts,\n  setProductToEdit,\n  onPageChange,\n  pages,\n  changeStatus,\n  filters,\n}) => {\n  const { t } = useTranslation([\"translation\"]);\n  const { data: statusOptions } = useServiceStatusOptions();\n\n  const handleStatusChange = (id) => (_, data) => {\n    changeStatus(id, { status: data.value });\n  };\n\n  return (\n    <Table celled style={{ marginBottom: 30 }}>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell colspan={3}>{t(\"Actions\")}</Table.HeaderCell>\n          <Table.HeaderCell>{t(\"Title\")}</Table.HeaderCell>\n          <Table.HeaderCell>{t(\"Description\")}</Table.HeaderCell>\n          <Table.HeaderCell>{t(\"Total Units\")}</Table.HeaderCell>\n          <Table.HeaderCell>{t(\"Department\")}</Table.HeaderCell>\n          <Table.HeaderCell>{t(\"Brand\")}</Table.HeaderCell>\n          <Table.HeaderCell>{t(\"Cost\")}</Table.HeaderCell>\n          <Table.HeaderCell>{t(\"Price\")}</Table.HeaderCell>\n          <Table.HeaderCell>{t(\"Status\")}</Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n\n      <Table.Body>\n        {products.map((product) => (\n          <Table.Row key={product._id}>\n            <Table.Cell>\n              {product.kitProducts.length > 0 ? (\n                <Button className=\"table-action-btn\" onClick={() => showKitModal(product)}>\n                  <Icon name=\"pencil alternate\" />\n                </Button>\n              ) : (\n                <Button className=\"table-action-btn\" onClick={() => setProductToEdit(product)}>\n                  <Icon name=\"pencil alternate\" />\n                </Button>\n              )}\n            </Table.Cell>\n            <Table.Cell>\n              <a href={`/products/view/${product._id}`}>\n                <Icon name=\"eye \"></Icon>\n              </a>\n            </Table.Cell>\n            <Table.Cell>\n              <DeleteProduct title={product.title} id={product._id} addToast={addToast} loadProducts={loadProducts} />\n            </Table.Cell>\n            <Table.Cell>{product.title}</Table.Cell>\n            <Table.Cell>{product.description}</Table.Cell>\n            {product.isService ? (\n              <Table.Cell></Table.Cell>\n            ) : (\n              <Table.Cell>\n                {product.totalUnits <= (product.minStockThreshold || 0) && (\n                  <span style={{ fontFamily: \"Segoe UI Emoji\" }}> </span>\n                )}\n                {formatNumber(product.totalUnits)}\n              </Table.Cell>\n            )}\n            <Table.Cell>\n              {[product.department.title, product.category?.title, product.subcategory?.title].filter(emptyPredicate).join(\"/\")}\n            </Table.Cell>\n            <Table.Cell>{[product.brand.title, product.model?.title].filter(emptyPredicate).join(\"/\")}</Table.Cell>\n            <Table.Cell>{currencyFormatter.format(product.cost)}</Table.Cell>\n            <Table.Cell>{currencyFormatter.format(product.price)}</Table.Cell>\n\n            <Table.Cell>\n              {\n                <DropdownConfirmation\n                  options={statusOptions}\n                  onChange={handleStatusChange(product._id)}\n                  defaultValue={product.status}\n                  color={statusColors[product.status]}\n                  size=\"mini\"\n                  basic\n                >\n                  {t(product.status)}\n                </DropdownConfirmation>\n              }\n            </Table.Cell>\n          </Table.Row>\n        ))}\n      </Table.Body>\n\n      <Table.Footer>\n        <Table.Row>\n          <Table.HeaderCell colSpan=\"20\" style={{ textAlign: \"right\" }}>\n            <Pagination\n              activePage={filters.currentPage}\n              totalPages={pages}\n              onPageChange={(_, { activePage }) => onPageChange(activePage)}\n            />\n          </Table.HeaderCell>\n        </Table.Row>\n      </Table.Footer>\n    </Table>\n  );\n};\n\nProductsList.defaultProps = {\n  products: [],\n  isLoading: true,\n};\n\nexport default ProductsList;\n","import React, { useContext } from \"react\";\nimport { Alert, Col, Form, Input, Modal, Row, Select, Radio } from \"antd\";\nimport NumberFormat from \"react-number-format\";\nimport { useProduct, useDepartmentOptions, useCategoryOptionsAntdv2, useSubCategoryOptionsAntdv2 } from \"src/hooks\";\nimport { useEffect } from \"react\";\nimport { OrganizationContext } from \"src/contexts\";\nimport { useTranslation } from \"react-i18next\";\n\nconst ruleRequired = { required: true };\n\nconst braillePatternBlank = \"\";\n\nconst validations = {\n  name: [ruleRequired],\n  status: [ruleRequired],\n  price: [ruleRequired],\n  departmentId: [ruleRequired],\n  categoryId: [ruleRequired],\n  subcategoryId: [ruleRequired],\n  chargeDuration: [ruleRequired],\n};\n\nfunction ServiceFormModal({ onClose, okText, okButtonProps, afterSave, initialValue }) {\n  const { t } = useTranslation([\"translation\"]);\n  const { save, status } = useProduct(initialValue?._id);\n  const organizationId = useContext(OrganizationContext);\n  const { options: departmentOptions } = useDepartmentOptions(organizationId);\n  const { options: categoryOptions } = useCategoryOptionsAntdv2(organizationId);\n  const { options: subcategoryOptions } = useSubCategoryOptionsAntdv2(organizationId);\n  const handleSubmit = (formValues) => {\n    const payload = {\n      isService: true,\n      ...formValues,\n    };\n\n    save(payload, initialValue?._id);\n  };\n\n  useEffect(() => {\n    if (status.isSuccess) {\n      onClose();\n      afterSave();\n    }\n  }, [status, afterSave]);\n\n  return (\n    <Modal\n      visible\n      onCancel={onClose}\n      title={okText}\n      onClose={onClose}\n      okText={okText}\n      okButtonProps={{\n        form: \"service-add-modal\",\n        htmlType: \"submit\",\n        ...okButtonProps,\n      }}\n      width={800}\n    >\n      <Form layout=\"vertical\" id=\"service-add-modal\" initialValues={initialValue} onFinish={handleSubmit}>\n        <Form.Item label={t(\"Name\")} name=\"title\" rules={validations.name}>\n          <Input />\n        </Form.Item>\n        <Row gutter={16}>\n          <Col span={8}>\n            <Form.Item\n              label={t(\"Price\")}\n              name=\"price\"\n              trigger=\"onValueChange\"\n              getValueFromEvent={(vs) => vs.floatValue}\n              rules={validations.price}\n            >\n              <NumberFormat customInput={Input} thousandSeparator=\".\" decimalSeparator=\",\" />\n            </Form.Item>\n          </Col>\n          <Col span={8}>\n            <Form.Item\n              label={t(\"Cost\")}\n              name=\"cost\"\n              trigger=\"onValueChange\"\n              getValueFromEvent={(vs) => vs.floatValue}\n              rules={validations.cost}\n            >\n              <NumberFormat customInput={Input} thousandSeparator=\".\" decimalSeparator=\",\" />\n            </Form.Item>\n          </Col>\n          <Col>\n            <Form.Item name=\"chargeDuration\" label={braillePatternBlank} rules={validations.chargeDuration}>\n              <Radio.Group>\n                <Radio.Button value=\"day\">{t(\"Per day\")}</Radio.Button>\n                <Radio.Button value=\"hour\">{t(\"Per hour\")}</Radio.Button>\n                <Radio.Button value=\"fixed\">{t(\"Fixed\")}</Radio.Button>\n              </Radio.Group>\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row gutter={16}>\n          <Col span={8}>\n            <Form.Item label={t(\"Department\")} name=\"departmentId\" rules={validations.departmentId}>\n              <Select options={departmentOptions} />\n            </Form.Item>\n          </Col>\n          <Col span={8}>\n            <Form.Item dependencies={[\"departmentId\"]} noStyle>\n              {({ getFieldValue }) => (\n                <Form.Item label={t(\"Category\")} name=\"categoryId\">\n                  <Select\n                    options={categoryOptions.filter(({ departmentId }) => departmentId === getFieldValue(\"departmentId\"))}\n                  />\n                </Form.Item>\n              )}\n            </Form.Item>\n          </Col>\n          <Col span={8}>\n            <Form.Item dependencies={[\"categoryId\"]} noStyle>\n              {({ getFieldValue }) => (\n                <Form.Item label={t(\"Sub Category\")} name=\"subcategoryId\">\n                  <Select options={subcategoryOptions.filter(({ categoryId }) => getFieldValue(\"categoryId\") === categoryId)} />\n                </Form.Item>\n              )}\n            </Form.Item>\n          </Col>\n        </Row>\n        <Form.Item label={t(\"Description\")} name=\"description\" rules={validations.description}>\n          <Input.TextArea rows={4} />\n        </Form.Item>\n      </Form>\n      {status.isError && <Alert message={status.message} type=\"error\" />}\n    </Modal>\n  );\n}\n\nexport default ServiceFormModal;\n","export default () => {\n  const searchParams = new URLSearchParams(window.location.search);\n  return {\n    from: searchParams.get(\"from\"),\n    to: searchParams.get(\"to\"),\n  };\n};\n","export default (t, rules) => {\n  const translatedRules = {};\n  for (let prop in rules) {\n    if (rules.hasOwnProperty(prop)) {\n      translatedRules[prop] = rules[prop].map((r) => ({ ...r, message: r.message ? t(r.message) : undefined }));\n    }\n  }\n  return translatedRules;\n};\n","import React from \"react\";\nimport { Button } from \"antd\";\nimport { DeleteOutlined, EditOutlined } from \"@ant-design/icons\";\n\nconst editDeleteRenderer = (onEdit, onDelete) => (i) => {\n  return (\n    <>\n      <Button\n        className=\"margin-right\"\n        icon={<DeleteOutlined />}\n        type=\"danger\"\n        onClick={() => onDelete(i._id)}\n        size=\"small\"\n        ghost\n      />\n      <Button className=\"margin-right\" icon={<EditOutlined />} onClick={() => onEdit(i)} size=\"small\" />\n    </>\n  );\n};\n\nexport default editDeleteRenderer;\n","import { default as currencyFormatter } from \"./currencyFormatterPrefix\";\nconst cf = currencyFormatter.format;\nexport { cf };\nexport { formatNumber as nf } from \"./formatters\";\n\nexport { default as listOptsFromQueryParams } from \"./listOptsFromQueryParams\";\nexport { default as translateRules } from \"./translateRules\";\nexport { default as translateFormRules } from \"./translateRules\";\nexport { default as editDeleteRenderer } from \"./editDeleteRenderer\";\n\nexport const ruleRequired = { required: true };\nexport const makeRuleRequired = (msg) => ({ required: true, message: msg });\nexport const braillePatternBlank = \"\";\n","import React from \"react\";\nimport NumberFormat from \"react-number-format\";\nimport { Input } from \"antd\";\n\nconst InputNumberFmtd = ({ onChange, valuePropName, ...props }) => {\n  const handleChange = (values) => {\n    onChange(values[valuePropName || \"floatValue\"]);\n  };\n\n  return (\n    <NumberFormat\n      customInput={Input}\n      thousandSeparator=\".\"\n      decimalSeparator=\",\"\n      {...props}\n      onValueChange={onChange ? handleChange : undefined}\n    />\n  );\n};\n\nexport default InputNumberFmtd;\n","import React, { useContext } from \"react\";\nimport { OrganizationContext } from \"src/contexts\";\nimport { Button, Tooltip } from \"antd\";\nimport { useTranslation } from \"react-i18next\";\n\nfunction OrgAwareButton({ disabled, ...props }) {\n  const organizationId = useContext(OrganizationContext);\n  const { t } = useTranslation(\"translation\");\n  const Wrapper = !organizationId\n    ? ({ children }) => <Tooltip title={t(\"Org not selected\")}>{children}</Tooltip>\n    : React.Fragment;\n  return (\n    <Wrapper>\n      <Button disabled={!organizationId || disabled} {...props} />\n    </Wrapper>\n  );\n}\n\nexport default OrgAwareButton;\n","import React, { useContext } from \"react\";\nimport { Modal } from \"antd\";\nimport { OrganizationContext } from \"src/contexts\";\n\nfunction FormModal({ okText, onClose, formID, submitButtonProps, width, style, children, organizationId }) {\n  const globalOrganizationId = useContext(OrganizationContext);\n  return (\n    <Modal\n      title={okText}\n      onClose={onClose}\n      visible\n      okText={okText}\n      okButtonProps={{\n        form: formID,\n        htmlType: \"submit\",\n        ...submitButtonProps,\n      }}\n      onCancel={onClose}\n      width={width || 800}\n      maskClosable={false}\n      keyboard={false}\n      style={style}\n      bodyStyle={{ maxHeight: \"calc(100vh - 144px)\" }}\n      destroyOnClose\n    >\n      <OrganizationContext.Provider value={organizationId || globalOrganizationId}>{children}</OrganizationContext.Provider>\n    </Modal>\n  );\n}\n\nexport default FormModal;\n","import React from \"react\";\nimport { Loader } from \"semantic-ui-react\";\n\nfunction StyleWrapper({ children, style }) {\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        height: \"100%\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        color: \"inherit\",\n        padding: 16,\n        ...style,\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport default function NSHandler({ status, children, style, noDataMessage }) {\n  if (status.isInit) return null;\n\n  if (status.isSuccess) {\n    if (!status.hasData && noDataMessage)\n      return <StyleWrapper style={style}>{noDataMessage}</StyleWrapper>;\n    return children();\n  }\n\n  if (status.isLoading || status.isError) {\n    return (\n      <StyleWrapper style={style}>\n        {status.isLoading && <Loader active inline />}\n        {status.isError && \"Oops! Something went wrong.\"}\n        {status.isSuccess && !status.hasData && noDataMessage}\n      </StyleWrapper>\n    );\n  }\n\n  return null;\n}\n","import React from \"react\";\nimport { Form, Button } from \"antd\";\nimport { MinusCircleOutlined, PlusOutlined } from \"@ant-design/icons\";\nimport { useMemo } from \"react\";\n\nconst defaultAddBtnProps = {\n  type: \"link\",\n  icon: <PlusOutlined />,\n};\n\nfunction FormList({ name, label, children, addText, min = 0, addBtnProps: addBtnPropsFromProps }) {\n  const addBtnProps = useMemo(() => ({ ...defaultAddBtnProps, addBtnPropsFromProps }), [addBtnPropsFromProps]);\n\n  return (\n    <>\n      {label && <div style={{ paddingBottom: 8 }}>{label}</div>}\n      <Form.List name={name}>\n        {(fields, { add, remove }) => (\n          <>\n            {fields.map((field, i) => (\n              <div\n                key={field.key}\n                style={{\n                  width: \"100%\",\n                  display: \"grid\",\n                  gridTemplateColumns: \"minmax(min-content,max-content) minmax(min-content,max-content) min-content\",\n                  columnGap: 8,\n                  alignItems: \"baseline\",\n                }}\n              >\n                {children(field)}\n                <Button\n                  style={{ visibility: i > min - 1 ? \"visible\" : \"hidden\" }}\n                  type=\"danger\"\n                  ghost\n                  icon={<MinusCircleOutlined />}\n                  onClick={() => remove(field.name)}\n                ></Button>\n              </div>\n            ))}\n            <Button {...addBtnProps} onClick={() => add()}>\n              {addText}\n            </Button>\n          </>\n        )}\n      </Form.List>\n    </>\n  );\n}\n\nexport default FormList;\n","import React from \"react\";\n\nconst OrganizationAddr = ({ organization }) => {\n  if (!organization) return null;\n\n  return (\n    <div>\n      <div style={{ width: 60 }}>\n        <img style={{ maxWidth: \"100%\", maxHeight: \"100%\" }} src={organization.logoUrl}></img>\n      </div>\n      <div>\n        <strong>{organization.title}</strong>\n      </div>\n      <div>{organization.description}</div>\n      <div>{organization.phoneNumber}</div>\n    </div>\n  );\n};\n\nexport default OrganizationAddr;\n","import React from \"react\";\nimport { Redirect } from \"@reach/router\";\nimport { useToasts } from \"react-toast-notifications\";\nimport { useContext } from \"react\";\nimport { OrganizationContext, UserContext } from \"src/contexts\";\n\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\n  const organizationId = useContext(OrganizationContext);\n  const { token } = useContext(UserContext);\n  const { addToast } = useToasts();\n  const createToast = (text, options) => {\n    addToast(text, {\n      ...options,\n      autoDismiss: true,\n    });\n  };\n\n  if (!token) return <Redirect from=\"\" to=\"login\" noThrow />;\n\n  return <Component {...rest} addToast={createToast} organizationId={organizationId} />;\n};\n\nexport default ProtectedRoute;\n","import React from \"react\";\nimport { Cascader } from \"antd\";\nimport { useDepartments, useCategories, useSubcategories } from \"src/hooks\";\n\nfunction useDepartmentTree() {\n  const { all: departments } = useDepartments();\n  const { all: categories } = useCategories();\n  const { all: subcategories } = useSubcategories();\n\n  const depTree = departments.map((dep) => {\n    return {\n      value: dep._id,\n      label: dep.title,\n      children: categories\n        .filter((cat) => cat.departmentId === dep._id)\n        .map((cat) => {\n          return {\n            value: cat._id,\n            label: cat.title,\n            children: subcategories\n              .filter((subcat) => subcat.categoryId === cat._id)\n              .map((subcat) => {\n                return {\n                  value: subcat._id,\n                  label: subcat.title,\n                };\n              }),\n          };\n        }),\n    };\n  });\n\n  return { options: depTree };\n}\n\nfunction CategorySelect({ onChange, value }) {\n  const { options: departmentTreeOptions } = useDepartmentTree();\n  return <Cascader options={departmentTreeOptions} onChange={onChange} changeOnSelect value={value} />;\n}\n\nexport default CategorySelect;\n","import { Button, Input, List } from \"antd\";\nimport React, { useMemo } from \"react\";\nimport { useProductList } from \"src/hooks\";\nimport { useTranslation } from \"react-i18next\";\nimport \"./styles.scss\";\n\nconst filterer =\n  ({ kitProducts }) =>\n  (p) =>\n    kitProducts ? true : (p.kitProducts || []).length === 0;\n\nfunction ProductSelect({ className, onAdd, showServices = true, showKits = true }) {\n  const { t } = useTranslation(\"translation\");\n\n  const filterFields = useMemo(() => {\n    return {\n      ...(showServices ? undefined : { isService: false }),\n      ...(showKits ? undefined : { kitProducts: false }),\n    };\n  }, [showServices, showKits]);\n\n  const { all: products, status: productsStatus, search } = useProductList(undefined, filterFields, filterer);\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n\n    search(e.target.value);\n  };\n\n  const handleProductAdd = (product) => onAdd(product);\n  return (\n    <div className={`product-select ${className}`}>\n      <Input.Search onChange={handleSearch} allowClear />\n      <List\n        className=\"product-list-form\"\n        itemLayout=\"horizontal\"\n        dataSource={products}\n        loading={productsStatus.isLoading}\n        renderItem={(product) => (\n          <List.Item\n            className={product.totalUnits === 0 && !product.isService ? \"disabled\" : undefined}\n            actions={[\n              <Button\n                onClick={handleProductAdd(product)}\n                size=\"small\"\n                disabled={product.totalUnits === 0 && !product.isService}\n              >\n                + {t(\"Add\")}\n              </Button>,\n            ]}\n          >\n            <List.Item.Meta\n              avatar={<img src={`/assets/${(product.images || [])[0]?.link}`} />}\n              title={\n                <>\n                  <div>{product.title}</div>\n                  {!product.isService && (\n                    <span>\n                      {t(\"In Stock\")}: {product.totalUnits}\n                    </span>\n                  )}\n                </>\n              }\n            ></List.Item.Meta>\n          </List.Item>\n        )}\n      ></List>\n    </div>\n  );\n}\n\nexport default ProductSelect;\n","import React from \"react\";\nimport { Cascader } from \"antd\";\nimport { useBrands, useModels } from \"src/hooks\";\n\nfunction useBrandTreeOptions() {\n  const { all: brands } = useBrands();\n  const { all: models } = useModels();\n\n  const brandTree = brands.map((brand) => {\n    const thisBrandModels = models\n      .filter((model) => model.brandId === brand._id)\n      .map((model) => {\n        return {\n          value: model._id,\n          label: model.title,\n        };\n      });\n    return {\n      value: brand._id,\n      label: brand.title,\n      children: thisBrandModels,\n      disabled: thisBrandModels.length === 0,\n    };\n  });\n\n  return { options: brandTree };\n}\n\nfunction BrandSelect({ onChange, value }) {\n  const { options: brandTreeOptions } = useBrandTreeOptions();\n  return <Cascader options={brandTreeOptions} onChange={onChange} changeOnSelect value={value} />;\n}\n\nexport default BrandSelect;\n","import React from \"react\";\n\nexport { default as InputNumberFmtd } from \"./InputNumberFmtd\";\nexport { default as OrgAwareButton } from \"./OrgAwareButton\";\nexport { default as FormModal } from \"./FormModal\";\nexport { default as NSHandler } from \"./NSHandler\";\nexport { default as FormList } from \"./FormList\";\nexport { default as OrganizationAddr } from \"./OrganizationAddr\";\nexport { default as ProtectedRoute } from \"./ProtectedRoute\";\nexport { default as CategorySelect } from \"./CategorySelect\";\nexport { default as ProductSelect } from \"./ProductSelect\";\nexport { default as BrandSelect } from \"./BrandSelect\";\n\nexport const Span = ({ value }) => <span>{value}</span>;\n","import { Alert, Button, Col, Form, Input, message, Row, Upload } from \"antd\";\nimport { List } from \"antd\";\nimport { DeleteOutlined, PlusOutlined } from \"@ant-design/icons\";\nimport React, { useEffect, useMemo } from \"react\";\nimport { useProductv2, useProductList } from \"src/hooks\";\nimport { cf, ruleRequired } from \"src/helpers\";\nimport currencyFormatter from \"src/helpers/currencyFormatterPrefix\";\nimport { useTranslation } from \"react-i18next\";\nimport { CategorySelect, NSHandler, BrandSelect } from \"src/components\";\n\nimport { FormModal, ProductSelect } from \"src/components\";\nimport { InputNumberFmtd } from \"src/components\";\n\nimport \"./ProductKitFormModal.scss\";\n\nconst normFile = (e) => (Array.isArray(e) ? e : e && e.fileList);\n\nconst rules = {\n  title: [ruleRequired],\n  categoryInfo: [ruleRequired],\n  brandInfo: [ruleRequired],\n  price: [ruleRequired],\n  products: [ruleRequired],\n};\n\nconst defaultValue = {\n  products: {},\n  discount: 0,\n  images: [],\n};\n\nconst computeTotal = (selectedProducts) => {\n  let total = 0;\n  for (const id in selectedProducts) {\n    const p = selectedProducts[id];\n    total += (p.quantity || 0) * p.price;\n  }\n\n  return Number(total.toFixed(2));\n};\n\nfunction ProductKitFormModal({ onClose, afterSave, initialValue, okText }) {\n  const { t } = useTranslation([\"translation\"]);\n\n  const { save, status: saveStatus } = useProductv2();\n  const { all: products, status: productsStatus } = useProductList();\n\n  const [form] = Form.useForm();\n\n  const handleFinish = (payload) => {\n    const kitProducts = [];\n    const selectedProducts = form.getFieldValue(\"products\");\n\n    if (selectedProducts.length === 0) {\n      return;\n    }\n    for (let id in selectedProducts) {\n      const product = selectedProducts[id];\n      if (!product.quantity) continue;\n      kitProducts.push({\n        _id: id,\n        quantity: product.quantity,\n        title: product.title,\n        price: product.price,\n        cost: product.cost,\n      });\n    }\n\n    save(\n      {\n        ...initialValue,\n        ...payload,\n        departmentId: payload.categoryInfo[0],\n        categoryId: payload.categoryInfo[1],\n        subcategoryId: payload.categoryInfo[2],\n        brandId: payload.brandInfo[0],\n        modelId: payload.brandInfo[1],\n        kitProducts: kitProducts,\n        imageUrls: payload.images.map(({ response }) => response?.message),\n      },\n      initialValue?._id\n    );\n  };\n\n  const setSelectedProducts = (productMap) => {\n    if (!productMap) {\n      form.setFieldsValue({\n        products: undefined,\n        price: 0,\n        cost: 0,\n      });\n    }\n    let totalPrice = 0;\n    let totalCost = 0;\n    for (let id in productMap) {\n      const product = productMap[id];\n      if (!product.quantity) continue;\n      totalCost += product.cost * product.quantity;\n      totalPrice += product.price * product.quantity;\n    }\n\n    form.setFieldsValue({\n      products: productMap,\n      price: totalPrice,\n      cost: totalCost,\n    });\n  };\n\n  const handleProductAdd = (product) => () => {\n    const selectedProducts = form.getFieldValue(\"products\");\n    const selectedQuantity = (selectedProducts[product._id]?.quantity || 0) + 1;\n    if (product.isService || product.totalUnits >= selectedQuantity) {\n      const t = {\n        _id: product._id,\n        title: product.title,\n        price: product.price,\n        cost: product.cost,\n        quantity: selectedQuantity,\n      };\n\n      console.log(\"t :>> \", t);\n      setSelectedProducts({ ...selectedProducts, [product._id]: t });\n    }\n  };\n\n  const handleQuantityChange = (productId) => (quantity) => {\n    const selectedProducts = form.getFieldValue(\"products\");\n    setSelectedProducts({\n      ...selectedProducts,\n      [productId]: { ...selectedProducts[productId], quantity },\n    });\n  };\n\n  const handleDelete = (productId) => () => {\n    const selectedProducts = form.getFieldValue(\"products\");\n    const newSelectedProducts = { ...selectedProducts };\n    delete newSelectedProducts[productId];\n\n    // need this line. else state won't update becoz antd-form don't allow removing prop in object\n    setSelectedProducts(undefined);\n    setSelectedProducts(newSelectedProducts);\n  };\n\n  useEffect(() => {\n    if (saveStatus.isSuccess) {\n      message.success(saveStatus.message);\n      afterSave();\n    }\n  }, [saveStatus, afterSave]);\n\n  useEffect(() => {\n    let code = \"\";\n    let reading = false;\n\n    const handleScannerInput = (e) => {\n      //usually scanners throw an 'Enter' key at the end of read\n\n      if (e.key === \"Enter\") {\n        if (code.length >= 13) {\n          /// code ready to use\n          const scannedProduct = products.find(({ ISBN }) => code === ISBN);\n\n          code = \"\";\n          if (scannedProduct) {\n            handleProductAdd(scannedProduct)();\n          }\n        }\n      } else {\n        code += e.key; //while this is not an 'enter' it stores the every key\n      }\n      //run a timeout of 200ms at the first read and clear everything\n      if (!reading) {\n        reading = true;\n        setTimeout(() => {\n          code = \"\";\n          reading = false;\n        }, 200);\n      } //200 works fine for me but you can adjust it\n    };\n    document.addEventListener(\"keydown\", handleScannerInput);\n\n    return () => {\n      document.removeEventListener(\"keydown\", handleScannerInput);\n    };\n  }, [products]);\n\n  const denormInitValue = useMemo(\n    () =>\n      initialValue\n        ? {\n            ...defaultValue,\n            ...initialValue,\n            categoryInfo: [initialValue.departmentId, initialValue.categoryId, initialValue.subcategoryId].filter(Boolean),\n            brandInfo: [initialValue.brandId, initialValue.modelId].filter(Boolean),\n            images: (initialValue.imageUrls || []).map((url) => ({ url: url, uid: url })),\n            products: Object.fromEntries(initialValue.kitProducts.map((kp) => [kp._id, kp])),\n          }\n        : defaultValue,\n    [initialValue]\n  );\n\n  return (\n    <FormModal\n      className=\"kit-form-modal\"\n      formID=\"kit-form-modal\"\n      okText={okText}\n      onClose={onClose}\n      submitButtonProps={{ loading: saveStatus.isLoading }}\n      width=\"100%\"\n      style={{ top: 16 }}\n      organizationId={denormInitValue?.organizationId}\n    >\n      <Form\n        id=\"kit-form-modal\"\n        layout=\"vertical\"\n        form={form}\n        onFinish={handleFinish}\n        initialValues={denormInitValue}\n        preserve={false}\n      >\n        <div className=\"products-wrapper\">\n          <ProductSelect className=\"product-list\" onAdd={handleProductAdd} showKits={false} />\n          <div style={{ width: \"50%\", display: \"inline-block\", height: \"100%\" }}>\n            <Form.Item className=\"products-form-item\" wrapperCol={{ span: 24 }} shouldUpdate>\n              {({ getFieldValue }) => (\n                <NSHandler status={productsStatus}>\n                  {() => {\n                    return (\n                      <List\n                        className=\"product-list-form\"\n                        itemLayout=\"horizontal\"\n                        dataSource={Object.entries(getFieldValue(\"products\"))}\n                        renderItem={([id, product]) => {\n                          const inProduct = products.find((p) => product._id === p._id);\n                          const images = inProduct?.images || [];\n                          const quantity = product.quantity;\n                          const chargeDuration = inProduct?.chargeDuration || \"\";\n\n                          return (\n                            <List.Item style={{ display: \"block\" }}>\n                              <List.Item.Meta\n                                className=\"selected-product-meta\"\n                                avatar={<img src={`/assets/${images[0]?.link}`} />}\n                                title={product.title + (chargeDuration ? ` (per ${chargeDuration})` : \"\")}\n                              ></List.Item.Meta>\n                              <div className=\"sel-product\">\n                                <InputNumberFmtd\n                                  value={quantity}\n                                  onChange={handleQuantityChange(id)}\n                                  size=\"small\"\n                                  step={0.01}\n                                />\n                                <Button icon={<DeleteOutlined />} onClick={handleDelete(id)} size=\"small\" danger />\n                                <div className=\"price\">{currencyFormatter.format(product.price * quantity)}</div>\n                                <div className=\"action-group\"></div>\n                              </div>\n                            </List.Item>\n                          );\n                        }}\n                      ></List>\n                    );\n                  }}\n                </NSHandler>\n              )}\n            </Form.Item>\n            <Form.Item className=\"product-total\" wrapperCol={{ span: 24 }} shouldUpdate>\n              {({ getFieldValue: f }) => (\n                <div style={{ textAlign: \"right\", fontSize: \"1.2em\" }}>\n                  {t(\"Total\")}: {currencyFormatter.format(computeTotal(f(\"products\")))}\n                </div>\n              )}\n            </Form.Item>\n          </div>\n        </div>\n\n        <div className=\"grid-50-50\">\n          <div>\n            <Row gutter={16}>\n              <Col span={8}>\n                <Form.Item label={t(\"Title\")} name=\"title\" rules={rules.title}>\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col span={8}>\n                <Form.Item\n                  name=\"categoryInfo\"\n                  label={[\"Department\", \"Category\", \"Sub Category\"].map(t).join(\"/\")}\n                  rules={rules.categoryInfo}\n                >\n                  <CategorySelect />\n                </Form.Item>\n              </Col>\n              <Col span={8}>\n                <Form.Item name=\"brandInfo\" label={[\"Brand\", \"Model\"].map(t).join(\"/\")} rules={rules.brandInfo}>\n                  <BrandSelect />\n                </Form.Item>\n              </Col>\n            </Row>\n\n            <Row gutter={16}>\n              <Col span={8}>\n                <Form.Item name=\"cost\" label={t(\"Cost\")} rules={rules.cost}>\n                  <InputNumberFmtd />\n                </Form.Item>\n              </Col>\n              <Col span={8}>\n                <Form.Item name=\"price\" label={t(\"Price\")} rules={rules.price}>\n                  <InputNumberFmtd />\n                </Form.Item>\n              </Col>\n              <Col span={8}>\n                <Form.Item dependencies={[\"price\", \"products\"]} noStyle>\n                  {({ getFieldValue: f }) => (\n                    <div style={{ paddingTop: 32 }}>-{cf(computeTotal(f(\"products\")) - f(\"price\"))}</div>\n                  )}\n                </Form.Item>\n              </Col>\n            </Row>\n            <Form.Item label={t(\"Description\")} name=\"description\" rules={rules.description}>\n              <Input.TextArea rows={4} />\n            </Form.Item>\n            <Form.Item labelCol={{ span: 4 }} label={t(\"Comment\")} name=\"comment\" rules={rules.comment}>\n              <Input.TextArea placeholder={t(\"Comment\")} style={{ width: \"100%\" }} rows={1} />\n            </Form.Item>\n          </div>\n          <Form.Item\n            name=\"images\"\n            valuePropName=\"fileList\"\n            label={t(\"Images\")}\n            getValueFromEvent={normFile}\n            rules={rules.images}\n          >\n            <Upload multiple action=\"/assets/upload?entity=product\" accept=\".jpg, .jpeg\" name=\"file\" listType=\"picture-card\">\n              <div>\n                <PlusOutlined />\n                <div style={{ marginLeft: 8 }}>Upload</div>\n              </div>\n            </Upload>\n          </Form.Item>\n        </div>\n      </Form>\n\n      {saveStatus.isError && <Alert message={saveStatus.message} type=\"error\" />}\n    </FormModal>\n  );\n}\n\nexport default ProductKitFormModal;\n","import React, { useEffect, useState } from \"react\";\nimport { Alert, Card, Cascader, Col, Divider, Form, Input, message, Radio, Row, Select, Upload } from \"antd\";\nimport { InputNumberFmtd, FormModal, FormList } from \"src/components\";\nimport { useTranslation } from \"react-i18next\";\nimport { ruleRequired, translateFormRules, cf } from \"src/helpers\";\nimport { PlusOutlined, EyeOutlined } from \"@ant-design/icons\";\nimport i18n from \"i18next\";\nimport {\n  useProduct,\n  useProviderOptions,\n  useDepartments,\n  useCategories,\n  useSubcategories,\n  useBrands,\n  useModels,\n} from \"src/hooks\";\nimport \"./ProductFormModal.scss\";\n\nconst braillePatternBlank = \"\";\n\nconst formRules = {\n  title: [ruleRequired],\n  totalUnits: [ruleRequired],\n  departmentTree: [ruleRequired],\n  brandTree: [ruleRequired],\n  minStockThreshold: [ruleRequired],\n  costContributionValue: [ruleRequired],\n  price: [ruleRequired],\n  unitType: [ruleRequired],\n  measurementType: [ruleRequired],\n  metricValue: [ruleRequired],\n};\n\nfunction getBase64(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = (error) => reject(error);\n  });\n}\n\nconst normFile = (e) => (Array.isArray(e) ? e : e && e.fileList);\n\nfunction useDepartmentTree() {\n  const { all: departments } = useDepartments();\n  const { all: categories } = useCategories();\n  const { all: subcategories } = useSubcategories();\n\n  const depTree = departments.map((dep) => {\n    return {\n      value: dep._id,\n      label: dep.title,\n      children: categories\n        .filter((cat) => cat.departmentId === dep._id)\n        .map((cat) => {\n          return {\n            value: cat._id,\n            label: cat.title,\n            children: subcategories\n              .filter((subcat) => subcat.categoryId === cat._id)\n              .map((subcat) => {\n                return {\n                  value: subcat._id,\n                  label: subcat.title,\n                };\n              }),\n          };\n        }),\n    };\n  });\n\n  return { options: depTree };\n}\n\nfunction useBrandTreeOptions() {\n  const { all: brands } = useBrands();\n  const { all: models } = useModels();\n\n  const brandTree = brands.map((brand) => {\n    const thisBrandModels = models\n      .filter((model) => model.brandId === brand._id)\n      .map((model) => {\n        return {\n          value: model._id,\n          label: model.title,\n        };\n      });\n    return {\n      value: brand._id,\n      label: brand.title,\n      children: thisBrandModels,\n      disabled: thisBrandModels.length === 0,\n    };\n  });\n\n  return { options: brandTree };\n}\n\nconst UNIT = \"unit\";\nconst LINEAR_METER = \"linearMeter\";\nconst SQUARE_METER = \"squareMeter\";\nconst CUBIC_METER = \"cubicMeter\";\n\nconst MEASUREMENT_TYPES = [\n  { label: __(\"Unit\"), value: UNIT },\n  { label: __(\"Linear Meter\"), value: LINEAR_METER },\n  { label: __(\"Square Meter\"), value: SQUARE_METER },\n  { label: __(\"Cubic Meter\"), value: CUBIC_METER },\n];\n\nconsole.log(\"MEASUREMENT_TYPES :>> \", MEASUREMENT_TYPES);\n\nconst defaultValue = {\n  costContribution: [{ name: \"\", value: 0 }],\n  profitInPercentage: false,\n  images: [],\n  measurementType: UNIT,\n};\n\nfunction ProductFormModal({ onClose, afterSave, okText, initialValue }) {\n  const { t } = useTranslation([\"translation\"]);\n  const rules = translateFormRules(t, formRules);\n  const [imagePreviewUrl, setImagePreviewUrl] = useState();\n  const { options: departmentTreeOptions } = useDepartmentTree();\n  const { options: brandTreeOptions } = useBrandTreeOptions();\n  const { options: providerOptions } = useProviderOptions();\n  const { save, status: saveStatus } = useProduct();\n  const [form] = Form.useForm();\n\n  const handleImagePreview = async (file) => {\n    const imageUrl = file.url || file.preview;\n    if (imageUrl) {\n      setImagePreviewUrl(file.url);\n    } else {\n      const imageUrl = await getBase64(file.originFileObj);\n      setImagePreviewUrl(imageUrl);\n    }\n  };\n\n  const handleValuesChange = (values) => {\n    const cost = form.getFieldValue(\"costContribution\").reduce((acc, c) => acc + (c?.value || 0), 0);\n    const profit = form.getFieldValue(\"profit\") || 0;\n    const price = cost + (form.getFieldValue(\"profitInPercentage\") ? (profit * cost) / 100 : profit);\n    if (values.costContribution) {\n      form.setFieldsValue({ price: Number(price.toFixed(2)), profit: Number(profit.toFixed(2)) });\n    } else if (values.profitInPercentage !== undefined) {\n      form.setFieldsValue({ price: Number(price.toFixed(2)) });\n    } else if (values.profit) {\n      form.setFieldsValue({ price: Number(price.toFixed(2)) });\n    } else if (values.price) {\n      let profit = form.getFieldValue(\"profitInPercentage\") ? ((values.price - cost) * 100) / cost : values.price - cost;\n      form.setFieldsValue({ profit: Number(profit.toFixed(2)) });\n    }\n  };\n\n  const handleSubmit = (values) => {\n    const payload = {\n      ...values,\n      departmentId: values.departmentTree[0],\n      categoryId: values.departmentTree[1] || undefined,\n      subcategoryId: values.departmentTree[2] || undefined,\n      brandId: values.brandTree[0],\n      modelId: values.brandTree[1],\n      cost: values.costContribution.reduce((acc, c) => acc + (c?.value || 0), 0),\n      imageUrls: values.images.map(({ response }) => response?.message),\n      revenue: values.profit,\n      providerId: values.providerId || undefined,\n      unit: {\n        [values.unitType]: {\n          unit: values.metricType,\n          value: values.metricValue,\n        },\n      },\n    };\n\n    save(payload, initialValue?._id);\n  };\n\n  useEffect(() => {\n    if (saveStatus.isSuccess) {\n      message.success(saveStatus.message);\n      afterSave();\n    }\n  }, [saveStatus, afterSave]);\n\n  const denormInitValue = initialValue\n    ? {\n        ...defaultValue,\n        ...initialValue,\n        departmentTree: [initialValue.departmentId, initialValue.categoryId, initialValue.subcategoryId],\n        brandTree: [initialValue.brandId, initialValue.modelId],\n        images: (initialValue.imageUrls || []).map((url) => ({ url: url, uid: url })),\n        profit: initialValue.price - initialValue.cost,\n        metricType: initialValue.unit[initialValue.unitType]?.unit,\n        metricValue: initialValue.unit[initialValue.unitType]?.value,\n        costContribution: initialValue.costContribution || [{ name: \"\", value: initialValue.cost }],\n      }\n    : defaultValue;\n\n  return (\n    <FormModal\n      formID=\"product-add-modal\"\n      onClose={onClose}\n      okText={okText}\n      submitButtonProps={{ loading: saveStatus.isLoading }}\n      width=\"100%\"\n      style={{ top: 16 }}\n      organizationId={denormInitValue?.organizationId}\n    >\n      <Form\n        form={form}\n        layout=\"vertical\"\n        id=\"product-add-modal\"\n        onValuesChange={handleValuesChange}\n        initialValues={denormInitValue}\n        onFinish={handleSubmit}\n      >\n        <Row gutter={16}>\n          <Col span={16}>\n            <Row gutter={16}>\n              <Col span={12}>\n                <Form.Item name=\"title\" label={t(\"Title\")} rules={rules.title}>\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col span={6}>\n                <Form.Item name=\"totalUnits\" label={t(\"Total Units\")} rules={rules.totalUnits}>\n                  <InputNumberFmtd />\n                </Form.Item>\n              </Col>\n              <Col span={6}>\n                <Form.Item name=\"minStockThreshold\" label={t(\"Min Stock Threshold\")} rules={rules.minStockThreshold}>\n                  <InputNumberFmtd />\n                </Form.Item>\n              </Col>\n            </Row>\n\n            <Row gutter={16}>\n              <Col span={12}>\n                <Form.Item\n                  label={[\"Department\", \"Category\", \"Sub Category\"].map(t).join(\"/\")}\n                  name=\"departmentTree\"\n                  rules={rules.departmentTree}\n                >\n                  <Cascader options={departmentTreeOptions} changeOnSelect />\n                </Form.Item>\n              </Col>\n              <Col span={12}>\n                <Form.Item label={[\"Brand\", \"Model\"].map(t).join(\"/\")} name=\"brandTree\" rules={rules.brandTree}>\n                  <Cascader options={brandTreeOptions} />\n                </Form.Item>\n              </Col>\n            </Row>\n\n            <Row gutter={16}>\n              <Col span={6}>\n                <Form.Item name=\"ISBN\" label={t(\"BCode\")} rules={rules.ISBN}>\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col span={6}>\n                <Form.Item name=\"providerId\" label={t(\"Provider\")} rules={rules.providerId}>\n                  <Select options={providerOptions} />\n                </Form.Item>\n              </Col>\n\n              <Col span={4}>\n                <Form.Item name=\"measurementType\" label={t(\"Metric\")} rules={rules.measurementType}>\n                  <Select options={MEASUREMENT_TYPES} />\n                </Form.Item>\n              </Col>\n              <Col span={5}>\n                <Form.Item dependencies={[\"unitType\"]} noStyle>\n                  {({ getFieldValue }) => (\n                    <Form.Item\n                      name=\"metricValue\"\n                      label={t(\"Value\")}\n                      rules={getFieldValue(\"unitType\") === \"size\" ? rules.metricValue : undefined}\n                    >\n                      <InputNumberFmtd disabled={getFieldValue(\"unitType\") === \"unit\"} />\n                    </Form.Item>\n                  )}\n                </Form.Item>\n              </Col>\n            </Row>\n            <Divider style={{ margin: \"8px 0\" }} />\n            <Row gutter={16}>\n              <Col span={8}>\n                <FormList label={t(\"Cost\")} name=\"costContribution\">\n                  {(field) => (\n                    <>\n                      <Form.Item\n                        name={[field.name, \"name\"]}\n                        fieldKey={[field.fieldKey, \"name\"]}\n                        rules={rules.costContributionName}\n                      >\n                        <Input placeholder={t(\"Cost Name\")} />\n                      </Form.Item>\n                      <Form.Item\n                        name={[field.name, \"value\"]}\n                        fieldKey={[field.fieldKey, \"value\"]}\n                        rules={rules.costContributionValue}\n                      >\n                        <InputNumberFmtd />\n                      </Form.Item>\n                    </>\n                  )}\n                </FormList>\n                <Form.Item shouldUpdate noStyle>\n                  {({ getFieldValue }) => (\n                    <>Total: {cf(getFieldValue(\"costContribution\").reduce((acc, c) => acc + (c?.value || 0), 0))}</>\n                  )}\n                </Form.Item>\n              </Col>\n              <Col span={8}>\n                <div style={{ display: \"grid\", gridTemplateColumns: \"auto max-content\" }}>\n                  <Form.Item label={t(\"Profit\")} name=\"profit\">\n                    <InputNumberFmtd />\n                  </Form.Item>\n                  <Form.Item name=\"profitInPercentage\" label={braillePatternBlank}>\n                    <Radio.Group>\n                      <Radio.Button value={false}>#</Radio.Button>\n                      <Radio.Button value={true}>%</Radio.Button>\n                    </Radio.Group>\n                  </Form.Item>\n                </div>\n              </Col>\n              <Col span={8}>\n                <Form.Item name=\"price\" label={t(\"Price\")} rules={rules.price}>\n                  <InputNumberFmtd />\n                </Form.Item>\n              </Col>\n            </Row>\n            <Divider style={{ margin: \"8px 0\" }} />\n            <Row gutter={16}>\n              <Col span={12}>\n                <Form.Item name=\"description\" label={t(\"Description\")} rules={rules.description}>\n                  <Input.TextArea rows={5} />\n                </Form.Item>\n              </Col>\n              <Col span={12}>\n                <Form.Item name=\"comment\" label={t(\"Comment\")} rules={rules.comment}>\n                  <Input.TextArea rows={5} />\n                </Form.Item>\n              </Col>\n            </Row>\n          </Col>\n          <Col span={8}>\n            <Card title={t(\"Product Images\")} className=\"image-upload-container\" size=\"small\">\n              <div className=\"preview-image-container\">\n                {imagePreviewUrl ? (\n                  <img src={imagePreviewUrl} alt=\"preview\" />\n                ) : (\n                  <span>\n                    click on <EyeOutlined /> in thumbline to preview\n                  </span>\n                )}\n              </div>\n              <Form.Item name=\"images\" valuePropName=\"fileList\" getValueFromEvent={normFile}>\n                <Upload\n                  multiple\n                  action=\"/assets/upload?entity=product\"\n                  accept=\".jpg, .jpeg\"\n                  name=\"file\"\n                  listType=\"picture-card\"\n                  onPreview={handleImagePreview}\n                >\n                  <div>\n                    <PlusOutlined />\n                    <div style={{ marginLeft: 8 }}>Upload</div>\n                  </div>\n                </Upload>\n              </Form.Item>\n            </Card>\n          </Col>\n        </Row>\n      </Form>\n      {saveStatus.isError && <Alert message={saveStatus.message} type=\"error\" />}\n    </FormModal>\n  );\n}\n\nexport default ProductFormModal;\n","import React, { useMemo } from \"react\";\n\nimport Spinner from \"./../../components/Spinner\";\nimport \"./styles.css\";\nimport { Input } from \"semantic-ui-react\";\nimport ProductList from \"src/components/ProductComponents/ProductList\";\nimport ServiceFormModal from \"src/components/ProductComponents/ServiceFormModal\";\nimport ProductKitFormModal from \"./ProductKitFormModal\";\n\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport OrgAwareButton from \"src/components/OrgAwareButton\";\nimport { useProduct } from \"src/hooks\";\nimport ProductFormModal from \"./ProductFormModal\";\n\nimport {\n  useDepartmentOptions,\n  useBrandOptions,\n  useCategoryOptions,\n  useSubCategoryOptions,\n  useModelOptions,\n  useProductList,\n  useProviderOptions,\n} from \"src/hooks\";\n\nimport { useTranslation } from \"react-i18next\";\nimport { Select } from \"antd\";\nimport { navigate } from \"@reach/router\";\n\nconst defaultFilterFields = { departmentId: undefined, brandId: undefined };\nconst filterer = ({ departmentId, brandId }) => (product) => {\n  return (departmentId ? product.departmentId === departmentId : true) && (brandId ? product.brandId === brandId : true);\n};\n\nfunction ProductsPage({ location, addToast }) {\n  const { t } = useTranslation([\"translation\"]);\n  const filterFields = useMemo(\n    () => ({ ...defaultFilterFields, ...Object.fromEntries(new URLSearchParams(location.search)) }),\n    [] // don't put location.search. replacing history will empties filters\n  );\n  const { data: products, total, pages, search, goto, filters, status: productsStatus, refresh } = useProductList(\n    undefined,\n    filterFields,\n    filterer\n  );\n\n  const { changeStatus, status: changeStatusStatus } = useProduct();\n  const [shouldShowCreateKitModal, setShouldShowCreateKitModal] = useState(false);\n  const [kitToEdit, setKitToEdit] = useState(undefined);\n  const [shouldShowAddServiceModal, setShouldShowAddServiceModal] = useState(false);\n  const [shouldShowAddModal, setShouldShowAddModal] = useState(false);\n  const [productToEdit, setProductToEdit] = useState(undefined);\n  const [lowStockAlerted, setLowStockAlerted] = useState(false);\n\n  const { options: departmentOptions } = useDepartmentOptions(productToEdit?.organizationId);\n  const [brandOptions] = useBrandOptions(productToEdit?.organizationId);\n  const [modelOptions] = useModelOptions(productToEdit?.organizationId);\n  const [categoryOptions] = useCategoryOptions(productToEdit?.organizationId);\n  const [subCategoryOptions] = useSubCategoryOptions(productToEdit?.organizationId);\n  const { options: providerOptions } = useProviderOptions(productToEdit?.organizationId);\n\n  const options = {\n    departmentOptions,\n    brandOptions,\n    modelOptions,\n    categoryOptions,\n    subCategoryOptions,\n    providerOptions,\n  };\n\n  const showAddModal = () => setShouldShowAddModal(true);\n  const closeAddModal = () => setShouldShowAddModal(false);\n\n  const showAddServiceModal = () => setShouldShowAddServiceModal(true);\n\n  const showCreateKitModal = () => {\n    setShouldShowCreateKitModal(true);\n  };\n\n  const closeEditModal = () => setProductToEdit(undefined);\n\n  useEffect(() => {\n    if (!lowStockAlerted) {\n      const shouldAlert = (products || []).some((p) => !p.isService && p.totalUnits <= (p.minStockThreshold || 0));\n\n      if (shouldAlert) {\n        addToast(t(\"You have few product with low stock\"), {\n          appearance: \"warning\",\n          autoDismissTimeout: 10000,\n        });\n        setLowStockAlerted(true);\n      }\n    }\n  }, [lowStockAlerted, products]);\n\n  const handleSearch = (event) => {\n    search(event.target.value);\n  };\n\n  const clearSearch = () => {\n    search(\"\");\n  };\n\n  const handleCloseKitModal = () => {\n    setShouldShowCreateKitModal(false);\n    setKitToEdit(undefined);\n  };\n\n  const afterKitSave = () => {\n    handleCloseKitModal();\n    refresh();\n  };\n\n  const handleProductFormClose = () => {\n    closeAddModal();\n    closeEditModal();\n  };\n\n  const afterProductSave = () => {\n    closeAddModal();\n    closeEditModal();\n    refresh();\n  };\n\n  const closeServiceModal = () => {\n    setShouldShowAddServiceModal(false);\n    setProductToEdit(undefined);\n  };\n\n  const afterServiceSave = () => {\n    closeServiceModal();\n    refresh();\n  };\n\n  useEffect(() => {\n    if (changeStatusStatus.isSuccess) {\n      refresh();\n    }\n  }, [changeStatusStatus]);\n\n  useEffect(() => {\n    navigate(\"/products\", { replace: true });\n  }, []);\n\n  return productsStatus.isLoading ? (\n    <Spinner />\n  ) : (\n    <div className={\"container\"}>\n      <h2 style={{ display: \"inline\" }}>Produtos</h2>\n      <span style={{ marginLeft: 16, marginRight: 16 }}>\n        {t(\"Total\")}: {total}\n      </span>\n      <div class=\"ui action input\" style={{ marginLeft: 16, marginRight: 16 }}>\n        <Input type=\"text\" placeholder=\"Search...\" onChange={handleSearch} value={filters.searchText} />\n        <button class=\"ui icon button\" onClick={clearSearch}>\n          <i class=\"delete icon\"></i>\n        </button>\n      </div>\n      <Select\n        defaultValue={filters.values.departmentId}\n        onChange={filters.handlers.departmentId}\n        style={{ width: 200, marginRight: 16 }}\n        placeholder={t(\"Department\")}\n        options={departmentOptions.map(({ value, label }) => ({ value, label }))}\n        allowClear\n        showSearch\n      ></Select>\n      <Select\n        defaultValue={filters.values.brandId}\n        onChange={filters.handlers.brandId}\n        style={{ width: 200, marginRight: 16 }}\n        placeholder={t(\"Brand\")}\n        options={brandOptions.map(({ value, label }) => ({ value, label }))}\n        allowClear\n        showSearch\n      ></Select>\n      <OrgAwareButton type=\"primary\" className=\"generic-create-btn\" onClick={showAddModal}>\n        {t(\"Add\")} {t(\"Product\")}\n      </OrgAwareButton>\n      <OrgAwareButton type=\"primary\" className=\"generic-create-btn\" onClick={showCreateKitModal}>\n        {t(\"Create\")} {t(\"Kit\")}\n      </OrgAwareButton>\n      <OrgAwareButton type=\"primary\" className=\"generic-create-btn\" onClick={showAddServiceModal}>\n        {t(\"Add\")} {t(\"Service\")}\n      </OrgAwareButton>\n      <ProductList\n        options={options}\n        loadProducts={refresh}\n        filters={filters}\n        addToast={addToast}\n        products={products}\n        showKitModal={setKitToEdit}\n        setProductToEdit={setProductToEdit}\n        pages={pages}\n        onPageChange={goto}\n        changeStatus={changeStatus}\n      />\n\n      {(shouldShowCreateKitModal || kitToEdit) && (\n        <ProductKitFormModal\n          onClose={handleCloseKitModal}\n          afterSave={afterKitSave}\n          okText={`${kitToEdit ? t(\"Update\") : t(\"Add\")} ${t(\"Kit\")}`}\n          initialValue={kitToEdit}\n        />\n      )}\n\n      {(shouldShowAddModal || (productToEdit && !productToEdit.isService)) && (\n        <ProductFormModal\n          onClose={handleProductFormClose}\n          okText={`${productToEdit ? t(\"Update\") : t(\"Add\")} ${t(\"Product\")}`}\n          afterSave={afterProductSave}\n          initialValue={productToEdit}\n        />\n      )}\n\n      {(productToEdit?.isService || shouldShowAddServiceModal) && (\n        <ServiceFormModal\n          okText={productToEdit ? t(\"Update\") + \" \" + t(\"Service\") : t(\"Add\") + \" \" + t(\"Service\")}\n          afterSave={afterServiceSave}\n          initialValue={productToEdit}\n          onClose={closeServiceModal}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default ProductsPage;\n","export const isTextValid = (text, min, max) => {\n    return text && text.length >= min && (text.length <= max || max === 0);\n};\n","import React, { useState } from \"react\";\nimport { Button, Form, Icon, Modal } from \"semantic-ui-react\";\n\nimport { isTextValid } from \"../../../helpers/validations\";\n\nconst SubcategoryForm = ({ category = {}, categoryOptions, submit, addToast, componentName, loadSubcategories }) => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const [title, setTitle] = useState(category.title);\n  const [isTitleValid, setIsTitleValid] = useState(true);\n  const [description, setDescription] = useState(category.description);\n  const [categoryId, setCategoryId] = useState(\"\");\n  const [isDescriptionValid, setIsDescriptionValid] = useState(true);\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleFormSubmit = async () => {\n    const isValid = isDescriptionValid && isTitleValid && categoryId !== \"\";\n    if (!isValid || isLoading) {\n      return;\n    }\n    setIsLoading(true);\n    await submit({ title, description, categoryId })\n      .then((resp) => {\n        addToast(`Subcategory ${category.title ? \"updated\" : \"created\"} successfully`, { appearance: \"success\" });\n        setTitle(\"\");\n        setDescription(\"\");\n        setCategoryId(\"\");\n        handleCloseModal();\n      })\n      .catch((err) => {\n        addToast(err.message, { appearance: \"error\" });\n      });\n    setIsLoading(false);\n  };\n\n  const toggleModalState = () => {\n    setIsModalOpen(!isModalOpen);\n  };\n\n  const handleCloseModal = () => {\n    loadSubcategories();\n    toggleModalState();\n  };\n\n  return (\n    <Modal\n      trigger={\n        <Button className={componentName === \"Edit\" ? \"table-action-btn\" : \"generic-create-btn\"} onClick={toggleModalState}>\n          {componentName === \"Edit\" ? <Icon name=\"pencil\" /> : <span>{componentName}</span>}\n        </Button>\n      }\n      closeIcon\n      open={isModalOpen}\n      onClose={handleCloseModal}\n    >\n      <Modal.Header>{componentName} Subcategory</Modal.Header>\n      <Modal.Content>\n        <Form name=\"createDepForm\" size=\"large\" onSubmit={handleFormSubmit}>\n          <Form.Input\n            fluid\n            placeholder=\"Titulo\"\n            value={title}\n            error={!isTitleValid}\n            onChange={(ev) => setTitle(ev.target.value)}\n            onBlur={() => setIsTitleValid(isTextValid(title, 3, 0))}\n          />\n          <Form.TextArea\n            fluid\n            placeholder=\"Descrio\"\n            value={description}\n            error={!isDescriptionValid}\n            onChange={(ev) => setDescription(ev.target.value)}\n            onBlur={() => setIsDescriptionValid(isTextValid(description, 5, 0))}\n          />\n          <Form.Select\n            fluid\n            label=\"Category\"\n            options={categoryOptions}\n            placeholder=\"Category\"\n            onChange={(e, { value }) => setCategoryId(value)}\n            search\n          />\n          <Button type=\"submit\" color=\"teal\" fluid size=\"small\" loading={isLoading} primary>\n            Submit\n          </Button>\n        </Form>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nSubcategoryForm.defaultProps = {\n  category: {},\n};\n\nexport default SubcategoryForm;\n","import callWebApi from \"../helpers/webApiHelper\";\n\nexport const getSubcategories = async (args) => {\n  const response = await callWebApi({\n    endpoint: \"/api/subcategories\",\n    type: \"GET\",\n    query: args,\n  });\n  return response.json();\n};\n\nexport const createSubcategory = async (request, organizationId) => {\n  const response = await callWebApi({\n    endpoint: \"/api/subcategories\",\n    type: \"POST\",\n    request,\n    organizationId,\n  });\n  return response.json();\n};\n\nexport const updateSubcategory = async (id, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/subcategories/${id}`,\n    type: \"PUT\",\n    request,\n  });\n  return response.json();\n};\n\nexport const deleteSubcategory = async (id) => {\n  const response = await callWebApi({\n    endpoint: `/api/subcategories/${id}`,\n    type: \"DELETE\",\n  });\n  return response.json();\n};\n","import React, {useState} from 'react'\nimport {Button, Icon, Modal} from 'semantic-ui-react'\nimport {deleteSubcategory} from \"../../../services/subcategoriesService\";\n\nconst DeleteSubcategory = ({title, id, addToast, loadSubcategories}) => {\n    const [isModalOpen, setIsModalOpen] = useState(false)\n\n    const deleteSubcat = () => {\n        deleteSubcategory(id)\n            .then(resp => {\n                    addToast(\n                        `Subcategory deleted successfully`,\n                        {appearance: 'success'})\n                }\n            )\n            .catch(err => {\n                if (err.message !== '') {\n                    addToast('Could not delete subcategory: ' + err.message, {appearance: 'error'})\n                } else {\n                    addToast('Something went wrong', {appearance: 'error'})\n                }\n            }).finally(\n            () => {\n                toggleModal();\n                loadSubcategories()\n            }\n        )\n    }\n\n    const toggleModal = () => {\n        setIsModalOpen(!isModalOpen)\n    }\n    return (\n        <Modal\n            trigger={<Button\n                className='table-action-btn'\n                onClick={toggleModal}>\n                <Icon name='trash'/>\n            </Button>}\n            open={isModalOpen}\n            closeIcon\n        >\n            <Modal.Header>Delete a category</Modal.Header>\n            <Modal.Content>\n                <h4>Are you sure you want to delete category {`\"${title}\"`}?</h4>\n                <Button color='red' inverted onClick={deleteSubcat}>\n                    <Icon name='remove'/> Delete\n                </Button>\n                <Button color='blue' inverted onClick={toggleModal}>\n                    <Icon name='checkmark'/> Cancel\n                </Button>\n            </Modal.Content>\n        </Modal>)\n\n\n}\n\nexport default DeleteSubcategory;\n","import React, { Component } from \"react\";\nimport { Icon, Menu, Pagination, Table } from \"semantic-ui-react\";\nimport SubcategoryForm from \"../SubcategoryForm\";\nimport { createPageNavigation } from \"../../../helpers/pagination\";\nimport { updateSubcategory } from \"../../../services/subcategoriesService\";\nimport DeleteSubcategory from \"../DeleteSubcategory\";\n\nclass SubcategoriesList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.createSubcategoryRow = this.createSubcategoryRow.bind(this);\n    this.handlePaginationClick = this.handlePaginationClick.bind(this);\n  }\n\n  createSubcategoryRow = (cat) => {\n    return (\n      <Table.Row key={cat._id}>\n        <Table.Cell>\n          <SubcategoryForm\n            category={cat}\n            componentName={\"Edit\"}\n            addToast={this.props.addToast}\n            categoryOptions={this.props.categoryOptions}\n            loadSubcategories={this.props.loadSubcategories}\n            submit={(req) => updateSubcategory(cat._id, req)}\n          />\n        </Table.Cell>\n        <Table.Cell>\n          <DeleteSubcategory\n            addToast={this.props.addToast}\n            id={cat._id}\n            title={cat.title}\n            loadSubcategories={this.props.loadSubcategories}\n          />\n        </Table.Cell>\n        <Table.Cell>{cat._id}</Table.Cell>\n        <Table.Cell>{cat.title}</Table.Cell>\n        <Table.Cell>{cat.category.title}</Table.Cell>\n        <Table.Cell>{cat.description}</Table.Cell>\n      </Table.Row>\n    );\n  };\n\n  handlePaginationClick = (page) => {\n    this.props.updatePageFilter({ page: page });\n  };\n\n  render() {\n    const { pages, filters, onPageChange } = this.props;\n    return (\n      <Table celled>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell colspan={2} rowspan={2}>\n              Actions\n            </Table.HeaderCell>\n            <Table.HeaderCell>ID</Table.HeaderCell>\n            <Table.HeaderCell>Titulo</Table.HeaderCell>\n            <Table.HeaderCell>Category</Table.HeaderCell>\n            <Table.HeaderCell>Descrio</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {this.props.subcategories.map((cat) =>\n            this.createSubcategoryRow(cat)\n          )}\n        </Table.Body>\n\n        <Table.Footer>\n          <Table.Row>\n            <Table.HeaderCell colSpan=\"20\" style={{ textAlign: \"right\" }}>\n              <Pagination\n                activePage={filters.currentPage}\n                totalPages={pages}\n                onPageChange={(_, { activePage }) => onPageChange(activePage)}\n              />\n            </Table.HeaderCell>\n          </Table.Row>\n        </Table.Footer>\n      </Table>\n    );\n  }\n}\n\nexport default SubcategoriesList;\n","import React from \"react\";\nimport SubcategoryForm from \"../../components/SubcategoriesComponents/SubcategoryForm\";\nimport SubcategoriesList from \"../../components/SubcategoriesComponents/SubcategoriesList\";\nimport { createSubcategory } from \"../../services/subcategoriesService\";\nimport { Input } from \"semantic-ui-react\";\nimport useList from \"src/helpers/useList\";\nimport { useContext } from \"react\";\nimport { OrganizationContext } from \"src/contexts\";\nimport { useAPI } from \"src/helpers/useFetch\";\nconst searchFields = \"*\";\n\nfunction useSubCategories() {\n  return useList(\"/api/subcategories\", searchFields);\n}\n\nfunction useCategories() {\n  return useAPI(\"/api/categories\");\n}\n\nfunction SubcategoriesPage(props) {\n  const [\n    subCategories,\n    { total, pages },\n    search,\n    goto,\n    sort,\n    filters,\n    subCategoriesStatus,\n    refresh,\n  ] = useSubCategories();\n  const [{ data: categories } = { data: [] }] = useCategories();\n  const organizationId = useContext(OrganizationContext);\n\n  const handleSearch = (event) => {\n    search(event.target.value);\n  };\n\n  const clearSearch = () => {\n    search(\"\");\n  };\n\n  const categoryOptions = categories.map(({ _id, title }) => ({\n    value: _id,\n    text: title,\n  }));\n\n  return (\n    <div className=\"categories-container container\">\n      <h2>Subcategories</h2>\n      <SubcategoryForm\n        componentName={\"Create\"}\n        categoryOptions={categoryOptions}\n        addToast={props.addToast}\n        loadSubcategories={refresh}\n        submit={(r) => createSubcategory(r, organizationId)}\n      />\n\n      <div>\n        <span>Total subcategories: {total}</span>\n        <div class=\"ui action input\" style={{ marginLeft: 16 }}>\n          <Input\n            type=\"text\"\n            placeholder=\"Search...\"\n            onChange={handleSearch}\n            value={filters.searchText}\n          />\n          <button class=\"ui icon button\" onClick={clearSearch}>\n            <i class=\"delete icon\"></i>\n          </button>\n        </div>\n      </div>\n\n      <SubcategoriesList\n        addToast={props.addToast}\n        categoryOptions={categoryOptions}\n        subcategories={subCategories}\n        filters={filters}\n        loadSubcategories={refresh}\n        onPageChange={goto}\n        pages={pages}\n      />\n    </div>\n  );\n}\n\nexport default SubcategoriesPage;\n","import React, { useState } from \"react\";\nimport { Button, Form, Icon, Modal } from \"semantic-ui-react\";\n\nimport \"./styles.css\";\nimport { isTextValid } from \"../../../helpers/validations\";\n\nconst CategoryForm = ({ category = {}, departmentOptions, submit, addToast, componentName, loadCategories }) => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const [title, setTitle] = useState(category.title);\n  const [isTitleValid, setIsTitleValid] = useState(true);\n  const [description, setDescription] = useState(category.description);\n  const [departmentId, setDepartmentId] = useState(category.departmentId);\n  const [isDescriptionValid, setIsDescriptionValid] = useState(true);\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleFormSubmit = async () => {\n    const isValid = isDescriptionValid && isTitleValid && departmentId !== \"\";\n    if (!isValid || isLoading) {\n      return;\n    }\n    setIsLoading(true);\n    await submit({ title, description, departmentId })\n      .then((resp) => {\n        addToast(`Category ${category.title ? \"updated\" : \"created\"} successfully`, { appearance: \"success\" });\n        setTitle(\"\");\n        setDescription(\"\");\n        setDepartmentId(\"\");\n      })\n      .catch((err) => {\n        addToast(err.message, { appearance: \"error\" });\n      });\n    setIsLoading(false);\n    handleCloseModal();\n  };\n\n  const toggleModalState = () => {\n    setIsModalOpen(!isModalOpen);\n  };\n\n  const handleCloseModal = () => {\n    loadCategories();\n    toggleModalState();\n  };\n\n  return (\n    <Modal\n      trigger={\n        <Button className={componentName === \"Edit\" ? \"table-action-btn\" : \"generic-create-btn\"} onClick={toggleModalState}>\n          {componentName === \"Edit\" ? <Icon name=\"pencil\" /> : <span>{componentName}</span>}\n        </Button>\n      }\n      closeIcon\n      open={isModalOpen}\n      onClose={handleCloseModal}\n    >\n      <Modal.Header>{componentName} a category</Modal.Header>\n      <Modal.Content>\n        <Form name=\"createDepForm\" size=\"large\" onSubmit={handleFormSubmit}>\n          <Form.Input\n            fluid\n            placeholder=\"Titulo\"\n            value={title}\n            error={!isTitleValid}\n            onChange={(ev) => setTitle(ev.target.value)}\n            onBlur={() => setIsTitleValid(isTextValid(title, 3, 0))}\n          />\n          <Form.TextArea\n            fluid\n            placeholder=\"Descrio\"\n            value={description}\n            error={!isDescriptionValid}\n            onChange={(ev) => setDescription(ev.target.value)}\n            onBlur={() => setIsDescriptionValid(isTextValid(description, 5, 0))}\n          />\n          <Form.Select\n            fluid\n            label=\"Departamento\"\n            options={departmentOptions}\n            placeholder=\"Departamento\"\n            onChange={(e, { value }) => setDepartmentId(value)}\n            value={departmentId}\n          />\n          <Button type=\"submit\" color=\"teal\" fluid loading={isLoading} primary>\n            Submit\n          </Button>\n        </Form>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nCategoryForm.defaultProps = {\n  department: {},\n};\n\nexport default CategoryForm;\n","import callWebApi from \"../helpers/webApiHelper\";\n\nexport const getCategories = async (args) => {\n  const response = await callWebApi({\n    endpoint: \"/api/categories\",\n    type: \"GET\",\n    query: args,\n  });\n  return response.json();\n};\n\nexport const createCategory = async (request, organizationId) => {\n  const response = await callWebApi({\n    endpoint: \"/api/categories\",\n    type: \"POST\",\n    request,\n    organizationId,\n  });\n  return response.json();\n};\n\nexport const updateCategory = async (id, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/categories/${id}`,\n    type: \"PUT\",\n    request,\n  });\n  return response.json();\n};\n\nexport const deleteCategory = async (id) => {\n  const response = await callWebApi({\n    endpoint: `/api/categories/${id}`,\n    type: \"DELETE\",\n  });\n  return response.json();\n};\n","import React, {useState} from 'react'\nimport {Button, Icon, Modal} from 'semantic-ui-react'\nimport {deleteCategory} from \"../../../services/categoriesService\";\nimport './styles.css'\n\nconst DeleteCategory = ({title, id, addToast, loadCategories}) => {\n    const [isModalOpen, setIsModalOpen] = useState(false)\n\n    const removeCategory = () => {\n        deleteCategory(id)\n            .then(resp => {\n                    addToast(\n                        `Category deleted successfully`,\n                        {appearance: 'success'})\n                }\n            )\n            .catch(err => {\n                if (err.message !== '') {\n                    addToast('Could not delete category: ' + err.message, {appearance: 'error'})\n                } else {\n                    addToast('Something went wrong', {appearance: 'error'})\n                }\n            }).finally(\n            () => {\n                toggleModal();\n                loadCategories()\n            }\n        )\n    }\n\n    const toggleModal = () => {\n        setIsModalOpen(!isModalOpen)\n    }\n    return (\n        <Modal\n            trigger={<Button className={'cat-delete-btn cat-btn'} onClick={toggleModal}>\n                <Icon name='trash'/>\n            </Button>}\n            open={isModalOpen}\n            closeIcon\n        >\n            <Modal.Header>Delete a category</Modal.Header>\n            <Modal.Content>\n                <h4>Are you sure you want to delete category {`\"${title}\"`}?</h4>\n                <Button color='red' inverted onClick={removeCategory}>\n                    <Icon name='remove'/> Delete\n                </Button>\n                <Button color='blue' inverted onClick={toggleModal}>\n                    <Icon name='checkmark'/> Cancel\n                </Button>\n            </Modal.Content>\n        </Modal>)\n\n\n}\n\nexport default DeleteCategory;\n","import React, { Component } from \"react\";\nimport { Icon, Menu, Pagination, Table } from \"semantic-ui-react\";\nimport CategoryForm from \"../CategoryForm\";\nimport { updateCategory } from \"../../../services/categoriesService\";\nimport { createPageNavigation } from \"../../../helpers/pagination\";\nimport DeleteCategory from \"../DeleteCategory\";\n\nclass CategoriesList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.createCategoryRow = this.createCategoryRow.bind(this);\n    this.handlePaginationClick = this.handlePaginationClick.bind(this);\n  }\n\n  createCategoryRow = (cat) => {\n    return (\n      <Table.Row key={cat._id}>\n        <Table.Cell>\n          <CategoryForm\n            category={cat}\n            componentName={\"Edit\"}\n            addToast={this.props.addToast}\n            departmentOptions={this.props.departmentOptions}\n            loadCategories={this.props.loadCategories}\n            submit={(req) => updateCategory(cat._id, req)}\n          />\n        </Table.Cell>\n        <Table.Cell>\n          <DeleteCategory\n            addToast={this.props.addToast}\n            id={cat._id}\n            title={cat.title}\n            loadCategories={this.props.loadCategories}\n          />\n        </Table.Cell>\n        <Table.Cell>{cat._id}</Table.Cell>\n        <Table.Cell>{cat.title}</Table.Cell>\n        <Table.Cell>{cat.department ? cat.department.title : \"\"}</Table.Cell>\n        <Table.Cell>{cat.description}</Table.Cell>\n      </Table.Row>\n    );\n  };\n\n  handlePaginationClick = (page) => {\n    this.props.updatePageFilter({ page: page });\n  };\n\n  render() {\n    const { pages, onPageChange, filters } = this.props;\n    return (\n      <Table celled>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell colspan={2} rowspan={2}>\n              Actions\n            </Table.HeaderCell>\n            <Table.HeaderCell>ID</Table.HeaderCell>\n            <Table.HeaderCell>Titulo</Table.HeaderCell>\n            <Table.HeaderCell>Departamento</Table.HeaderCell>\n            <Table.HeaderCell>Descrio</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {this.props.categories.map((cat) => this.createCategoryRow(cat))}\n        </Table.Body>\n\n        <Table.Footer>\n          <Table.Row>\n            <Table.HeaderCell colSpan=\"20\" style={{ textAlign: \"right\" }}>\n              <Pagination\n                activePage={filters.currentPage}\n                totalPages={pages}\n                onPageChange={(_, { activePage }) => onPageChange(activePage)}\n              />\n            </Table.HeaderCell>\n          </Table.Row>\n        </Table.Footer>\n      </Table>\n    );\n  }\n}\n\nexport default CategoriesList;\n","import React from \"react\";\nimport CategoryForm from \"../../components/CategoriesComponents/CategoryForm\";\nimport CategoriesList from \"../../components/CategoriesComponents/CategoriesList\";\nimport { createCategory } from \"../../services/categoriesService\";\n\nimport \"./styles.css\";\nimport { Input } from \"semantic-ui-react\";\nimport { useContext } from \"react\";\nimport { OrganizationContext } from \"src/contexts\";\nimport { useAPI } from \"src/helpers/useFetch\";\nimport { useCategories } from \"src/hooks\";\n\nconst searchFields = \"*\";\n\nfunction useDepartments() {\n  return useAPI(\"/api/departments\", searchFields);\n}\nfunction CategoriesPage(props) {\n  const { data: categories, total, pages, search, goto, filters, refresh } = useCategories();\n  const [{ data: departments } = { data: [] }, , , , , , , ,] = useDepartments();\n  const organizationId = useContext(OrganizationContext);\n\n  const handleSearch = (event) => search(event.target.value);\n  const clearSearch = () => search(\"\");\n\n  const departmentOptions = departments.map(({ _id, title }) => ({\n    value: _id,\n    text: title,\n  }));\n\n  return (\n    <div className=\"categories-container container\">\n      <h2>Categories</h2>\n\n      <CategoryForm\n        componentName={\"Create\"}\n        departmentOptions={departmentOptions}\n        addToast={props.addToast}\n        loadCategories={refresh}\n        submit={(r) => createCategory(r, organizationId)}\n      />\n      <div>\n        <strong>Total categories: {total}</strong>\n        <div class=\"ui action input\" style={{ marginLeft: 16 }}>\n          <Input type=\"text\" placeholder=\"Search...\" onChange={handleSearch} value={filters.searchText} />\n          <button class=\"ui icon button\" onClick={clearSearch}>\n            <i class=\"delete icon\"></i>\n          </button>\n        </div>\n      </div>\n\n      <CategoriesList\n        addToast={props.addToast}\n        departmentOptions={departmentOptions}\n        categories={categories}\n        loadCategories={refresh}\n        onPageChange={goto}\n        filters={filters}\n        pages={pages}\n      />\n    </div>\n  );\n}\n\nexport default CategoriesPage;\n","import React, { useMemo } from \"react\";\nimport { Row, Col, Input, Radio, Form, Modal, Upload, ConfigProvider, DatePicker } from \"antd\";\nimport moment from \"moment\";\nimport NumberFormat from \"react-number-format\";\nimport { useTranslation } from \"react-i18next\";\nimport { translateRules } from \"src/helpers\";\n\nconst ruleRequired = { required: true };\n\nconst ruleAllowOnlyDigits = {\n  pattern: `[0-9]+`,\n  message: \"only digits allowed\",\n};\n\nconst normalizeAgencyNo = (e) => {\n  const value = e.target.value.slice(0, 6);\n\n  if (!/^([0-9]{1,5}|[0-9]{1,4}([-]{1}[0-9]{0,1})?)$/.test(value)) return \"\";\n\n  return value.length > 4 && !value.endsWith(\"-\") ? value.substr(0, 4) + \"-\" + value.substr(-1) : value;\n};\n\nconst normalizeAccountNo = (e) => {\n  const value = e.target.value.slice(0, 10);\n\n  if (!/^([0-9]{1,9}|[0-9]{1,8}([-]{1}[0-9]{0,1})?)$/.test(value)) return \"\";\n\n  return value.length > 8 && !value.endsWith(\"-\") ? value.substr(0, 8) + \"-\" + value.substr(-1) : value;\n};\n\nconst rules = {\n  agencyNo: [\n    ruleRequired,\n    {\n      pattern: `^[0-9]{4}(-[0-9]{1})?$`,\n      message: \"Should be XXXX or XXXX-X\",\n    },\n    { max: 4 + 2 },\n  ],\n  no: [ruleRequired, ruleAllowOnlyDigits, { max: 5 }],\n  accountNo: [\n    ruleRequired,\n    {\n      pattern: `^[0-9]{8}(-[0-9]{1})?$`,\n      message: \"Should be XXXXXXXX or XXXXXXXX-X\",\n    },\n    { max: 8 + 2 },\n  ],\n  date: [ruleRequired],\n  holder: [ruleRequired],\n  to: [ruleRequired],\n  destinationName: [ruleRequired],\n  destinationBank: [ruleAllowOnlyDigits, { max: 4 }],\n  destinationDate: [ruleRequired],\n  depositMode: [ruleRequired],\n  amount: [ruleRequired],\n};\n\nconst defaultValues = {\n  depositMode: \"cash\",\n  accountType: \"personal\",\n  frontImage: [],\n  backImage: [],\n};\n\nconst imageUrlToImage = (url) => {\n  return {\n    url: `/uploads/${url}`,\n    name: url,\n    status: \"done\",\n    uid: url,\n  };\n};\n\nconst imageFromEvent = ({ file }) => {\n  if (file.status === \"removed\") {\n    return [];\n  }\n  if (file?.response?.message) {\n    file.uid = file?.response?.message;\n    file.url = `/uploads/${file?.response?.message}`;\n  }\n  return [file];\n};\n\nfunction ChequeAddModal({ onClose, okText, okButtonProps, onSave, initialValues }) {\n  const { t } = useTranslation([\"translation\"]);\n  const [form] = Form.useForm();\n\n  const translatedRules = useMemo(() => translateRules(t, rules), [t]);\n\n  const handleSubmit = (payload) => {\n    onSave({\n      ...initialValues,\n      ...payload,\n      date: payload.date.unix(),\n      destinationDate: payload.destinationDate.unix(),\n      frontImageUrl: payload.frontImage[0]?.uid,\n      backImageUrl: payload.backImage[0]?.uid,\n    });\n  };\n\n  const denormalizedInitialValues = initialValues\n    ? {\n        ...initialValues,\n        date: moment(initialValues.date * 1000),\n        destinationDate: moment(initialValues.destinationDate * 1000),\n        frontImage: initialValues.frontImageUrl ? [imageUrlToImage(initialValues.frontImageUrl)] : [],\n        backImage: initialValues.backImageUrl ? [imageUrlToImage(initialValues.backImageUrl)] : [],\n      }\n    : defaultValues;\n\n  return (\n    <ConfigProvider>\n      <Modal\n        title={okText}\n        onClose={onClose}\n        visible\n        okText={okText}\n        okButtonProps={{\n          form: \"cheque-add-modal\",\n          htmlType: \"submit\",\n          ...okButtonProps,\n        }}\n        onCancel={onClose}\n        width={800}\n        maskClosable={false}\n        keyboard={false}\n      >\n        <Form\n          layout=\"vertical\"\n          id=\"cheque-add-modal\"\n          form={form}\n          initialValues={denormalizedInitialValues}\n          onFinish={handleSubmit}\n        >\n          <Row gutter={16}>\n            <Col span={6}>\n              <Form.Item label={t(\"Cheque No\")} name=\"no\" rules={translatedRules.no}>\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col span={6}>\n              <Form.Item\n                label={t(\"Agency No\")}\n                name=\"agencyNo\"\n                getValueFromEvent={normalizeAgencyNo}\n                rules={translatedRules.agencyNo}\n              >\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col span={6}>\n              <Form.Item\n                label={t(\"Account No\")}\n                name=\"accountNo\"\n                rules={translatedRules.accountNo}\n                getValueFromEvent={normalizeAccountNo}\n              >\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col span={6}>\n              <Form.Item label={t(\"Cheque Date\")} name=\"date\" rules={translatedRules.date}>\n                <DatePicker style={{ width: \"100%\" }} />\n              </Form.Item>\n            </Col>\n          </Row>\n          <Row gutter={16}>\n            <Col span={8}>\n              <Form.Item\n                label={t(\"Amount\")}\n                name=\"amount\"\n                rules={translatedRules.amount}\n                trigger=\"onValueChange\"\n                getValueFromEvent={(vs) => vs.floatValue}\n              >\n                <NumberFormat customInput={Input} thousandSeparator=\".\" decimalSeparator=\",\" />\n              </Form.Item>\n            </Col>\n            <Col span={8}>\n              <Form.Item label={t(\"Holder\")} name=\"holder\" rules={translatedRules.holder}>\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col span={8}>\n              <Form.Item label={t(\"To\")} name=\"to\" rules={translatedRules.to}>\n                <Input />\n              </Form.Item>\n            </Col>\n          </Row>\n\n          <Row gutter={16}>\n            <Col span={8}>\n              <Form.Item label={t(\"Destination Bank Number\")} name=\"destinationBank\" rules={translatedRules.destinationBank}>\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col span={8}>\n              <Form.Item\n                label={t(\"Destination Name (Beneficiary)\")}\n                name=\"destinationName\"\n                rules={translatedRules.destinationName}\n              >\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col span={8}>\n              <Form.Item label={t(\"Destination Date\")} name=\"destinationDate\" rules={translatedRules.destinationDate}>\n                <DatePicker style={{ width: \"100%\" }} />\n              </Form.Item>\n            </Col>\n          </Row>\n          <Row>\n            <Col span={12}>\n              <Form.Item name=\"depositMode\" rules={translatedRules.depositMode}>\n                <Radio.Group>\n                  <Radio value=\"cash\">{t(\"Cash\")}</Radio>\n                  <Radio value=\"deposit\">{t(\"Deposit\")}</Radio>\n                </Radio.Group>\n              </Form.Item>\n            </Col>\n            <Col span={12}>\n              <Form.Item name=\"accountType\">\n                <Radio.Group>\n                  <Radio value=\"personal\">{t(\"Personal\")}</Radio>\n                  <Radio value=\"business\">{t(\"Business\")}</Radio>\n                </Radio.Group>\n              </Form.Item>\n            </Col>\n          </Row>\n          <Row>\n            <Col span={12}>\n              <Form.Item\n                label={t(\"Front Image\")}\n                name=\"frontImage\"\n                rules={translatedRules.frontImageUrl}\n                getValueFromEvent={imageFromEvent}\n                valuePropName=\"fileList\"\n                shouldUpdate\n                help={t(\"only images (jpeg, png etc..) allowed\")}\n              >\n                <Upload\n                  action=\"/api/orgs/logo-upload\"\n                  accept=\"image/*\"\n                  headers={{\n                    Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                  }}\n                  listType=\"picture-card\"\n                >\n                  {t(\"upload\")}\n                </Upload>\n              </Form.Item>\n            </Col>\n            <Col span={12}>\n              <Form.Item\n                label={t(\"Back Image\")}\n                name=\"backImage\"\n                rules={translatedRules.backImageUrl}\n                getValueFromEvent={imageFromEvent}\n                valuePropName=\"fileList\"\n                shouldUpdate\n                help={t(\"only images (jpeg, png etc..) allowed\")}\n              >\n                <Upload\n                  action=\"/api/orgs/logo-upload\"\n                  accept=\"image/*\"\n                  headers={{\n                    Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                  }}\n                  listType=\"picture-card\"\n                >\n                  {t(\"upload\")}\n                </Upload>\n              </Form.Item>\n            </Col>\n          </Row>\n        </Form>\n      </Modal>\n    </ConfigProvider>\n  );\n}\n\nexport default ChequeAddModal;\n","import React from \"react\";\nimport { Modal } from \"antd\";\nimport { useState } from \"react\";\n\nfunction ChequeImageModal({ urls, onClose }) {\n  const [selected, setSelected] = useState(urls[0]);\n\n  return (\n    <Modal visible onCancel={onClose} footer={null} width={1000}>\n      <div\n        style={{\n          display: \"grid\",\n          gridTemplateColumns: \"80px auto\",\n          height: 450,\n        }}\n      >\n        <div\n          style={{\n            textAlign: \"center\",\n            borderRight: \"1px solid #aaa\",\n            paddingRight: 16,\n          }}\n        >\n          {urls.map((url) => (\n            <div\n              style={{\n                borderWidth: selected === url ? 3 : 0,\n                borderStyle: \"solid\",\n                marginBottom: 16,\n                borderColor: \"teal\",\n              }}\n            >\n              <img\n                key={url}\n                style={{\n                  maxWidth: \"100%\",\n                  height: 60,\n                  objectFit: \"contain\",\n                }}\n                src={url}\n                onClick={() => setSelected(url)}\n              />\n            </div>\n          ))}\n        </div>\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            minHeight: 0,\n            justifyContent: \"center\",\n            padding: 16,\n          }}\n        >\n          <img\n            style={{\n              maxWidth: \"100%\",\n              maxHeight: \"100%\",\n              objectFit: \"contain\",\n            }}\n            src={selected}\n          />\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nexport default ChequeImageModal;\n","const currencyFormatter = new Intl.NumberFormat(\"pt-BR\", {\n  maximumFractionDigits: 2,\n  minimumFractionDigits: 2,\n});\n\nexport default currencyFormatter;\n","import React from \"react\";\nimport { Calendar, Modal } from \"antd\";\nimport moment from \"moment\";\nimport currencyFormatter from \"../../helpers/currencyFormatter\";\n\nconst colors = [\"teal\", \"blue\", \"orange\"];\n\nfunction Cell({ cheques }) {\n  return (\n    <ul>\n      {cheques.map((c, i) => (\n        <li\n          style={{\n            fontSize: 10,\n            whiteSpace: \"nowrap\",\n            textOverflow: \"ellipsis\",\n          }}\n          key={c._id}\n        >\n          <i style={{ color: colors[i % colors.length], marginRight: 4 }}></i>\n          {c.no} ({c.status}) ({currencyFormatter.format(c.amount)})\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nfunction ChequeCalenderModal({ cheques, onClose }) {\n  const chequeMapByDate = cheques.reduce((acc, cheque) => {\n    const date = moment(cheque.date * 1000).format(\"DD/MM/YYYY\");\n    const destinationDate = moment(cheque.destinationDate * 1000).format(\n      \"DD/MM/YYYY\"\n    );\n    const dateOnes = acc[date] || [];\n    const destDateOnes = acc[destinationDate] || [];\n    dateOnes.push(cheque);\n    destDateOnes.push(cheque);\n    acc[date] = dateOnes;\n    acc[destinationDate] = destDateOnes;\n    return acc;\n  }, {});\n\n  const chequeMapByMonth = cheques.reduce((acc, cheque) => {\n    const date = moment(cheque.date * 1000).format(\"MM/YYYY\");\n    const destinationDate = moment(cheque.destinationDate * 1000).format(\n      \"MM/YYYY\"\n    );\n    const dateOnes = acc[date] || [];\n    const destDateOnes = acc[destinationDate] || [];\n    dateOnes.push(cheque);\n    destDateOnes.push(cheque);\n    acc[date] = dateOnes;\n    acc[destinationDate] = destDateOnes;\n    return acc;\n  }, {});\n\n  const dateCellRender = (value) => {\n    const filteredCheques = chequeMapByDate[value.format(\"DD/MM/YYYY\")];\n    if (!filteredCheques) return null;\n\n    return <Cell cheques={filteredCheques} />;\n  };\n\n  const monthCellRender = (value) => {\n    const filteredCheques = chequeMapByMonth[value.format(\"MM/YYYY\")];\n    if (!filteredCheques) return null;\n\n    return <Cell cheques={filteredCheques} />;\n  };\n  return (\n    <Modal\n      visible\n      onCancel={onClose}\n      width=\"95%\"\n      bodyStyle={{ height: \"80vh\", overflowY: \"auto\" }}\n      footer={null}\n    >\n      <Calendar\n        fullscreen\n        dateCellRender={dateCellRender}\n        monthCellRender={monthCellRender}\n      />\n      ,\n    </Modal>\n  );\n}\n\nexport default ChequeCalenderModal;\n","import React, { useMemo, useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { Button, Confirm, Icon, Input, Pagination, Table } from \"semantic-ui-react\";\nimport { useAPI } from \"../../helpers/useFetch\";\nimport ChequeAddModal from \"./ChequeAddModal\";\nimport moment from \"moment\";\nimport NSHandler from \"../../components/NSHandler\";\nimport useList from \"src/helpers/useList\";\nimport DropdownConfirmation from \"src/components/DropdownConfirmation\";\nimport ChequeImageModal from \"./ChequeImageModal\";\nimport { useContext } from \"react\";\nimport { OrganizationContext } from \"src/contexts\";\nimport currencyFormatterPrefix from \"src/helpers/currencyFormatterPrefix\";\nimport ChequeCalenderModal from \"./ChequeCalenderModal\";\nimport { useTranslation } from \"react-i18next\";\nimport OrgAwareButton from \"src/components/OrgAwareButton\";\n\nconst searchFields = \"*\";\n\nconst statusColors = {\n  new: \"teal\",\n  canceled: \"orange\",\n  good: \"blue\",\n  compensated: undefined,\n  other: undefined,\n  returned: undefined,\n};\n\nconst statusOptions = [\n  { value: \"new\", text: \"New\" },\n  { value: \"good\", text: \"Good\" },\n  { value: \"compensated\", text: \"Compensate\" },\n  { value: \"canceled\", text: \"Cancel\", confirm: true },\n  { value: \"returned\", text: \"Return\" },\n  { value: \"other\", text: \"Other\", confirmWithComment: true },\n];\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => (a === \"status change\" ? `failed to change status of ${n}` : `failed to ${a} ${n}`),\n};\n\nfunction useCheque() {\n  const [[id, payload, method], setState] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"add\" && payload) return [\"/api/cheques\", { method: \"POST\", body: JSON.stringify(payload) }];\n    if (method === \"update\" && id && payload) return [`/api/cheques/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && id) return [`/api/cheques/${id}`, { method: \"DELETE\" }];\n\n    if (method === \"status change\" && id && payload)\n      return [`/api/cheques/${id}/status`, { method: \"POST\", body: JSON.stringify(payload) }];\n    return [undefined, undefined];\n  }, [payload, method, id]);\n  const [, status] = useAPI(...opts);\n\n  const add = (payload) => setState([undefined, payload, \"add\"]);\n  const edit = (payload, id) => setState([id, payload, \"update\"]);\n  const del = (id) => setState([id, undefined, \"delete\"]);\n  const changeStatus = (payload, id) => setState([id, payload, \"status change\"]);\n  const reset = () => setState([]);\n\n  if (method) {\n    status.action = method;\n    status.message = msgTemplate[status.code] ? msgTemplate[status.code](\"cheque\", method) : \"\";\n  }\n\n  return { add, edit, del, reset, changeStatus, status };\n}\n\nfunction useCheques() {\n  const organizationId = useContext(OrganizationContext);\n\n  return useList(`/api/cheques?organizationId=${organizationId || \"\"}`, searchFields);\n}\n\nfunction ChequeList({ addToast }) {\n  const { t } = useTranslation([\"translation\"]);\n  const [cheques, { total, pages }, search, goto, sort, filters, chequesStatus, refresh] = useCheques();\n  const { add, edit, del, changeStatus, reset, status: actionStatus } = useCheque();\n\n  const [shouldShowAddModal, setShouldShowAddModal] = useState(false);\n  const [shouldShowCalender, setShouldShowCalender] = useState(false);\n  const [selectedChequeForEdit, setSelectedChequeForEdit] = useState();\n  const [selectedChequeForDelete, setSelectedChequeForDelete] = useState();\n  const [selectedImages, setSelectedImages] = useState();\n\n  const handleSearch = (e) => search(e.target.value);\n\n  const closeAddModal = () => setShouldShowAddModal(false);\n  const showAddModal = () => setShouldShowAddModal(true);\n\n  const closeEditModal = () => setSelectedChequeForEdit(undefined);\n  const handleEdit = (cheque) => () => setSelectedChequeForEdit(cheque);\n\n  const handleDelete = (id) => () => setSelectedChequeForDelete(id);\n  const closeDeleteConfirmation = () => setSelectedChequeForDelete(undefined);\n\n  const showChequeCalender = () => setShouldShowCalender(true);\n  const hideChequeCalender = () => setShouldShowCalender(false);\n\n  const handlePageChange = (_, d) => {\n    goto(d.activePage);\n  };\n\n  const handleStatusChange = (id) => (_, data) => {\n    changeStatus({ status: data.value, comment: data.comment }, id);\n  };\n\n  useEffect(() => {\n    if (actionStatus.isError || actionStatus.isSuccess) {\n      addToast(actionStatus.message, {\n        appearance: actionStatus.toString().toLowerCase(),\n      });\n\n      if (actionStatus.isSuccess) {\n        closeAddModal();\n        closeEditModal();\n        closeDeleteConfirmation();\n        refresh();\n      }\n    }\n  }, [actionStatus]);\n\n  useEffect(() => {\n    if (!shouldShowAddModal && actionStatus.action === \"add\" && actionStatus.isSuccess) {\n      reset();\n    }\n  }, [shouldShowAddModal, actionStatus.action, actionStatus.isSuccess]);\n\n  const translatedStatusOptions = useMemo(() => statusOptions.map((o) => ({ ...o, text: t(o.text) })), [t]);\n\n  return (\n    <div className=\"container\">\n      <h2>{t(\"Cheques\")}</h2>\n      <div className=\"list-actions\">\n        <span>\n          {t(\"Total\")}: {total}\n        </span>\n        <div style={{ marginLeft: 16, marginRight: 16 }}>\n          <Input\n            type=\"text\"\n            placeholder={t(\"Search\")}\n            onChange={handleSearch}\n            value={filters.searchText}\n            icon={<Icon name=\"delete\" onClick={() => search(\"\")} circular link />}\n          />\n        </div>\n        <Button onClick={showChequeCalender} icon=\"calendar alternate outline\"></Button>\n        <OrgAwareButton type=\"primary\" className=\"generic-create-btn\" onClick={showAddModal}>\n          {t(\"Add\")} {t(\"Cheque\")}\n        </OrgAwareButton>\n      </div>\n\n      <NSHandler status={chequesStatus}>\n        {() => (\n          <Table sortable>\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell>{t(\"Actions\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Status\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Cheque No\")}</Table.HeaderCell>\n                <Table.HeaderCell\n                  sorted={filters.sort.by === \"date\" ? filters.sort.direction : null}\n                  onClick={() => sort(\"date\", filters.sort.direction === \"descending\" ? \"ascending\" : \"descending\")}\n                >\n                  {t(\"Cheque Date\")}\n                </Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Agency No\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Account No\")}</Table.HeaderCell>\n                <Table.HeaderCell\n                  sorted={filters.sort.by === \"holder\" ? filters.sort.direction : null}\n                  onClick={() => sort(\"holder\", filters.sort.direction === \"descending\" ? \"ascending\" : \"descending\")}\n                >\n                  {t(\"Holder\")}\n                </Table.HeaderCell>\n                <Table.HeaderCell>{t(\"To\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Amount\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Destination\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Images\")}</Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n\n            <Table.Body>\n              {cheques.map((cheque) => (\n                <Table.Row key={cheque._id}>\n                  <Table.Cell>\n                    <Button icon=\"edit\" basic onClick={handleEdit(cheque)} size=\"mini\" />\n                    <Button icon=\"trash alternate\" negative basic onClick={handleDelete(cheque._id)} size=\"mini\" />\n                  </Table.Cell>\n                  <Table.Cell style={{ width: 160 }}>\n                    <DropdownConfirmation\n                      options={translatedStatusOptions}\n                      onChange={handleStatusChange(cheque._id)}\n                      defaultValue={cheque.status}\n                      color={statusColors[cheque.status]}\n                      size=\"mini\"\n                      basic\n                    >\n                      {cheque.status.toUpperCase()}\n                    </DropdownConfirmation>\n                    {cheque.status === \"other\" && (\n                      <>\n                        <br />\n                        <br />\n                        <strong>{t(\"Comment\")}: </strong>\n                        {cheque.comment}\n                      </>\n                    )}\n                  </Table.Cell>\n                  <Table.Cell>{cheque.no}</Table.Cell>\n                  <Table.Cell>{moment(cheque.date * 1000).format(\"DD/MM/YYYY\")}</Table.Cell>\n                  <Table.Cell>{cheque.agencyNo}</Table.Cell>\n                  <Table.Cell>{cheque.accountNo}</Table.Cell>\n                  <Table.Cell>{cheque.holder}</Table.Cell>\n                  <Table.Cell>{cheque.to}</Table.Cell>\n                  <Table.Cell>{currencyFormatterPrefix.format(cheque.amount)}</Table.Cell>\n                  <Table.Cell>\n                    <Icon name=\"user outline\" />\n                    {cheque.destinationName}\n                    <br />\n                    <Icon name=\"building outline\" />\n                    {cheque.destinationBank}\n                    <br />\n                    <Icon name=\"calendar alternate outline\" />\n                    {moment(cheque.destinationDate * 1000).format(\"DD/MM/YYYY\")}\n                  </Table.Cell>\n                  <Table.Cell>\n                    {(cheque.frontImageUrl || cheque.backImageUrl) && (\n                      <Button\n                        basic\n                        icon=\"images outline\"\n                        size=\"mini\"\n                        onClick={() =>\n                          setSelectedImages([`/uploads/${cheque.frontImageUrl}`, `/uploads/${cheque.backImageUrl}`])\n                        }\n                      />\n                    )}\n                  </Table.Cell>\n                </Table.Row>\n              ))}\n            </Table.Body>\n            <Table.Footer>\n              <Table.Row>\n                <Table.HeaderCell colSpan=\"20\" style={{ textAlign: \"right\" }}>\n                  <Pagination activePage={filters.currentPage} totalPages={pages} onPageChange={handlePageChange} />\n                </Table.HeaderCell>\n              </Table.Row>\n            </Table.Footer>\n          </Table>\n        )}\n      </NSHandler>\n      {shouldShowAddModal && (\n        <ChequeAddModal\n          onSave={add}\n          okText=\"Add Cheque\"\n          okButtonProps={{ disabled: actionStatus.isLoading }}\n          onClose={closeAddModal}\n        />\n      )}\n      {selectedChequeForEdit && (\n        <ChequeAddModal\n          onSave={(payload) => edit(payload, selectedChequeForEdit._id)}\n          onClose={closeEditModal}\n          initialValues={selectedChequeForEdit}\n          okButtonProps={{ disabled: actionStatus.isLoading }}\n          okText=\"Update Cheque\"\n        />\n      )}\n      {selectedChequeForDelete && (\n        <Confirm\n          open\n          content=\"Are you sure you want to DELETE this cheque ?\"\n          onCancel={closeDeleteConfirmation}\n          onConfirm={() => del(selectedChequeForDelete)}\n          cancelButton=\"No\"\n          confirmButton=\"Yes, Delete\"\n        />\n      )}\n      {selectedImages && <ChequeImageModal urls={selectedImages} onClose={() => setSelectedImages(undefined)} />}\n      {shouldShowCalender && <ChequeCalenderModal cheques={cheques} onClose={hideChequeCalender} />}\n    </div>\n  );\n}\n\nexport default ChequeList;\n","import React from \"react\";\nimport { Row, Col, Input, Radio, Form, Modal, Select, ConfigProvider, DatePicker } from \"antd\";\nimport moment from \"moment\";\nimport { InputNumberFmtd } from \"src/components\";\nimport currencyFormatterPrefix from \"../../helpers/currencyFormatterPrefix\";\n\nimport { useDepartmentsWithProfits } from \"src/hooks\";\nimport NumberFormat from \"react-number-format\";\nimport { useTranslation } from \"react-i18next\";\n\nconst TextArea = Input.TextArea;\n\nconst ruleRequired = { required: true };\n\nconst validations = {\n  name: [ruleRequired],\n  type: [ruleRequired],\n  frequency: [ruleRequired],\n  issueDate: [ruleRequired],\n  dueDate: [ruleRequired],\n  moneySource: [ruleRequired],\n  paymentMethod: [ruleRequired],\n  amount: [ruleRequired],\n  lateFee: [ruleRequired],\n  receiptUrl: [ruleRequired],\n  invoiceUrl: [ruleRequired],\n  numTimes: [{ min: 1, type: \"number\" }],\n  fixedAmount: [ruleRequired, { min: 1, type: \"number\" }],\n  variableAmount: [{ min: 1, type: \"number\" }],\n};\n\nconst defaultValues = {\n  frequency: \"monthly\",\n  type: \"utility\",\n  receipt: [],\n  invoice: [],\n  fixed: true,\n  chequeIds: [],\n};\n\nconst imageUrlToImage = (url) => {\n  return {\n    url: url,\n    name: url,\n    status: \"done\",\n    uid: url,\n  };\n};\n\nfunction ExpenseAddModal({ onClose, okText, okButtonProps, onSave, initialValues }) {\n  const { t } = useTranslation([\"translation\"]);\n  const [form] = Form.useForm();\n  const [departments = [], departmentsStatus] = useDepartmentsWithProfits(initialValues?.organizationId);\n\n  const handleSubmit = (payload) => {\n    onSave({\n      ...payload,\n      numTimes: Number(payload.numTimes),\n      moneySourceId: payload.moneySourceId || undefined,\n      issueDate: payload.issueDate.unix(),\n      dueDate: payload.dueDate.unix(),\n      amount: payload.amount,\n      lateFee: payload.lateFee,\n    });\n  };\n\n  const denormalizedInitialValues = initialValues\n    ? {\n        ...initialValues,\n        amount: initialValues.amount,\n        lateFee: initialValues.lateFee || 0,\n        issueDate: initialValues.issueDate ? moment(initialValues.issueDate * 1000) : undefined, // create expense from wood calc don't have dates\n        dueDate: initialValues.dueDate ? moment(initialValues.dueDate * 1000) : undefined,\n        receipts: (initialValues.receipts || []).map(({ url }) => imageUrlToImage(url)),\n        invoices: (initialValues.invoices || []).map(({ url }) => imageUrlToImage(url)),\n      }\n    : defaultValues;\n\n  const departmentOptions = departments\n    .filter(({ profit }) => profit > 0)\n    .map((d) => ({\n      label: `${d.title} (${currencyFormatterPrefix.format(d.profit)})`,\n      value: d._id,\n    }));\n\n  return (\n    <ConfigProvider componentSize=\"middle\">\n      <Modal\n        title={okText}\n        onClose={onClose}\n        visible\n        okText={okText}\n        okButtonProps={{\n          form: \"expense-add-modal\",\n          htmlType: \"submit\",\n          ...okButtonProps,\n        }}\n        onCancel={onClose}\n        width={1024}\n        maskClosable={false}\n        keyboard={false}\n      >\n        <Form\n          layout=\"vertical\"\n          id=\"expense-add-modal\"\n          form={form}\n          initialValues={denormalizedInitialValues}\n          onFinish={handleSubmit}\n        >\n          <Row gutter={16}>\n            <Col span={6}>\n              <Form.Item label={t(\"Title\")} name=\"name\" rules={validations.name}>\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col span={4}>\n              <Form.Item label={t(\"Type\")} name=\"type\" rules={validations.type}>\n                <Select>\n                  <Select.Option value=\"utility\">{t(\"Utility\")}</Select.Option>\n                  <Select.Option value=\"salary\">{t(\"Salary\")}</Select.Option>\n                  <Select.Option value=\"rent\">{t(\"Rent\")}</Select.Option>\n                  <Select.Option value=\"purchase\">{t(\"Purchase\")}</Select.Option>\n                </Select>\n              </Form.Item>\n            </Col>\n            <Col>\n              <Form.Item label={t(\"Frequency\")} name=\"frequency\" rules={validations.frequency}>\n                <Radio.Group>\n                  <Radio.Button value=\"daily\">{t(\"Daily\")}</Radio.Button>\n                  <Radio.Button value=\"weekly\">{t(\"Weekly\")}</Radio.Button>\n                  <Radio.Button value=\"monthly\">{t(\"Monthly\")}</Radio.Button>\n                  <Radio.Button value=\"custom\">{t(\"Custom\")}</Radio.Button>\n                </Radio.Group>\n              </Form.Item>\n            </Col>\n            <Col span={4}>\n              <Form.Item noStyle shouldUpdate>\n                {({ getFieldValue }) => (\n                  <Form.Item\n                    label=\"\"\n                    name=\"numTimes\"\n                    rules={validations.numTimes}\n                    trigger=\"onValueChange\"\n                    getValueFromEvent={(vs) => vs.floatValue}\n                  >\n                    <NumberFormat\n                      customInput={(props) => <Input {...props} suffix=\"times\" />}\n                      thousandSeparator=\".\"\n                      decimalSeparator=\",\"\n                      disabled={getFieldValue(\"frequency\") !== \"custom\"}\n                    />\n                  </Form.Item>\n                )}\n              </Form.Item>\n            </Col>\n          </Row>\n\n          <Row gutter={16}>\n            <Col span={9}>\n              <Form.Item label={t(\"Source of Money\")} name=\"moneySourceId\">\n                <Select options={departmentOptions} loading={departmentsStatus.isLoading} allowClear></Select>\n              </Form.Item>\n            </Col>\n            <Col span={5}>\n              <Form.Item label={t(\"Issue Date\")} name=\"issueDate\" rules={validations.issueDate}>\n                <DatePicker style={{ width: \"100%\" }} />\n              </Form.Item>\n            </Col>\n            <Col span={5}>\n              <Form.Item label={t(\"Due Date\")} name=\"dueDate\" rules={validations.dueDate}>\n                <DatePicker style={{ width: \"100%\" }} />\n              </Form.Item>\n            </Col>\n            <Col span={5}>\n              <Form.Item noStyle shouldUpdate>\n                {({ getFieldValue }) => (\n                  <Form.Item label={t(\"Fixed or Variable\")} name=\"fixed\" rules={validations.fixed}>\n                    <Radio.Group disabled={getFieldValue(\"numTimes\") === \"1\" && getFieldValue(\"frequency\") === \"custom\"}>\n                      <Radio.Button value={true}>{t(\"Fixed\")}</Radio.Button>\n                      <Radio.Button value={false}>{t(\"Variable\")}</Radio.Button>\n                    </Radio.Group>\n                  </Form.Item>\n                )}\n              </Form.Item>\n            </Col>\n          </Row>\n          <Row gutter={16}>\n            <Col span={6}>\n              <Form.Item dependencies={[\"fixed\"]} noStyle>\n                {({ getFieldValue }) => (\n                  <Form.Item\n                    label={t(\"Amount (single time)\")}\n                    name=\"amount\"\n                    rules={getFieldValue(\"fixed\") ? validations.fixedAmount : validations.variableAmount}\n                    trigger=\"onValueChange\"\n                    getValueFromEvent={(vs) => vs.floatValue || 0}\n                  >\n                    <NumberFormat customInput={Input} thousandSeparator=\".\" decimalSeparator=\",\" />\n                  </Form.Item>\n                )}\n              </Form.Item>\n            </Col>\n            <Col span={3}>\n              <Form.Item label={t(\"Late Fee\")} name=\"lateFee\">\n                <InputNumberFmtd />\n              </Form.Item>\n            </Col>\n          </Row>\n          <Form.Item name=\"description\" label={t(\"Description\")}>\n            <TextArea rows={6} />\n          </Form.Item>\n        </Form>\n      </Modal>\n    </ConfigProvider>\n  );\n}\n\nexport default ExpenseAddModal;\n","import React, { useMemo, useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { Button, Confirm, Icon, Input, Pagination, Table } from \"semantic-ui-react\";\nimport NSHandler from \"../../components/NSHandler\";\nimport { useAPI } from \"../../helpers/useFetch\";\nimport ExpenseAddModal from \"./ExpenseAddModal\";\nimport moment from \"moment\";\nimport currencyFormatterPrefix from \"../../helpers/currencyFormatterPrefix\";\nimport { Link } from \"@reach/router\";\nimport { useExpenses } from \"src/hooks\";\nimport OrgAwareButton from \"src/components/OrgAwareButton\";\nimport { useTranslation } from \"react-i18next\";\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => (a === \"status change\" ? `failed to change status of ${n}` : `failed to ${a} ${n}`),\n};\n\nfunction useExpense() {\n  const [[id, payload, method], setPayload] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"add\" && payload) return [\"/api/expenses\", { method: \"POST\", body: JSON.stringify(payload) }];\n    if (method === \"update\" && id && payload) return [`/api/expenses/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && id) return [`/api/expenses/${id}`, { method: \"DELETE\" }];\n\n    return [undefined, undefined];\n  }, [payload, method, id]);\n  const [, status] = useAPI(...opts);\n\n  const add = (payload) => setPayload([undefined, payload, \"add\"]);\n  const edit = (payload, id) => setPayload([id, payload, \"update\"]);\n  const del = (id) => setPayload([id, undefined, \"delete\"]);\n  const changeStatus = (payload, id) => setPayload([id, payload, \"status change\"]);\n\n  status.action = method;\n  status.message = msgTemplate[status.code] ? msgTemplate[status.code](\"expense\", method) : \"\";\n\n  return { add, edit, del, changeStatus, status };\n}\n\nconst getInitialAddValues = () => {\n  const searchParams = new URLSearchParams(window.location.search);\n  return searchParams.get(\"create\")\n    ? {\n        name: searchParams.get(\"name\"),\n        type: searchParams.get(\"type\"),\n        description: searchParams.get(\"description\"),\n        amount: Number(searchParams.get(\"amount\")),\n        numTimes: Number(searchParams.get(\"numTimes\")),\n        frequency: searchParams.get(\"frequency\"),\n        shouldAdd: !!searchParams.get(\"create\"),\n        fixed: searchParams.get(\"fixed\") === \"true\",\n      }\n    : undefined;\n};\n\nfunction ExpenseList({ addToast }) {\n  const { t } = useTranslation([\"translation\"]);\n  const { data: expenses, total, pages, search, goto, sort, filters, status: expensesStatus, refresh } = useExpenses();\n\n  const initialAddValues = getInitialAddValues();\n\n  const { add, edit, del, changeStatus, status: actionStatus } = useExpense();\n\n  const [shouldShowAddModal, setShouldShowAddModal] = useState(!!initialAddValues?.shouldAdd);\n  const [selectedChequeForEdit, setSelectedChequeForEdit] = useState();\n  const [selectedChequeForDelete, setSelectedChequeForDelete] = useState();\n\n  const handleSearch = (e) => search(e.target.value);\n\n  const closeAddModal = () => setShouldShowAddModal(false);\n  const showAddModal = () => setShouldShowAddModal(true);\n\n  const closeEditModal = () => setSelectedChequeForEdit(undefined);\n  const handleEdit = (cheque) => () => setSelectedChequeForEdit(cheque);\n\n  const handleDelete = (id) => () => setSelectedChequeForDelete(id);\n  const closeDeleteConfirmation = () => setSelectedChequeForDelete(undefined);\n\n  const handlePageChange = (_, d) => {\n    goto(d.activePage);\n  };\n\n  useEffect(() => {\n    if (actionStatus.isError || actionStatus.isSuccess) {\n      addToast(actionStatus.message, {\n        appearance: actionStatus.toString().toLowerCase(),\n      });\n\n      if (actionStatus.isSuccess) {\n        closeAddModal();\n        closeEditModal();\n        closeDeleteConfirmation();\n        refresh();\n      }\n    }\n  }, [actionStatus]);\n\n  return (\n    <div className=\"container\">\n      <h2>{t(\"Expenses\")}</h2>\n      <div className=\"list-actions\">\n        <span>\n          {t(\"Total\")}: {total}\n        </span>\n        <div style={{ marginLeft: 16 }}>\n          <Input\n            type=\"text\"\n            placeholder={t(\"Search\")}\n            onChange={handleSearch}\n            value={filters.searchText}\n            icon={<Icon name=\"delete\" onClick={() => search(\"\")} circular link />}\n          />\n        </div>\n        <OrgAwareButton type=\"primary\" className=\"generic-create-btn\" onClick={showAddModal}>\n          {t(\"Add\")} {t(\"Expense\")}\n        </OrgAwareButton>\n      </div>\n\n      <NSHandler status={expensesStatus}>\n        {() => (\n          <Table sortable>\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell>{t(\"Actions\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Title\")}</Table.HeaderCell>\n                <Table.HeaderCell\n                  sorted={filters.sort.by === \"issueDate\" ? filters.sort.direction : null}\n                  onClick={() => sort(\"issueDate\", filters.sort.direction === \"descending\" ? \"ascending\" : \"descending\")}\n                >\n                  {t(\"Issue Date\")}\n                </Table.HeaderCell>\n                <Table.HeaderCell\n                  sorted={filters.sort.by === \"dueDate\" ? filters.sort.direction : null}\n                  onClick={() => sort(\"dueDate\", filters.sort.direction === \"descending\" ? \"ascending\" : \"descending\")}\n                >\n                  {t(\"Due Date\")}\n                </Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Frequency\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Source\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Cheque\")}</Table.HeaderCell>\n                <Table.HeaderCell>{\"Amount\"}</Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n\n            <Table.Body>\n              {expenses.map((expense) => (\n                <Table.Row key={expense._id}>\n                  <Table.Cell>\n                    <Button icon=\"edit\" basic onClick={handleEdit(expense)} size=\"mini\" />\n                    <Button icon=\"trash alternate\" negative basic onClick={handleDelete(expense._id)} size=\"mini\" />\n                  </Table.Cell>\n                  <Table.Cell>\n                    <Link to={`/expenses/${expense._id}`}>\n                      ({expense.type}) {expense.name}\n                    </Link>\n                  </Table.Cell>\n                  <Table.Cell>{moment(expense.issueDate * 1000).format(\"DD/MM/YYYY\")}</Table.Cell>\n                  <Table.Cell>{moment(expense.dueDate * 1000).format(\"DD/MM/YYYY\")}</Table.Cell>\n                  <Table.Cell>{expense.frequency}</Table.Cell>\n                  <Table.Cell>{expense.moneySource?.title}</Table.Cell>\n                  <Table.Cell>\n                    {expense.cheques.map(({ no, amount }) => (\n                      <a key={no} style={{ display: \"block\" }} target=\"_blank\" href=\"/cheques\">\n                        ({no}) {currencyFormatterPrefix.format(amount)}\n                      </a>\n                    ))}\n                  </Table.Cell>\n                  <Table.Cell>\n                    {currencyFormatterPrefix.format(expense.amount)}\n                    <br />\n                    {t(\"Late Fee\")}: {currencyFormatterPrefix.format(expense.lateFee)}\n                    <br />\n                    {expense.fixed ? `(${t(\"Fixed\")})` : `(${t(\"Variable\")})`}\n                  </Table.Cell>\n                </Table.Row>\n              ))}\n            </Table.Body>\n            <Table.Footer>\n              <Table.Row>\n                <Table.HeaderCell colSpan=\"20\" style={{ textAlign: \"right\" }}>\n                  <Pagination activePage={filters.currentPage} totalPages={pages} onPageChange={handlePageChange} />\n                </Table.HeaderCell>\n              </Table.Row>\n            </Table.Footer>\n          </Table>\n        )}\n      </NSHandler>\n      {shouldShowAddModal && (\n        <ExpenseAddModal\n          onSave={add}\n          okText={`${t(\"Add\")} ${t(\"Expense\")}`}\n          okButtonProps={{ disabled: actionStatus.isLoading }}\n          onClose={closeAddModal}\n          initialValues={initialAddValues}\n        />\n      )}\n      {selectedChequeForEdit && (\n        <ExpenseAddModal\n          onSave={(payload) => edit(payload, selectedChequeForEdit._id)}\n          onClose={closeEditModal}\n          initialValues={selectedChequeForEdit}\n          okButtonProps={{ disabled: actionStatus.isLoading }}\n          okText={`${t(\"Update\")} ${t(\"Expense\")}`}\n        />\n      )}\n      {selectedChequeForDelete && (\n        <Confirm\n          open\n          content={`${t(\"Are you sure you want to delete\")} ?`}\n          onCancel={closeDeleteConfirmation}\n          onConfirm={() => del(selectedChequeForDelete)}\n          cancelButton={t(\"No\")}\n          confirmButton={t(\"Delete\")}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default ExpenseList;\n","import { Link } from \"@reach/router\";\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport currencyFormatter from \"../../helpers/currencyFormatterPrefix\";\n\nfunction RevenueCost({ className, revenue, cost, collected, notCollected, label, value, labelLink }) {\n  const { t } = useTranslation(\"translation\");\n  return (\n    <div className={`${className} card`}>\n      <div className=\"main\">{currencyFormatter.format(revenue - cost)}</div>\n      <div className=\"below\">\n        <span style={{ fontSize: 12, color: \"gray\" }}>\n          {t(\"Revenue\")}:\n          <br />\n          <span className=\"revenue\">{currencyFormatter.format(revenue)}</span>\n        </span>\n        <span style={{ fontSize: 12, color: \"gray\" }}>\n          {t(\"Cost\")}:\n          <br />\n          <span className=\"cost\">{currencyFormatter.format(cost)}</span>\n        </span>\n      </div>\n      <div className=\"below\">\n        {collected !== undefined && (\n          <span style={{ fontSize: 12, color: \"gray\" }}>\n            {t(\"Collected\")}:\n            <br />\n            <span className=\"collected\">{currencyFormatter.format(collected)}</span>\n          </span>\n        )}\n        {notCollected !== undefined && (\n          <span style={{ fontSize: 12, color: \"gray\" }}>\n            {t(\"Yet to collect\")}:\n            <br />\n            <span className=\"needtocollect\">{currencyFormatter.format(notCollected)}</span>\n          </span>\n        )}\n      </div>\n      <div className=\"side-by-side\">\n        {labelLink ? (\n          <Link to={labelLink}>\n            {label}: {value}\n          </Link>\n        ) : (\n          `${label}: ${value}`\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default RevenueCost;\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Divider } from \"semantic-ui-react\";\nimport NSHandler from \"src/components/NSHandler\";\nimport currencyFormatterPrefix from \"src/helpers/currencyFormatterPrefix\";\nimport { useAPI } from \"src/helpers/useFetch\";\n\nconst labelMap = {\n  partial: \"Partial\",\n  paid: \"Paid\",\n  notpaid: \"Not Paid\",\n  nextMonthExpense: \"Next Month Expense\",\n  dues: \"Late Payment\",\n};\n\nconst getTotalPayment = (expenses) => {\n  return expenses.reduce((acc, e) => {\n    return e.payments.reduce((acc, p) => acc + p.amount, 0) + acc;\n  }, 0);\n};\n\nconst getTotalAmount = (expenses) => {\n  return expenses.reduce((acc, e) => e.amount + acc, 0);\n};\n\nfunction ExpenseStats() {\n  const { t } = useTranslation(\"translation\");\n  const [expenseStats = {}, expenseStatsStatus] = useAPI(\"/api/expenses/stats\");\n  return (\n    <div className=\"expense-stats-container\">\n      <h3 style={{ textTransform: \"uppercase\" }}>{t(\"Expense Stats\")}</h3>\n      <NSHandler status={expenseStatsStatus}>\n        {() => (\n          <div className=\"expense-stats\">\n            <div className=\"card\">\n              <div className=\"main\">{expenseStats.total}</div>\n\n              <div className=\"side-by-side\">{t(\"Total Expenses\")}</div>\n            </div>\n            <div className=\"card\">\n              <div className=\"main\">{currencyFormatterPrefix.format(getTotalPayment(expenseStats.paid))}</div>\n              <div className=\"below\"></div>\n\n              <div className=\"side-by-side\">\n                {t(labelMap.paid)}: {expenseStats.paid.length}\n              </div>\n            </div>\n            <div className=\"card\">\n              <div className=\"main\">{currencyFormatterPrefix.format(getTotalPayment(expenseStats.partial))}</div>\n              <div className=\"below\"></div>\n\n              <div className=\"side-by-side\">\n                {t(labelMap.partial)}: {expenseStats.partial.length}\n              </div>\n            </div>\n            <div className=\"card\">\n              <div className=\"main\">{currencyFormatterPrefix.format(getTotalAmount(expenseStats.notpaid))}</div>\n              <div className=\"below\"></div>\n\n              <div className=\"side-by-side\">\n                {t(labelMap.notpaid)}: {expenseStats.notpaid.length}\n              </div>\n            </div>\n            <div className=\"card\">\n              <div className=\"main\">{currencyFormatterPrefix.format(getTotalAmount(expenseStats.nextMonthExpense))}</div>\n              <div className=\"below\"></div>\n\n              <div className=\"side-by-side\">\n                {t(labelMap.nextMonthExpense)}: {expenseStats.nextMonthExpense.length}\n              </div>\n            </div>\n            <div className=\"card\">\n              <div className=\"main\">{currencyFormatterPrefix.format(getTotalAmount(expenseStats.dues))}</div>\n              <div className=\"below\"></div>\n\n              <div className=\"side-by-side\">\n                {t(labelMap.dues)}: {expenseStats.dues.length}\n              </div>\n            </div>\n          </div>\n        )}\n      </NSHandler>\n      <Divider />\n    </div>\n  );\n}\n\nexport default ExpenseStats;\n","import React, { useContext } from \"react\";\nimport { useAPI } from \"../../helpers/useFetch\";\nimport currencyFormatter from \"../../helpers/currencyFormatterPrefix\";\nimport { Dimmer, Loader, Divider } from \"semantic-ui-react\";\nimport { Radio, Modal, DatePicker, Button } from \"antd\";\nimport { useState } from \"react\";\nimport moment from \"moment\";\nimport { useTranslation } from \"react-i18next\";\nimport RevenueCost from \"./RevenueCost\";\nimport ExpenseStats from \"./ExpenseStats\";\nimport { PrinterOutlined } from \"@ant-design/icons\";\nimport { UserContext } from \"src/contexts\";\nimport \"./styles.scss\";\nimport { navigate } from \"@reach/router\";\n\nconst { RangePicker } = DatePicker;\n\nconst OrgStatTitles = {\n  organizations: \"Organizations\",\n  branches: \"Branches\",\n  products: \"Products\",\n  brands: \"Brands\",\n  reps: \"Representants\",\n  departments: \"Departments\",\n};\n\nconst commissionNameMap = {\n  open: \"future-commission\",\n  closed: \"paid-commission\",\n  partial: \"generated-commission\",\n  quotations: \"potential-commission\",\n  canceled: \"lost-commission\",\n};\n\nfunction RealProfit({ data, dashboard }) {\n  const profit = data.partial.revenue + data.closed.revenue - data.partial.cost - data.closed.cost;\n  const realProfit = profit - dashboard.totalexpenses;\n  const { t } = useTranslation(\"translation\");\n  return (\n    <div className=\"card\">\n      <div className=\"main\" style={{ color: realProfit < 0 ? \"#d3131d\" : \"\" }}>\n        {currencyFormatter.format(realProfit)}\n      </div>\n      <div className=\"below\">\n        <span style={{ fontSize: 12, color: \"gray\" }}>\n          {t(\"Profit\")}:\n          <br />\n          <span className=\"revenue\">{currencyFormatter.format(profit)}</span>\n        </span>\n        <span style={{ fontSize: 12, color: \"gray\" }}>\n          {t(\"Expense\")}:\n          <br />\n          <span className=\"cost\">{currencyFormatter.format(dashboard.totalexpenses)}</span>\n        </span>\n      </div>\n      <div className=\"side-by-side\">\n        <div>{t(\"Real Profits\")}</div>\n      </div>\n    </div>\n  );\n}\n\nfunction Dashboard({ history }) {\n  const { user: admin } = useContext(UserContext);\n\n  const [daterange, setDaterange] = useState({\n    range: \"alltime\",\n    value: [undefined, undefined],\n  });\n  const { t } = useTranslation(\"translation\");\n\n  const rangeQueryParam = new URLSearchParams([\n    [\"from\", daterange.value[0] ? daterange.value[0].unix() : \"\"],\n    [\"to\", daterange.value[1] ? daterange.value[1].unix() : \"\"],\n  ]);\n  const [data = {}, orderStatsStatus] = useAPI(`/api/orders-stats?${rangeQueryParam}`);\n  const [dashboard = {}, dashboardStatus] = useAPI(`/api/dashboard?${rangeQueryParam}`);\n  const [productStats = [], productStatsStatus] = useAPI(`/api/products-stats?${rangeQueryParam}`);\n  const [countByProcessStatus = [], countByProcessStatusStatus] = useAPI(\n    `/api/orders/aggregations/process-status?${rangeQueryParam}`\n  );\n  const [shouldShowPrintEverything, setShouldShowPrintEverything] = useState(false);\n\n  const showPrintEverythingDialog = () => setShouldShowPrintEverything(true);\n  const hidePrintEverythingDialog = () => setShouldShowPrintEverything(false);\n\n  const handleCustomRangeRadio = (e) => {\n    const v = e.target.value;\n    switch (v) {\n      case \"alltime\":\n        setDaterange({ range: v, value: [undefined, undefined] });\n        break;\n      case \"last30days\":\n        setDaterange({\n          range: v,\n          value: [moment().subtract(30, \"days\"), undefined],\n        });\n        break;\n      case \"today\":\n        setDaterange({\n          range: v,\n          value: [moment().startOf(\"day\"), undefined],\n        });\n        break;\n      case \"custom\":\n        setDaterange({\n          range: v,\n          value: [moment().subtract(14, \"days\"), undefined],\n        });\n        break;\n      default:\n        break;\n    }\n  };\n\n  const handleCustomRangeChange = (value) => {\n    setDaterange((s) => ({\n      ...s,\n      value: value === null ? [undefined, undefined] : value,\n    }));\n  };\n\n  let totalRevenue = 0;\n  let totalCost = 0;\n  let totalQuantity = 0;\n  let totalCollected = 0;\n  let totalNeedsToCollect = 0;\n  if (orderStatsStatus.isSuccess) {\n    totalRevenue = data.open.revenue + data.closed.revenue + data.partial.revenue;\n    totalCost = data.open.cost + data.closed.cost + data.partial.cost;\n    totalQuantity = data.open.orders + data.closed.orders + data.partial.orders;\n    totalCollected = data.closed.revenue + data.partial.collected;\n    totalNeedsToCollect = data.open.revenue + (data.partial.revenue - data.partial.collected);\n  }\n\n  let totalprofits = 0;\n  if (orderStatsStatus.isSuccess && dashboardStatus.isSuccess) {\n    totalprofits = data.partial.revenue + data.closed.revenue - data.partial.cost - data.closed.cost - dashboard.totalexpenses;\n  }\n\n  let totalProducts = {\n    products: 0,\n    worthPrice: 0,\n    worthCost: 0,\n  };\n  if (productStatsStatus.isSuccess) {\n    totalProducts = productStats.reduce(\n      (acc, p) => ({\n        products: acc.products + p.total,\n        worthPrice: acc.worthPrice + p.worthPrice,\n        worthCost: acc.worthCost + p.worthCost,\n      }),\n      totalProducts\n    );\n  }\n\n  const topDepartments = productStats.sort((a, b) => b.worthPrice - b.worthCost - (a.worthPrice - a.worthCost)).slice(0, 5);\n\n  const allearnings = dashboard?.allrepearnings;\n\n  return (\n    <div className=\"dashboard\">\n      <div className=\"filters\">\n        <div>\n          <span style={{ marginRight: 16 }}>{t(\"See by date range\")}</span>\n          <Radio.Group onChange={handleCustomRangeRadio} defaultValue={daterange.range}>\n            <Radio value=\"alltime\">{t(\"All Time\")}</Radio>\n            <Radio value=\"last30days\">{t(\"Last 30 days\")}</Radio>\n            <Radio value=\"today\">{t(\"Today\")}</Radio>\n            <Radio value=\"custom\">{t(\"Custom\")}</Radio>\n          </Radio.Group>\n          <RangePicker\n            onChange={handleCustomRangeChange}\n            defaultValue={[moment().subtract(14, \"days\"), moment()]}\n            disabled={daterange.range !== \"custom\"}\n          />\n        </div>\n      </div>\n      <div className=\"dashboard-inner\" style={{ maxWidth: 1000, margin: \"auto\" }}>\n        {orderStatsStatus.isLoading && (\n          <Dimmer active={orderStatsStatus.isLoading}>\n            <Loader />\n          </Dimmer>\n        )}\n        <div className=\"space-between margin-bottom\">\n          <h3 style={{ textTransform: \"uppercase\" }}>{t(\"Dashboard Reports\")}</h3>\n          <Button icon={<PrinterOutlined />} onClick={showPrintEverythingDialog}>\n            {t(\"Print\")}\n          </Button>\n        </div>\n        {[1, 2].includes(admin.roleNumber) && orderStatsStatus.isSuccess && (\n          <div className=\"statisticsv2\">\n            <RevenueCost\n              className=\"open\"\n              labelLink={`/orders?paymentStatus=1`}\n              revenue={data.open.revenue}\n              cost={data.open.cost}\n              label={t(\"Open\")}\n              value={data.open.orders}\n            />\n            <RevenueCost\n              className=\"partial\"\n              labelLink={`/orders?paymentStatus=2`}\n              revenue={data.partial.revenue}\n              cost={data.partial.cost}\n              collected={data.partial.collected}\n              notCollected={data.partial.revenue - data.partial.collected}\n              label={t(\"Partial\")}\n              value={data.partial.orders}\n            />\n            <RevenueCost\n              className=\"quotations\"\n              labelLink={`/orders?paymentStatus=4`}\n              revenue={data.quotations.revenue}\n              cost={data.quotations.cost}\n              label={t(\"Quotations\")}\n              value={data.quotations.orders}\n            />\n            <RevenueCost\n              className=\"closed\"\n              labelLink={`/orders?paymentStatus=3`}\n              revenue={data.closed.revenue}\n              cost={data.closed.cost}\n              label={t(\"Closed\")}\n              value={data.closed.orders}\n            />\n            <div className=\"card org-stats\">\n              {dashboardStatus.isSuccess && (\n                <div className=\"wrapper\">\n                  <div className=\"main\">{dashboard.clients}</div>\n                  <div className=\"below\">{t(\"Clients\")}</div>\n                </div>\n              )}\n            </div>\n            <RevenueCost\n              className=\"canceled\"\n              revenue={data.canceled.revenue}\n              cost={data.canceled.cost}\n              label={t(\"Canceled\")}\n              value={data.canceled.orders}\n              labelLink={`/orders?status=9`}\n            />\n            <RevenueCost\n              revenue={totalRevenue}\n              cost={totalCost}\n              collected={totalCollected}\n              notCollected={totalNeedsToCollect}\n              label={t(\"Placed Orders\")}\n              value={totalQuantity}\n              labelLink={`/orders`}\n            />\n            <div className=\"card org-stats\">\n              {dashboardStatus.isSuccess && (\n                <div className=\"wrapper\">\n                  <div className=\"main\">{dashboard.orders}</div>\n                  <div className=\"below\">{t(\"Orders\")}</div>\n                </div>\n              )}\n            </div>\n            <RevenueCost\n              revenue={totalProducts.worthPrice}\n              cost={totalProducts.worthCost}\n              label={t(\"Products Registered\")}\n              value={totalProducts.products}\n              labelLink={`/products`}\n            />\n            <div className=\"card org-stats\">\n              {dashboardStatus.isSuccess && (\n                <div className=\"wrapper\">\n                  <div className=\"main\">\n                    {currencyFormatter.format(dashboard.topreps.reduce((acc, { earnings }) => acc + earnings, 0))}\n                  </div>\n                  <div className=\"below\">\n                    {t(\"Rep Orders\")}: {dashboard.topreps.reduce((acc, { orders }) => acc + orders, 0)}\n                  </div>\n                </div>\n              )}\n            </div>\n            {orderStatsStatus.isSuccess && dashboardStatus.isSuccess && <RealProfit data={data} dashboard={dashboard} />}\n          </div>\n        )}\n        {dashboardStatus.isLoading && (\n          <Dimmer active={dashboardStatus.isLoading}>\n            <Loader />\n          </Dimmer>\n        )}\n        <Divider />\n        {[1, 2].includes(admin.roleNumber) && dashboardStatus.isSuccess && (\n          <>\n            <div className=\"org-statsv2\">\n              {Object.entries(OrgStatTitles)\n                .filter(([k]) => (admin.roleNumber === 2 && k === \"organizations\" ? false : true))\n                .map(([k, v]) => (\n                  <div className=\"wrapper simplecard\" key={k}>\n                    <div className=\"main\">{dashboard[k] || 0}</div>\n                    <div className=\"below\">{t(v)}</div>\n                  </div>\n                ))}\n            </div>\n            <Divider />\n          </>\n        )}\n        {[1, 2, 3].includes(admin.roleNumber) && countByProcessStatusStatus.isSuccess && (\n          <>\n            <div className=\"order-process-status-counts\">\n              {countByProcessStatus\n                .filter(({ id }) => ((admin.allowedStatuses || []).length ? (admin.allowedStatuses || []).includes(id) : true))\n                .map(({ status, count }) => (\n                  <div className=\"wrapper simplecard\" key={status} onClick={() => navigate(`/orders?status=${status}`)}>\n                    <div className=\"main\">{count}</div>\n                    <div className=\"below\">{status}</div>\n                  </div>\n                ))}\n            </div>\n            <Divider />\n          </>\n        )}\n        {[1, 2].includes(admin.roleNumber) && <ExpenseStats />}\n        {[1, 2].includes(admin.roleNumber) && (\n          <>\n            <h3 style={{ textTransform: \"uppercase\" }}>{t(\"Top departments\")}</h3>\n            {productStatsStatus.isSuccess && (\n              <div className=\"product-statistics\">\n                {topDepartments.map((product) => (\n                  <RevenueCost\n                    key={product?.department?._id}\n                    revenue={product.worthPrice}\n                    cost={product.worthCost}\n                    label={product?.department?.title}\n                    value={product.total}\n                    labelLink={`/products?departmentId=${product.department?._id}`}\n                  />\n                ))}\n              </div>\n            )}\n            <Divider />\n          </>\n        )}\n        {[1, 2].includes(admin.roleNumber) && (\n          <>\n            <h3 style={{ textTransform: \"uppercase\" }}>{t(\"Top Representants Earnings\")}</h3>\n            {dashboardStatus.isSuccess && (\n              <div className=\"product-statistics\">\n                {[0, 1, 2, 3, 4, 5].map((i) => (\n                  <div className=\"card\" key={i}>\n                    {dashboard.topreps[i] && (\n                      <>\n                        <div className=\"main\">{currencyFormatter.format(dashboard.topreps[i].earnings)}</div>\n                        <div className=\"below\"></div>\n\n                        <div className=\"side-by-side\">\n                          {dashboard.topreps[i].name}: {dashboard.topreps[i].orders}\n                        </div>\n                      </>\n                    )}\n                  </div>\n                ))}\n              </div>\n            )}\n            <Divider />\n          </>\n        )}\n        {((admin.roleNumber === 3 && admin.isRep) || admin.roleNumber === 8) && dashboardStatus.isSuccess && (\n          <div className=\"all-rep-earnings\">\n            <div className=\"card\">\n              <div className=\"wrapper\">\n                <div className=\"main\">\n                  {currencyFormatter.format(\n                    [\"open\", \"partial\", \"closed\", \"quotations\"].reduce(\n                      (acc, k) => (allearnings[commissionNameMap[k]] || 0) + acc,\n                      0\n                    )\n                  )}\n                </div>\n                <div className=\"below\">\n                  {t(\"Total\")}:{\" \"}\n                  {[\"open\", \"partial\", \"closed\", \"quotations\"].reduce(\n                    (acc, k) => (allearnings[k] || []).filter(Boolean).length + acc,\n                    0\n                  )}\n                </div>\n              </div>\n            </div>\n            {Object.entries(commissionNameMap).map(([k, v]) => (\n              <div className=\"card\" key={k}>\n                <div className=\"wrapper\">\n                  <div className=\"main\">{currencyFormatter.format(allearnings[v] || 0)}</div>\n                  <div className=\"below\">\n                    {k}: {(allearnings[k] || []).filter(Boolean).length}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n      {shouldShowPrintEverything && (\n        <Modal onCancel={hidePrintEverythingDialog} visible width=\"95%\" bodyStyle={{ height: \"87vh\" }} footer={null} centered>\n          <iframe\n            src={`/print-everything?nav=false&${rangeQueryParam}`}\n            width=\"100%\"\n            height=\"100%\"\n            title=\"Print Everything\"\n          ></iframe>\n        </Modal>\n      )}\n    </div>\n  );\n}\n\nexport default Dashboard;\n","import callWebApi from \"../helpers/webApiHelper\";\n\nexport const getOrganizations = async (args) => {\n  const response = await callWebApi({\n    endpoint: \"/api/v2/organizations\",\n    type: \"GET\",\n    query: args,\n  });\n  return response.json();\n};\n\nexport const createOrganization = async (request) => {\n  const response = await callWebApi({\n    endpoint: \"/api/orgs\",\n    type: \"POST\",\n    request,\n  });\n  return response.json();\n};\n\nexport const updateOrganization = async (id, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/orgs/${id}`,\n    type: \"PUT\",\n    request,\n  });\n  return response.json();\n};\n\nexport const deleteOrganization = async (id) => {\n  const response = await callWebApi({\n    endpoint: `/api/orgs/${id}`,\n    type: \"DELETE\",\n  });\n  return response.json();\n};\n","import React, { Component } from \"react\";\n\nimport { Link } from \"@reach/router\";\nimport { Button, Dropdown, Grid, Icon, Menu } from \"semantic-ui-react\";\nimport { Select } from \"antd\";\n\nimport { getOrganizations } from \"src/services/organizationsService\";\nimport { OrganizationContext } from \"src/contexts\";\nimport \"./styles.css\";\nimport { withTranslation } from \"react-i18next\";\n\nconst localeOptions = [\n  { value: \"pt-BR\", label: \"Portugus\" },\n  { value: \"en-US\", label: \"English\" },\n];\n\nclass MenuExampleStackable extends Component {\n  static contextType = OrganizationContext;\n  state = { organizations: [] };\n\n  handleItemClick = (e, { name }) => this.setState({ activeItem: name });\n\n  componentDidMount() {\n    if (this.props.admin.roleNumber === 1) {\n      getOrganizations().then((res) => {\n        this.setState({\n          organizations: (res.data || [])\n            .filter(({ _id }) =>\n              (this.props.admin.organizationIds || []).length > 0 ? this.props.admin.organizationIds.includes(_id) : true\n            )\n            .map(({ _id, title }) => ({\n              value: _id,\n              label: title,\n            })),\n        });\n      });\n    } else {\n      this.props.onOrganizationChange(this.props.admin.organizationIds[0]);\n    }\n  }\n\n  handleOrganizationChange = (organizationId) => {};\n\n  render() {\n    const { logout, admin, t, onLocaleChange, locale } = this.props;\n\n    return (\n      <Menu stackable className=\"custom-menu\" inverted>\n        <Menu.Item>\n          <Link exact to=\"/\" className=\"logo-link\">\n            {t(\"Management\")}\n          </Link>\n        </Menu.Item>\n\n        {[1, 2, 3, 4].includes(admin.role.roleNumber) && (\n          <Menu.Item>\n            <Dropdown\n              inverted\n              text={t(\"Departament Properties\")}\n              // active={activeItem === \"testimonials\"}\n              // onClick={this.handleItemClick}\n            >\n              <Dropdown.Menu>\n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/departments\" className={\"submenuBtn \"}>\n                    {t(\"Departaments\")}\n                  </Link>\n                </Dropdown.Item>\n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/brands\" className={\"submenuBtn\"}>\n                    {t(\"Brands\")}\n                  </Link>\n                </Dropdown.Item>\n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/models\" className={\"submenuBtn\"}>\n                    {t(\"Models\")}\n                  </Link>\n                </Dropdown.Item>\n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/categories\" className={\"submenuBtn\"}>\n                    {t(\"Categories\")}\n                  </Link>\n                </Dropdown.Item>\n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/subcategories\" className={\"submenuBtn\"}>\n                    {t(\"Subcategories\")}\n                  </Link>\n                </Dropdown.Item>\n                {[1, 2, 3, 4].includes(admin.role.roleNumber) && (\n                  <Dropdown.Item\n                    name={t(\"products\")}\n                    // active={activeItem === \"features\"}\n                    onClick={this.handleItemClick}\n                  >\n                    <Link exact activeClassName=\"active\" to=\"/products\" className={\"menuBtn\"}>\n                      {t(\"Products\")}\n                    </Link>\n                  </Dropdown.Item>\n                )}\n              </Dropdown.Menu>\n            </Dropdown>\n          </Menu.Item>\n        )}\n        <Menu.Item>\n          <Dropdown\n            inverted\n            text={t(\"Order Properties\")}\n            // active={activeItem === \"testimonials\"}\n            // onClick={this.handleItemClick}\n          >\n            <Dropdown.Menu>\n              <Dropdown.Item>\n                <Link exact activeClassName=\"active\" to=\"/orders\" className={\"menuBtn\"}>\n                  {t(\"Orders\")}\n                </Link>\n              </Dropdown.Item>\n              {[1, 2, 3, 4].includes(admin.role.roleNumber) && (\n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/clients\" className={\"menuBtn\"}>\n                    {t(\"Clients\")}\n                  </Link>\n                </Dropdown.Item>\n              )}\n              {[1, 2].includes(admin.roleNumber) && (\n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/tasks\" className={\"menuBtn\"}>\n                    {t(\"Tasks\")}\n                  </Link>\n                </Dropdown.Item>\n              )}\n            </Dropdown.Menu>\n          </Dropdown>\n        </Menu.Item>\n        {[1, 2].includes(admin.roleNumber) && (\n          <Menu.Item>\n            <Dropdown\n              inverted\n              text={t(\"Administration\")}\n              // active={activeItem === \"testimonials\"}\n              // onClick={this.handleItemClick}\n            >\n              <Dropdown.Menu>\n                {[1, 2].includes(admin.roleNumber) && (\n                  <Dropdown.Item>\n                    <Link exact activeClassName=\"active\" to=\"/orgs\" className={\"menuBtn\"}>\n                      {t(\"Organizations\")}\n                    </Link>\n                  </Dropdown.Item>\n                )}\n                {[1, 2].includes(admin.roleNumber) && (\n                  <Dropdown.Item>\n                    <Link exact activeClassName=\"active\" to=\"/admins\" className={\"menuBtn\"}>\n                      {t(\"Admins\")}\n                    </Link>\n                  </Dropdown.Item>\n                )}\n              </Dropdown.Menu>\n            </Dropdown>\n          </Menu.Item>\n        )}\n        {[1, 2].includes(admin?.roleNumber) && (\n          <Menu.Item>\n            <Dropdown inverted text={t(\"Finance\")}>\n              <Dropdown.Menu>\n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/cheques\" className={\"menuBtn\"}>\n                    {t(\"Cheque Mgmt\")}\n                  </Link>\n                </Dropdown.Item>\n\n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/expenses\" className={\"menuBtn\"}>\n                    {t(\"Expense Mgmt\")}\n                  </Link>\n                </Dropdown.Item>\n              </Dropdown.Menu>\n            </Dropdown>\n          </Menu.Item>\n        )}\n\n        <Menu.Item>\n          <Dropdown inverted text={t(\"Utilities\")}>\n            <Dropdown.Menu>\n              {[1].includes(admin?.roleNumber) && (\n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/wood-price-calculator\" className=\"menuBtn\">\n                    {t(\"Wood Price Calculator\")}\n                  </Link>\n                </Dropdown.Item>\n              )}\n            </Dropdown.Menu>\n          </Dropdown>\n        </Menu.Item>\n\n        {[1].includes(admin?.roleNumber) && (\n          <Menu.Item>\n            <Select\n              style={{ width: 200 }}\n              options={this.state.organizations}\n              placeholder={t(\"Organization\")}\n              onChange={this.props.onOrganizationChange}\n              allowClear\n              value={this.context}\n            />\n          </Menu.Item>\n        )}\n        <Menu.Item>\n          <Select placeholder=\"locale\" options={localeOptions} onChange={onLocaleChange} defaultValue={locale}></Select>\n        </Menu.Item>\n        <Menu.Item onClick={logout}>{t(\"Logout\")}</Menu.Item>\n      </Menu>\n    );\n  }\n}\n\nexport default withTranslation(\"translation\")(MenuExampleStackable);\n","import React from \"react\";\nimport { Link } from \"@reach/router\";\nimport { Header, Icon } from \"semantic-ui-react\";\n\nconst NotFound = () => (\n  <Header as=\"h2\" icon textAlign=\"center\" style={{ marginTop: 50 }}>\n    <Icon name=\"frown\" circular />\n    <Header.Content>\n      <div>404 Not Found</div>\n      {\"Go to \"}\n      <Link to=\"/\">Home</Link>\n      {\" page\"}\n    </Header.Content>\n  </Header>\n);\n\nexport default NotFound;\n","import callWebApi from \"../helpers/webApiHelper\";\n\nexport const getModels = async (args, organizationId) => {\n  const response = await callWebApi({\n    endpoint: \"/api/models\",\n    type: \"GET\",\n    query: args,\n    organizationId,\n  });\n  return response.json();\n};\n\nexport const createModel = async (request, organizationId) => {\n  const response = await callWebApi({\n    endpoint: \"/api/models\",\n    type: \"POST\",\n    request,\n    organizationId,\n  });\n  return response.json();\n};\n\nexport const updateModel = async (id, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/models/${id}`,\n    type: \"PUT\",\n    request,\n  });\n  return response.json();\n};\n\nexport const deleteModel = async (id) => {\n  const response = await callWebApi({\n    endpoint: `/api/models/${id}`,\n    type: \"DELETE\",\n  });\n  return response.json();\n};\n","import React, { useState } from \"react\";\nimport { Button, Form, Icon, Modal } from \"semantic-ui-react\";\n\nimport { isTextValid } from \"../../../helpers/validations\";\n\nconst ModelForm = ({ model = {}, brandOptions, submit, addToast, componentName, loadModels }) => {\n  const isEdit = !!model.title;\n\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [title, setTitle] = useState(model.title);\n  const [isTitleValid, setIsTitleValid] = useState(true);\n  const [description, setDescription] = useState(model.description);\n  const [isDescriptionValid, setIsDescriptionValid] = useState(true);\n  const [brandId, setBrandId] = useState(model.brandId);\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleFormSubmit = async () => {\n    const isValid = isDescriptionValid && isTitleValid && brandId !== \"\";\n    if (!isValid || isLoading) {\n      return;\n    }\n    setIsLoading(true);\n    await submit({ title, description, brandId })\n      .then((resp) => {\n        addToast(`Model ${model.title ? \"updated\" : \"created\"} successfully`, {\n          appearance: \"success\",\n        });\n        setTitle(\"\");\n        setDescription(\"\");\n        setBrandId(\"\");\n      })\n      .catch((err) => {\n        addToast(err.message, { appearance: \"error\" });\n      });\n    setIsLoading(false);\n    handleCloseModal();\n  };\n\n  const toggleModalState = () => {\n    setIsModalOpen(!isModalOpen);\n  };\n\n  const handleCloseModal = () => {\n    loadModels();\n    toggleModalState();\n\n    setTitle(\"\");\n    setIsTitleValid(true);\n    setDescription(\"\");\n    setIsDescriptionValid(true);\n    setBrandId(\"\");\n  };\n\n  return (\n    <Modal\n      trigger={\n        <Button onClick={toggleModalState} className={isEdit ? \"table-action-btn\" : \"generic-create-btn\"}>\n          {\" \"}\n          {isEdit ? <Icon name=\"pencil\" /> : <span>{componentName}</span>}\n        </Button>\n      }\n      closeIcon\n      open={isModalOpen}\n      onClose={handleCloseModal}\n    >\n      <Modal.Header>{componentName} a model</Modal.Header>\n      <Modal.Content>\n        <Form name=\"createDepForm\" size=\"large\" onSubmit={handleFormSubmit}>\n          <Form.Input\n            fluid\n            placeholder=\"Titulo\"\n            value={title}\n            error={!isTitleValid}\n            onChange={(ev) => setTitle(ev.target.value)}\n            onBlur={() => setIsTitleValid(isTextValid(title, 3, 0))}\n          />\n          <Form.TextArea\n            fluid\n            placeholder=\"Descrio\"\n            value={description}\n            error={!isDescriptionValid}\n            onChange={(ev) => setDescription(ev.target.value)}\n            onBlur={() => setIsDescriptionValid(isTextValid(description, 5, 0))}\n          />\n          <Form.Select\n            fluid\n            label=\"Brand\"\n            options={brandOptions}\n            placeholder=\"Brand\"\n            // value={model.brand ? model.brand.title : ''}\n            onChange={(e, { value }) => setBrandId(value)}\n          />\n          <Button type=\"submit\" color=\"teal\" fluid size=\"small\" loading={isLoading} primary>\n            Submit\n          </Button>\n        </Form>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nModelForm.defaultProps = {\n  model: {},\n  brandsOptions: [],\n};\n\nexport default ModelForm;\n","import React, {useState} from 'react'\nimport {Button, Icon, Modal} from 'semantic-ui-react'\nimport {deleteModel} from \"../../../services/modelsService\";\n\nconst DeleteModel = ({title, id, addToast, loadModels}) => {\n    const [isModalOpen, setIsModalOpen] = useState(false)\n\n    const removeModel = () => {\n        deleteModel(id)\n            .then(resp => {\n                    addToast(\n                        `Model deleted successfully`,\n                        {appearance: 'success'})\n                }\n            )\n            .catch(err => {\n                if (err.message !== '') {\n                    addToast('Could not delete model: ' + err.message, {appearance: 'error'})\n                } else {\n                    addToast('Something went wrong', {appearance: 'error'})\n                }\n            }).finally(\n            () => {\n                toggleModal();\n                loadModels()\n            }\n        )\n    }\n\n    const toggleModal = () => {\n        setIsModalOpen(!isModalOpen)\n    }\n    return (\n        <Modal\n            trigger={<Button\n                className={'table-action-btn'}\n                onClick={toggleModal}>\n                <Icon name='trash'/>\n            </Button>}\n            open={isModalOpen}\n            onClose={toggleModal}\n            closeIcon\n        >\n            <Modal.Header>Delete a model</Modal.Header>\n            <Modal.Content>\n                <h4>Are you sure you want to delete model {`\"${title}\"`}?</h4>\n                <Button color='red' inverted onClick={removeModel}>\n                    <Icon name='remove'/> Delete\n                </Button>\n                <Button color='blue' inverted onClick={toggleModal}>\n                    <Icon name='checkmark'/> Cancel\n                </Button>\n            </Modal.Content>\n        </Modal>)\n\n\n}\n\nexport default DeleteModel;\n","import React, { Component } from \"react\";\nimport { Icon, Menu, Pagination, Table } from \"semantic-ui-react\";\nimport ModelForm from \"../ModelForm\";\nimport { createPageNavigation } from \"../../../helpers/pagination\";\nimport { updateModel } from \"../../../services/modelsService\";\nimport DeleteModel from \"../DeleteModel\";\n\nclass ModelsList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.createModelRow = this.createModelRow.bind(this);\n    this.handlePaginationClick = this.handlePaginationClick.bind(this);\n  }\n\n  createModelRow = (model) => {\n    return (\n      <Table.Row key={model._id}>\n        <Table.Cell>\n          <ModelForm\n            model={model}\n            componentName={\"Edit\"}\n            addToast={this.props.addToast}\n            brandOptions={this.props.brandOptions}\n            loadModels={this.props.loadModels}\n            submit={(req) => updateModel(model._id, req)}\n          />\n        </Table.Cell>\n        <Table.Cell>\n          <DeleteModel\n            addToast={this.props.addToast}\n            id={model._id}\n            title={model.title}\n            loadModels={this.props.loadModels}\n          />\n        </Table.Cell>\n        <Table.Cell>{model._id}</Table.Cell>\n        <Table.Cell>{model.brand.title}</Table.Cell>\n        <Table.Cell>{model.title}</Table.Cell>\n        <Table.Cell>{model.description}</Table.Cell>\n      </Table.Row>\n    );\n  };\n\n  handlePaginationClick = (page) => {\n    this.props.updatePageFilter({ page: page });\n  };\n\n  render() {\n    const { pages, onPageChange, filters } = this.props;\n    return (\n      <Table celled>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell colspan={2} rowspan={2}>\n              Actions\n            </Table.HeaderCell>\n            <Table.HeaderCell>ID</Table.HeaderCell>\n            <Table.HeaderCell>Brand</Table.HeaderCell>\n            <Table.HeaderCell>Titulo</Table.HeaderCell>\n            <Table.HeaderCell>Descrio</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {this.props.models.map((model) => this.createModelRow(model))}\n        </Table.Body>\n\n        <Table.Footer>\n          <Table.Row>\n            <Table.HeaderCell colSpan=\"20\" style={{ textAlign: \"right\" }}>\n              <Pagination\n                activePage={filters.currentPage}\n                totalPages={pages}\n                onPageChange={onPageChange}\n              />\n            </Table.HeaderCell>\n          </Table.Row>\n        </Table.Footer>\n      </Table>\n    );\n  }\n}\n\nexport default ModelsList;\n","import React from \"react\";\nimport { createModel } from \"../../services/modelsService\";\nimport ModelForm from \"../../components/ModelsComponents/ModelForm\";\nimport ModelsList from \"../../components/ModelsComponents/ModelsList\";\nimport { Input } from \"semantic-ui-react\";\nimport useList from \"src/helpers/useList\";\nimport { useContext } from \"react\";\nimport { OrganizationContext } from \"src/contexts\";\nimport { useAPI } from \"src/helpers/useFetch\";\n\nconst searchFields = \"*\";\n\nfunction useBrands() {\n  return useAPI(\"/api/brands?showAll=true\", searchFields);\n}\nfunction useModels() {\n  return useList(\"/api/models\", searchFields);\n}\n\nfunction ModelsPage(props) {\n  const [models, { total, pages }, search, goto, sort, filters, modelsStatus, refresh] = useModels();\n  const [{ data: brands } = { data: [] }, , , , , , brandsStatus, ,] = useBrands();\n  const organizationId = useContext(OrganizationContext);\n\n  const handleSearch = (event) => {\n    search(event.target.value);\n  };\n\n  const clearSearch = () => {\n    search(\"\");\n  };\n\n  const handlePageChange = (_, d) => {\n    goto(d.activePage);\n  };\n\n  const brandsOptions = brands.map(({ _id, title }) => ({\n    text: title,\n    value: _id,\n  }));\n\n  return (\n    <div className=\"container\">\n      <h2>Models</h2>\n      <ModelForm\n        componentName={\"Create\"}\n        brandOptions={brandsOptions}\n        addToast={props.addToast}\n        loadModels={refresh}\n        submit={(req) => createModel(req, organizationId)}\n      />\n      <div>\n        <span>Total models: {total}</span>\n        <div class=\"ui action input\" style={{ marginLeft: 16 }}>\n          <Input type=\"text\" placeholder=\"Search...\" onChange={handleSearch} value={filters.searchText} />\n          <button class=\"ui icon button\" onClick={clearSearch}>\n            <i class=\"delete icon\"></i>\n          </button>\n        </div>\n      </div>\n      <ModelsList\n        addToast={props.addToast}\n        brandOptions={brandsOptions}\n        models={models}\n        loadModels={refresh}\n        onPageChange={handlePageChange}\n        pages={pages}\n        filters={filters}\n      />\n    </div>\n  );\n}\n\nexport default ModelsPage;\n","import { CarouselProvider, Dot, Slide, Slider } from \"pure-react-carousel\";\nimport { Button, Card, Container, Icon, Image, Modal } from \"semantic-ui-react\";\nimport React, { useState } from \"react\";\n\nimport { deleteProductImage } from \"../../../services/productService\";\n\nconst removeProductImage = (addToast, prodId, imageId, toggleModal) => {\n  deleteProductImage(prodId, imageId)\n    .then((resp) => {\n      window.location.reload(false);\n      addToast(`Image deleted successfully`, { appearance: \"success\" });\n    })\n    .catch((err) => {\n      if (err.message !== \"\") {\n        addToast(\"Could not delete product image: \" + err.message, {\n          appearance: \"error\",\n        });\n      } else {\n        addToast(\"Something went wrong\", { appearance: \"error\" });\n      }\n    })\n    .finally(() => toggleModal());\n};\n\n// const editProductImageComment = (prodId, imageId, comment, addToast, toggleModal) => {\n//     updateProductImage(prodId, imageId, {comment})\n//         .then(resp => {\n//                 window.location.reload(false);\n//                 addToast(\n//                     `Image deleted successfully`,\n//                     {appearance: 'success'})\n//             }\n//         )\n//         .catch(err => {\n//             if (err.message !== '') {\n//                 addToast('Could not update product image: ' + err.message, {appearance: 'error'})\n//             } else {\n//                 addToast('Something went wrong', {appearance: 'error'})\n//             }\n//         }).finally(\n//         () => toggleModal()\n//     )\n// }\n\nconst CustomCardSlide = ({ index, image, productId, header, addToast }) => {\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n  // const [isEditModalOpen, setIsEditModalOpen] = useState(false)\n  // const [comment, setComment] = useState(image.comment)\n\n  const toggleDeleteModal = () => setIsDeleteModalOpen(!isDeleteModalOpen);\n  // const toggleEditModal = () => setIsEditModalOpen(!isEditModalOpen)\n  return (\n    <Slide index={index}>\n      <div>\n        <Card centered color=\"grey\">\n          <Card.Content>\n            <Modal\n              trigger={\n                <Button\n                  icon=\"delete\"\n                  style={{ position: \"float\", float: \"right\" }}\n                  color=\"orange\"\n                  onClick={toggleDeleteModal}\n                ></Button>\n              }\n              open={isDeleteModalOpen}\n              onClose={toggleDeleteModal}\n              closeIcon\n            >\n              <Modal.Header>Delete a model</Modal.Header>\n              <Modal.Content>\n                <h4>Are you sure you want to delete this image?</h4>\n                <Button\n                  color=\"red\"\n                  inverted\n                  onClick={() => removeProductImage(addToast, productId, image._id, toggleDeleteModal)}\n                >\n                  <Icon name=\"remove\" /> Delete\n                </Button>\n                <Button color=\"blue\" inverted onClick={toggleDeleteModal}>\n                  <Icon name=\"checkmark\" /> Cancel\n                </Button>\n              </Modal.Content>\n            </Modal>\n            {/* <Modal\n                            trigger={<Button icon='edit'\n                                             style={{position: 'float', float: 'right'}}\n                                             color='blue'\n                                             onClick={toggleEditModal}\n                            >\n                            </Button>}\n                            open={isEditModalOpen}\n                            onClose={toggleEditModal}\n                            closeIcon\n                        >\n                            <Modal.Header>Edit image comment</Modal.Header>\n                            <Modal.Content>\n                                <Form name=\"updateCommentForm\"  onSubmit={() => editProductImageComment(\n                                    productId, image._id, comment, addToast, toggleEditModal)}>\n                                    <Form.TextArea\n                                        fluid\n                                        placeholder=\"Name\"\n                                        value={comment}\n                                        onChange={ev => setName(ev.target.value)}\n                                    />\n\n\n                                    <br/>\n\n                                    <Button type='submit' color='blue'>\n                                        <Icon name='edit outline'/> Save changes\n                                    </Button>\n\n                                    <Button color='blue' onClick={toggleEditModal}>\n                                        <Icon name='checkmark'/> Cancel\n                                    </Button>\n                                </Form>\n                            </Modal.Content>\n                        </Modal>*/}\n          </Card.Content>\n          <Image src={image.link} verticalAlign=\"middle\" centered size=\"small\" />\n          <Card.Content>\n            {header}\n            <br />\n          </Card.Content>\n        </Card>\n      </div>\n    </Slide>\n  );\n};\n\nconst CustomDotGroup = ({ slides, size }) => (\n  <Container textAlign=\"center\">\n    <Button.Group size={size}>\n      {[...Array(slides).keys()].map((slide) => (\n        <Button as={Dot} key={slide} icon=\"circle\" slide={slide} />\n      ))}\n    </Button.Group>\n  </Container>\n);\n\nCustomDotGroup.defaultProps = {\n  size: \"mini\",\n};\n\nconst CardCarousel = ({ productId, images, addToast }) => {\n  if (images.length === 0) {\n    return <></>;\n  }\n\n  return (\n    <CarouselProvider naturalSlideWidth={1} naturalSlideHeight={1.25} totalSlides={images.length} style={{ width: \"55%\" }}>\n      <Slider>\n        {images.map((image) => (\n          <CustomCardSlide\n            key={image._id}\n            addToast={addToast}\n            image={image}\n            productId={productId}\n            index={0}\n            header={image.comment || \"-\"}\n            // meta=\"Friend\"\n          />\n        ))}\n      </Slider>\n\n      <CustomDotGroup slides={images.length} />\n    </CarouselProvider>\n  );\n};\n\nCardCarousel.defaultProps = {\n  images: [],\n};\nexport default CardCarousel;\n","import React, { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Button, Icon } from \"semantic-ui-react\";\n\nconst UploadFile = ({ uploadHandler }) => {\n  const { t } = useTranslation(\"translation\");\n  const [file, setFile] = useState(undefined);\n\n  const fileChangedHandler = (event) => {\n    setFile(event.target.files[0]);\n  };\n\n  return (\n    <div>\n      <input type=\"file\" onChange={fileChangedHandler} />\n      <Button onClick={() => uploadHandler(file)} color=\"blue\" inverted>\n        <Icon name=\"checkmark\" /> {t(\"Upload\")}\n      </Button>\n    </div>\n  );\n};\n\nexport default UploadFile;\n","import callWebApi from \"../helpers/webApiHelper\";\n\nexport const getProductImages = async id => {\n    const response = await callWebApi({\n        endpoint: `/api/products/${id}/images`,\n        type: 'GET',\n    });\n    return response.json();\n};\nexport const createProductImage = async (id, file) => {\n    const response = await callWebApi({\n        endpoint: `/api/products/${id}/images`,\n        type: 'POST',\n        attachment: file,\n    });\n    return response.json();\n};\n","import React from \"react\";\nimport { Button, Modal } from \"antd\";\nimport QRCode from \"qrcode.react\";\nimport { useState } from \"react\";\nimport { Button as SButton } from \"semantic-ui-react\";\nimport { useTranslation } from \"react-i18next\";\n\nfunction QRModal({ fileName, className, style }) {\n  const [shouldShow, setShouldShow] = useState(false);\n  const { t } = useTranslation(\"translation\");\n\n  const show = () => setShouldShow(true);\n  const hide = () => setShouldShow(false);\n\n  const downloadQR = () => {\n    const canvas = document.getElementById(\"qr-canvas\");\n    const pngUrl = canvas.toDataURL(\"image/png\").replace(\"image/png\", \"image/octet-stream\");\n    let downloadLink = document.createElement(\"a\");\n    downloadLink.href = pngUrl;\n    downloadLink.download = `${fileName}.png`;\n    document.body.appendChild(downloadLink);\n    downloadLink.click();\n    document.body.removeChild(downloadLink);\n  };\n\n  return (\n    <>\n      <SButton className={className} style={style} primary onClick={show}>\n        {t(\"Show QR\")}\n      </SButton>\n      {shouldShow && (\n        <Modal visible onCancel={hide} width={300} footer={null}>\n          <QRCode id=\"qr-canvas\" value={window.location.href} size={256} includeMargin={true} />\n          <Button onClick={downloadQR} type=\"primary\" block>\n            Download\n          </Button>\n        </Modal>\n      )}\n    </>\n  );\n}\n\nexport default QRModal;\n","var _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgToorder(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    viewBox: \"0 0 490.996 490.996\",\n    width: \"1em\",\n    height: \"1em\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M484.058,112.28c-7.247-10.404-19.144-16.614-31.816-16.614h-94.624c13.291,2.775,24.603,11.714,29.943,24.615 c1.063,2.569,1.761,5.212,2.283,7.869h62.396c2.063,0,3.997,1.015,5.155,2.67c1.175,1.698,1.444,3.862,0.73,5.791 l-44.992,121.107c-0.905,2.451-3.267,4.102-5.887,4.102H154.939L114.734,90.314c-5.01-21.286-23.772-36.153-45.631-36.153H24.361 C10.912,54.161,0,65.065,0,78.522s10.912,24.362,24.361,24.362h43.286l54.131,230.919c4.914,20.864,23.058,35.479,44.36,36.042 c-12.532,9.103-20.764,23.765-20.764,40.436c0,27.662,22.429,50.078,50.09,50.078c27.662,0,50.072-22.416,50.072-50.078 c0-16.605-8.17-31.212-20.623-40.326h93.421c-12.454,9.114-20.634,23.721-20.634,40.326c0,27.662,22.428,50.078,50.083,50.078 c27.646,0,50.072-22.416,50.072-50.078c0-16.605-8.187-31.212-20.634-40.326h22.714c13.448,0,24.361-10.901,24.361-24.361 c0-13.457-10.913-24.361-24.361-24.361h-231.07l-6.313-26.931h244.693c16.113,0,30.703-10.143,36.338-25.256l44.994-121.118 C492.986,136.046,491.305,122.732,484.058,112.28z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M275.701,209.63c1.776,1.785,4.109,2.673,6.437,2.673c2.334,0,4.667-0.888,6.426-2.673l67.007-66.987 c2.621-2.609,3.396-6.525,1.986-9.935c-0.923-2.221-3.986-5.64-8.422-5.64c-6.472,0-25.886,0-25.886,0V95.665v-55.89 c-0.017-5.035-4.094-9.137-9.138-9.137h-63.964c-5.044,0-9.12,4.102-9.12,9.12v55.908v31.412c0,0-19.408,0-25.878,0 c-4.144,0-7.473,3.332-8.424,5.622c-1.41,3.41-0.635,7.334,1.962,9.943L275.701,209.63z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgToorder);\nexport default __webpack_public_path__ + \"static/media/toorder.315beeed.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport { getProduct, getProductImages } from \"../../../services/productService\";\nimport { Button, Icon, Modal, Table } from \"semantic-ui-react\";\nimport CardCarousel from \"../ProductImagesSlider\";\nimport \"pure-react-carousel/dist/react-carousel.es.css\";\nimport \"./styles.css\";\nimport UploadFile from \"../../FileUpload\";\nimport { createProductImage } from \"../../../services/productImagesService\";\nimport { formatNumber } from \"../../../helpers/formatters\";\nimport moment from \"moment\";\nimport currencyFormatter from \"../../../helpers/currencyFormatter\";\nimport QRModal from \"src/components/QRModal\";\nimport { withTranslation } from \"react-i18next\";\nclass ProductViewPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      product: {\n        stats: {\n          openOrders: {},\n          quotations: {},\n          closed: {},\n          partial: {},\n        },\n      },\n      images: [],\n    };\n  }\n\n  componentDidMount() {\n    const { t } = this.props;\n\n    getProduct(this.props.id)\n      .then((resp) => this.setState({ product: resp }, () => console.log(this.state)))\n      .catch((err) => this.props.addToast(t(\"Could not fetch\") + \" \" + t(\"product\"), { appearance: \"error\" }));\n  }\n\n  prepareProdDescriptionTableBody = (product) => {\n    const { t } = this.props;\n    return (\n      <Table.Body>\n        <Table.Row>\n          <Table.Cell>{t(\"ID\")}</Table.Cell>\n          <Table.Cell>{product._id}</Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Title\")}</Table.Cell>\n          <Table.Cell>{product.title}</Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"BCode\")}</Table.Cell>\n          <Table.Cell>{product.ISBN}</Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Cost\")}</Table.Cell>\n          <Table.Cell>{currencyFormatter.format(product.cost)}</Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Price\")}</Table.Cell>\n          <Table.Cell>{currencyFormatter.format(product.price)}</Table.Cell>\n        </Table.Row>\n\n        <Table.Row>\n          <Table.Cell>{t(\"Total Units\")}</Table.Cell>\n          <Table.Cell>{product.totalUnits}</Table.Cell>\n        </Table.Row>\n\n        <Table.Row>\n          <Table.Cell>{t(\"Category\")}</Table.Cell>\n          <Table.Cell>{product.category ? product.category.title : \"\"}</Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Department\")}</Table.Cell>\n          <Table.Cell>{product.department ? product.department.title : \"\"}</Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Model\")}</Table.Cell>\n          <Table.Cell>{product.model ? product.model.title : \"\"}</Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Subcategory\")}</Table.Cell>\n          <Table.Cell>{product.subcategory ? product.subcategory.title : \"\"}</Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Brand\")}</Table.Cell>\n          <Table.Cell>{product.brand ? product.brand.title : \"\"}</Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Provider\")}</Table.Cell>\n          <Table.Cell>{product.provider ? product.provider.name : \"\"}</Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Created At\")}</Table.Cell>\n          <Table.Cell>{moment(product.createdAt * 1000).format(\"DD/MM/YYYY\")}</Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Comment\")}</Table.Cell>\n          <Table.Cell>{product.comment}</Table.Cell>\n        </Table.Row>\n      </Table.Body>\n    );\n  };\n\n  prepareProductStats = (product) => {\n    const { t } = this.props;\n    return (\n      <Table.Body>\n        <Table.Row>\n          <Table.Cell>\n            {t(\"Open\")} {t(\"Orders\")}\n          </Table.Cell>\n          <Table.Cell>\n            {t(\"Total\")} {t(\"Orders\")}: <strong>{this.state.product.stats.openOrders.total}</strong>\n          </Table.Cell>\n          <Table.Cell>\n            {\" \"}\n            {t(\"Total\")} {t(\"Amount\")}: <strong>{this.state.product.stats.openOrders.value}</strong>\n          </Table.Cell>\n\n          <Table.Cell>\n            {t(\"Total Units\")}: <strong>{formatNumber(this.state.product.stats.openOrders.units)}</strong>\n          </Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>\n            {t(\"Partial\")} {t(\"Orders\")}\n          </Table.Cell>\n          <Table.Cell>\n            {t(\"Total\")} {t(\"Orders\")}:<strong>{this.state.product.stats.partial.total}</strong>\n          </Table.Cell>\n          <Table.Cell>\n            {t(\"Total Amount\")}: <strong>{this.state.product.stats.partial.value}</strong>\n          </Table.Cell>\n          <Table.Cell>\n            {t(\"Total Units\")}: <strong>{formatNumber(this.state.product.stats.partial.units)}</strong>\n          </Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>\n            {t(\"Closed\")} {t(\"Orders\")}\n          </Table.Cell>\n          <Table.Cell>\n            {\" \"}\n            {t(\"Total Orders\")}: <strong>{this.state.product.stats.closed.total}</strong>\n          </Table.Cell>\n          <Table.Cell>\n            {\" \"}\n            {t(\"Total Amount\")}: <strong>{this.state.product.stats.closed.value}</strong>\n          </Table.Cell>\n\n          <Table.Cell>\n            {t(\"Total Units\")}: <strong>{formatNumber(this.state.product.stats.closed.units)}</strong>\n          </Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Quotations\")}</Table.Cell>\n          <Table.Cell>\n            {\" \"}\n            {t(\"Total Orders\")}: <strong>{this.state.product.stats.quotations.total}</strong>\n          </Table.Cell>\n          <Table.Cell>\n            {\" \"}\n            {t(\"Total Amount\")}: <strong>{this.state.product.stats.quotations.value}</strong>\n          </Table.Cell>\n\n          <Table.Cell>\n            {t(\"Total Units\")}: <strong>{formatNumber(this.state.product.stats.quotations.units)}</strong>\n          </Table.Cell>\n        </Table.Row>\n      </Table.Body>\n    );\n  };\n\n  toggleModal = () => {\n    this.setState({ modalOpen: !this.state.modalOpen });\n  };\n\n  fileChangedHandler = (event) => {\n    this.setState({ selectedFile: event.target.files[0] });\n  };\n\n  uploadHandler = (file) => {\n    createProductImage(this.props.id, file)\n      .then(this.props.addToast(this.props.t(\"image added\"), { appearance: \"success\" }))\n      .catch(this.props.addToast(this.props.t(\"Something went wrong\")));\n\n    window.location.reload();\n  };\n\n  render() {\n    const { t } = this.props;\n    return (\n      <div className=\"container\">\n        <div className=\"product-block product-descr\">\n          <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n            <QRModal fileName={this.state.product?._id} />\n          </div>\n          <Table celled striped>\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell colSpan=\"3\">\n                  {t(\"Product\")} {t(\"Description\")}\n                </Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n\n            {this.prepareProdDescriptionTableBody(this.state.product)}\n            <Table.Footer></Table.Footer>\n          </Table>\n          <Table celled striped>\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell colSpan=\"4\">\n                  {t(\"Product\")} {t(\"Stats\")}\n                </Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n            {this.prepareProductStats(this.state.product)}\n          </Table>\n        </div>\n        <div className=\"product-block product-images\">\n          <CardCarousel\n            images={this.state.product.imageUrls}\n            addToast={this.props.addToast}\n            productId={this.state.product._id}\n          />\n          <Modal\n            trigger={\n              <Button\n                onClick={this.toggleModal}\n                color=\"teal\"\n                style={{ position: \"float\", float: \"center\" }}\n                className={`menuBtn'`}\n              >\n                <Icon name=\"picture\" /> {t(\"Add an image\")}\n              </Button>\n            }\n            open={this.state.modalOpen}\n            onClose={this.toggleModal}\n            closeIcon\n          >\n            <Modal.Header>{t(\"Upload a picture\")}</Modal.Header>\n            <Modal.Content>\n              <UploadFile uploadHandler={this.uploadHandler} />\n            </Modal.Content>\n          </Modal>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withTranslation(\"translation\")(ProductViewPage);\n","import callWebApi from \"../helpers/webApiHelper\";\n\nexport const getOrders = async (args) => {\n  const response = await callWebApi({\n    endpoint: \"/api/orders\",\n    type: \"GET\",\n    query: args,\n  });\n  return response.json();\n};\n\nexport const getOrderStatuses = async () => {\n  const response = await callWebApi({\n    endpoint: \"/api/orders/statuses\",\n    type: \"GET\",\n  });\n  return response.json();\n};\nexport const getOrderStats = async (args) => {\n  const response = await callWebApi({\n    endpoint: \"/api/orders-stats\",\n    type: \"GET\",\n    query: args,\n  });\n  return response.json();\n};\nexport const getOrder = async (id) => {\n  const response = await callWebApi({\n    endpoint: `/api/orders/${id}`,\n    type: \"GET\",\n  });\n  return response.json();\n};\nexport const createOrder = async (request, organizationId) => {\n  const response = await callWebApi({\n    endpoint: \"/api/orders\",\n    type: \"POST\",\n    request,\n    organizationId,\n  });\n  return response.json();\n};\n\nexport const updateOrder = async (id, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/orders/${id}`,\n    type: \"PUT\",\n    request,\n  });\n  return response.json();\n};\n\nexport const deleteTransaction = async (id, transactionId) => {\n  const response = await callWebApi({\n    endpoint: `/api/orders/${id}/payment/${transactionId}`,\n    type: \"DELETE\",\n  });\n  return response.json();\n};\n\nexport const updateOrderStatus = async (id, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/v2/orders/${id}/to-order`,\n    type: \"POST\",\n    request,\n  });\n  return response.json();\n};\n\nexport const updateOrderProcessStatus = async (id, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/orders/${id}/process-status`,\n    type: \"POST\",\n    request,\n  });\n  return response.json();\n};\n\nexport const deleteOrder = async (id, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/orders/${id}`,\n    type: \"DELETE\",\n    request,\n  });\n  return response.text().then((v) => (v ? JSON.parse(v) : undefined));\n};\n\nexport const uploadProofPayment = async (id, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/orders/${id}/payment-upload`,\n    type: \"POST\",\n    attachment: request,\n  });\n  return response.json();\n};\n\nexport const addOrderPayment = async (id, request, organizationId) => {\n  const response = await callWebApi({\n    endpoint: `/api/orders/${id}/payment`,\n    type: \"POST\",\n    request,\n    organizationId,\n  });\n  return response.json();\n};\n\nexport const updateOrderPayment = async (id, transactionId, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/orders/${id}/payment/${transactionId}`,\n    type: \"PUT\",\n    request,\n  });\n  return response.json();\n};\n\nexport const getOrderPayments = async (id) => {\n  const response = await callWebApi({\n    endpoint: `/api/orders/${id}/payment`,\n    type: \"GET\",\n  });\n  return response.json();\n};\n","import React, { useState } from \"react\";\nimport { Button, Checkbox, Icon, Modal } from \"semantic-ui-react\";\nimport {\n  deleteOrder,\n  updateOrderProcessStatus,\n} from \"../../../services/orderService\";\n\nconst DeleteOrder = ({ id, addToast, hasPayments, loadOrders }) => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const removeOrder = () => {\n    deleteOrder(id, { deleteTrxs: true })\n      .then((resp) => {\n        addToast(`Order deleted successfully`, { appearance: \"success\" });\n      })\n      .catch((err) => {\n        if (err.message !== \"\") {\n          addToast(\"Could not delete order: \" + err.message, {\n            appearance: \"error\",\n          });\n        } else {\n          addToast(\"Something went wrong\", { appearance: \"error\" });\n        }\n      })\n      .finally(() => {\n        toggleModal();\n        loadOrders();\n      });\n  };\n\n  const toggleModal = () => {\n    setIsModalOpen(!isModalOpen);\n  };\n  return (\n    <Modal\n      trigger={\n        <Button\n          onClick={toggleModal}\n          icon=\"trash alternate\"\n          negative\n          basic\n          size=\"mini\"\n          style={{ height: 32 }}\n        ></Button>\n      }\n      open={isModalOpen}\n      onClose={toggleModal}\n      closeIcon\n    >\n      <Modal.Header>Delete Order</Modal.Header>\n      <Modal.Content>\n        <h4>Are you sure you want to delete an order with id {`\"${id}\"`}?</h4>\n\n        <div style={{ textAlign: \"right\", paddingTop: 16 }}>\n          <Button onClick={toggleModal}>Close</Button>\n          <Button color=\"red\" onClick={removeOrder}>\n            <Icon name=\"trash\" /> Delete\n          </Button>\n        </div>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nexport default DeleteOrder;\n","import React, { useEffect, useState } from \"react\";\nimport { Button, Modal } from \"semantic-ui-react\";\nimport { updateOrderStatus } from \"../../../services/orderService\";\nimport { ReactComponent as ToOrderIcon } from \"../../../components/icons/toorder.svg\";\nimport { useQuotationToOrder } from \"src/hooks\";\nimport { Alert } from \"antd\";\nimport { useTranslation } from \"react-i18next\";\n\nconst UpdateQuotation = ({ id, addToast, loadOrders }) => {\n  const { t } = useTranslation(\"translation\");\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const { convert, status } = useQuotationToOrder(id);\n\n  const removeOrder = () => {\n    convert(id);\n  };\n\n  const toggleModal = () => {\n    setIsModalOpen(!isModalOpen);\n  };\n\n  useEffect(() => {\n    if (status.isSuccess) {\n      addToast(t(\"Converted to order successfully!\"), { appearance: \"success\" });\n      toggleModal();\n      loadOrders();\n    }\n  }, [status]);\n\n  return (\n    <Modal\n      trigger={\n        <Button onClick={toggleModal} className=\"table-action-btn\" style={{ fontSize: \"1.3em\", color: \"teal\" }}>\n          <ToOrderIcon />\n        </Button>\n      }\n      style={{ width: 500 }}\n      open={isModalOpen}\n      onClose={toggleModal}\n      closeIcon\n    >\n      <Modal.Header>{t(\"Convert this order into open order ?\")}</Modal.Header>\n      <Modal.Content>\n        <div style={{ textAlign: \"right\", marginBottom: 16 }}>\n          <Button onClick={toggleModal}>{t(\"No\")}</Button>\n          <Button primary onClick={removeOrder}>\n            {t(\"Yes\")}\n          </Button>\n        </div>\n        {status.isError && <Alert type=\"error\" message={t(\"Not enough stock\") + `: ${status.message}`}></Alert>}\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nexport default UpdateQuotation;\n","import { getDepartments } from \"../services/departmentsService\";\nimport { getCategories } from \"../services/categoriesService\";\nimport { getBrands } from \"../services/brandsService\";\nimport { getModels } from \"../services/modelsService\";\nimport { getSubcategories } from \"../services/subcategoriesService\";\nimport { getClients } from \"../services/clientService\";\nimport { getProducts } from \"../services/productService\";\nimport { getAdminRoles } from \"../services/adminService\";\nimport { getOrganizations } from \"../services/organizationsService\";\n\nexport const staticFormOptions = {\n  unitOptions: [\n    { key: \"unit\", text: \"Unit\", value: \"unit\" },\n    { key: \"size\", text: \"Size\", value: \"size\" },\n    // {key: 'w', text: 'Weight', value: 'w'},\n    // {key: 's', text: 'Size', value: 's'},\n  ],\n  volumeOptions: [\n    { key: \"l\", text: \"Liter\", value: 1 },\n    { key: \"m\", text: \"Milliliter\", value: 2 },\n    { key: \"o\", text: \"Ounce\", value: 3 },\n    { key: \"g\", text: \"Gallon\", value: 4 },\n    { key: \"b\", text: \"Barrel\", value: 5 },\n  ],\n  sizeOptions: [\n    { key: \"ml\", text: \"Millimeter\", value: 1 },\n    { key: \"cm\", text: \"Centimeter\", value: 2 },\n    { key: \"m\", text: \"Meter\", value: 3 },\n    { key: \"sm\", text: \"SquareMeter\", value: 4 },\n    { key: \"cbm\", text: \"CubicMeter\", value: 5 },\n    { key: \"in\", text: \"Inch\", value: 6 },\n    { key: \"ft\", text: \"Foot\", value: 7 },\n  ],\n  sizev2Options: [\n    { key: \"linear\", text: \"linear\", value: 1 },\n    { key: \"sqmeter\", text: \"sq. meter\", value: 2 },\n    { key: \"cubicmeter\", text: \"cubic meter\", value: 3 },\n  ],\n  weightOptions: [\n    { key: \"mg\", text: \"Milligram\", value: 1 },\n    { key: \"g\", text: \"Gram\", value: 2 },\n    { key: \"kg\", text: \"Kilogram\", value: 3 },\n    { key: \"tn\", text: \"Tonne\", value: 4 },\n  ],\n  paymentOptions: [\n    { key: \"cash\", text: \"Dinheiro\", value: 1 },\n    { key: \"debit\", text: \"Debito\", value: 2 },\n    { key: \"credit\", text: \"Credito\", value: 3 },\n    { key: \"check\", text: \"Cheque\", value: 4 },\n    { key: \"bc\", text: \"Bitcoins\", value: 5 },\n    { key: \"dep\", text: \"Depositos\", value: 6 },\n    { key: \"tr\", text: \"Transferencia\", value: 7 },\n    { key: \"other\", text: \"other\", value: 8 },\n  ],\n  statusOptions: [\n    { key: 0, text: \"All\", value: null },\n    { key: 1, text: \"Open\", value: 1 },\n    { key: 2, text: \"Partial\", value: 2 },\n    { key: 3, text: \"Closed\", value: 3 },\n    { key: 4, text: \"Quotation\", value: 4 },\n  ],\n};\nexport const preparedepartmentsOptions = (addToast) => {\n  const options = [];\n  getDepartments({ showAll: true })\n    .then((resp) =>\n      resp.data.map((dep) =>\n        options.push({\n          text: dep.title,\n          value: dep._id,\n        })\n      )\n    )\n    .catch((err) => addToast(\"Could not fetch departments\", { appearance: \"error\" }));\n  return options;\n};\n\nexport const prepareCategoriesOptions = (addToast) => {\n  const options = [];\n  getCategories({ showAll: true })\n    .then((resp) =>\n      resp.data.map((cat) =>\n        options.push({\n          text: cat.title,\n          value: cat._id,\n          departmentId: cat.departmentId,\n        })\n      )\n    )\n    .catch((err) => addToast(\"Could not fetch categories\", { appearance: \"error\" }));\n  return options;\n};\n\nexport const prepareModelsOptions = (addToast) => {\n  const options = [];\n  getModels({ showAll: true })\n    .then((resp) =>\n      resp.data.map((mod) =>\n        options.push({\n          text: mod.title,\n          value: mod._id,\n          brandId: mod.brandId,\n        })\n      )\n    )\n    .catch((err) => addToast(\"Could not fetch models\", { appearance: \"error\" }));\n  return options;\n};\n\nexport const prepareBrandsOptions = (addToast) => {\n  const options = [];\n  getBrands({ showAll: true })\n    .then((resp) =>\n      resp.data.map((brand) =>\n        options.push({\n          text: brand.title,\n          value: brand._id,\n          departmentId: brand.departmentId,\n        })\n      )\n    )\n    .catch((err) => addToast(\"Could not fetch brands\", { appearance: \"error\" }));\n  return options;\n};\n\nexport const prepareSubcategoriesOptions = (addToast) => {\n  const options = [];\n  getSubcategories({ showAll: true })\n    .then((resp) =>\n      resp.data.map((cat) =>\n        options.push({\n          text: cat.title,\n          value: cat._id,\n          categoryId: cat.categoryId,\n        })\n      )\n    )\n    .catch((err) => addToast(\"Could not fetch subcategories\", { appearance: \"error\" }));\n  return options;\n};\n\nexport const prepareClientsOptions = (addToast) => {\n  const options = [];\n  getClients({ showAll: true })\n    .then((resp) =>\n      resp.data.map((client) =>\n        options.push({\n          text: client.firstName + \" \" + client.lastName,\n          value: client.id,\n        })\n      )\n    )\n    .catch((err) => addToast(\"Could not fetch clients\", { appearance: \"error\" }));\n  return options;\n};\nexport const prepareRolesOptions = (addToast) => {\n  const options = [];\n  getAdminRoles({ showAll: true })\n    .then((resp) =>\n      resp.data.map((role) =>\n        options.push({\n          text: role.name,\n          value: role.roleNumber,\n        })\n      )\n    )\n    .catch((err) => addToast(\"Could not fetch admin roles\", { appearance: \"error\" }));\n  return options;\n};\n\nexport const prepareOrganizationsOptions = (addToast) => {\n  const options = [];\n  getOrganizations({ showAll: true })\n    .then((resp) =>\n      resp.data.map((org) => {\n        const branches = org.branches\n          ? org.branches.map((branch) => ({\n              text: branch.title,\n              value: branch._id,\n            }))\n          : [];\n        console.log(\"branches\", branches);\n        return options.push({\n          text: org.title,\n          value: org._id,\n          branches: branches,\n        });\n      })\n    )\n    .catch((err) => addToast(\"Could not fetch organizations\" + err, { appearance: \"error\" }));\n  console.log(options);\n  return options;\n};\n\nexport const prepareProductsOptions = (addToast) => {\n  const options = [];\n  getProducts({ showAll: true })\n    .then((resp) =>\n      resp.data.map((prod) =>\n        options.push({\n          text: prod.title,\n          value: prod._id,\n          price: prod.price || 0,\n        })\n      )\n    )\n    .catch((err) => addToast(\"Could not fetch products/services\", { appearance: \"error\" }));\n  return options;\n};\n\nexport const prepareOptions = (addToast) => {\n  return {\n    categoriesOptions: prepareCategoriesOptions(addToast),\n    brandsOptions: prepareBrandsOptions(addToast),\n    modelsOptions: prepareModelsOptions(addToast),\n    subcategoriesOptions: prepareSubcategoriesOptions(addToast),\n    departmentsOptions: preparedepartmentsOptions(addToast),\n  };\n};\n","import React, { useState } from \"react\";\nimport { Button, Form, Icon, Label, Modal } from \"semantic-ui-react\";\nimport { staticFormOptions } from \"../../../helpers/options\";\nimport { addOrderPayment, updateOrderPayment, uploadProofPayment } from \"../../../services/orderService\";\nimport { formatNumber } from \"../../../helpers/formatters\";\nimport currencyFormatter from \"../../../helpers/currencyFormatterPrefix\";\nimport currencyFormatterPrefix from \"../../../helpers/currencyFormatterPrefix\";\nimport { useNewCheques } from \"src/hooks\";\nimport { useTranslation } from \"react-i18next\";\n\nconst AddOrderPaymentModal = ({ order, loadOrders, addToast, onClose, afterSave, initialValues }) => {\n  const { t } = useTranslation(\"translation\");\n  const [paymentType, setPaymentType] = useState(initialValues?.method);\n  const [paymentAmount, setPaymentAmount] = useState(initialValues?.amount);\n  const [proofPaymentUrl, setProofPaymentUrl] = useState(initialValues?.fileLink);\n\n  const [isFileUploading, setIsFileUploading] = useState(false);\n  const [isPaymentAmountValid, setIsPaymentAmountValid] = useState(true);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [chequeId, setChequeId] = useState(initialValues?.chequeId);\n\n  const [cheques] = useNewCheques(order?.organizationId);\n\n  const isAmountValid = (amount, total) => {\n    return amount > 0 && amount <= total;\n  };\n\n  const chequeOptions = cheques.map(({ no, amount, _id }) => ({\n    text: `${no} (${currencyFormatterPrefix.format(amount)})`,\n    value: _id,\n  }));\n\n  if (initialValues?.cheque) {\n    chequeOptions.push({\n      text: `${initialValues.cheque.no} (${currencyFormatterPrefix.format(initialValues.cheque.amount)})`,\n      value: initialValues.cheque._id,\n    });\n  }\n\n  const handleFileSelect = (event) => {\n    const file = event.target.files[0];\n\n    setIsFileUploading(true);\n    uploadProofPayment(order._id, file)\n      .then((res) => {\n        setProofPaymentUrl(res.message);\n      })\n      .catch((err) => {\n        addToast(t(\"failed to upload proof of payment\"), { appearance: \"error\" });\n      })\n      .finally(() => {\n        setIsFileUploading(false);\n      });\n  };\n\n  const submitOrderPayment = async () => {\n    const amount = +paymentAmount;\n    if (!isPaymentAmountValid || paymentType <= 0 || amount === 0) {\n      return;\n    }\n    const payload = {\n      method: paymentType,\n      amount: +paymentAmount,\n      fileLink: proofPaymentUrl,\n      chequeId: chequeId,\n      orderId: order._id,\n    };\n    setIsLoading(true);\n    await (initialValues?._id\n      ? updateOrderPayment(order._id, initialValues._id, payload)\n      : addOrderPayment(order._id, payload, order.organizationId)\n    )\n      .then((resp) => {\n        if (initialValues?._id) {\n          addToast(t(\"transaction\") + \" \" + t(\"changed successfully\"), {\n            appearance: \"success\",\n          });\n        } else {\n          addToast(t(\"Payment added\"), { appearance: \"success\" });\n        }\n        afterSave();\n      })\n      .catch((err) => {\n        setError(\"err.error\");\n      });\n\n    setIsLoading(false);\n    loadOrders();\n  };\n\n  return (\n    <Modal open onClose={onClose} closeIcon>\n      <Modal.Header>{t(\"Add payment\")}</Modal.Header>\n      <Modal.Content>\n        <span>\n          <strong>{t(\"Total Cost\")}:</strong> {formatNumber(order.totalCost)}\n        </span>\n        <br />\n        <span>\n          <strong>{t(\"Total Paid\")}:</strong> {formatNumber(order.totalPaid)}\n        </span>\n        <br />\n        <span>\n          <strong>{t(\"Left to pay\")}:</strong> {currencyFormatter.format(order.totalCost - order.totalPaid)}\n        </span>\n        <br />\n        <br />\n\n        <Form firstName=\"createAdminForm\" size=\"large\" onSubmit={submitOrderPayment}>\n          <Form.Group widths=\"equal\">\n            <Form.Input\n              fluid\n              placeholder={t(\"Amount\")}\n              label={t(\"Amount\")}\n              type=\"number\"\n              value={paymentAmount}\n              error={\n                !isPaymentAmountValid && {\n                  content: `${t(\"Enter amount between 0,1 and\")} ${\n                    initialValues?._id ? order.totalCost : order.totalCost - order.totalPaid\n                  }`,\n                  pointing: \"above\",\n                }\n              }\n              // error={!isPaymentAmountValid}\n              message={\"sdvf\"}\n              onChange={(ev) => setPaymentAmount(ev.target.value)}\n              onBlur={() =>\n                setIsPaymentAmountValid(\n                  isAmountValid(paymentAmount, initialValues?._id ? order.totalCost : order.totalCost - order.totalPaid)\n                )\n              }\n            />\n            <Form.Select\n              fluid\n              label={t(\"Payment Type\")}\n              options={staticFormOptions.paymentOptions}\n              defaultValue={paymentType}\n              placeholder={t(\"Payment Type\")}\n              onChange={(e, { value }) => setPaymentType(value)}\n              required\n            />\n            <Form.Select\n              fluid\n              label={t(\"Cheque\")}\n              options={chequeOptions}\n              onChange={(e, { value }) => setChequeId(value)}\n              required={paymentType === 4}\n              disabled={paymentType !== 4}\n              defaultValue={chequeId}\n            ></Form.Select>\n            {proofPaymentUrl ? (\n              <div className=\"field\" style={{ alignSelf: \"center\", paddingTop: 16 }}>\n                <a target=\"_blank\" href={`/assets/${proofPaymentUrl}`} style={{ marginRight: 16 }}>\n                  {proofPaymentUrl}\n                </a>\n                <Button icon=\"delete\" onClick={() => setProofPaymentUrl(undefined)}></Button>\n              </div>\n            ) : (\n              <Form.Input\n                style={{ width: \"200px\" }}\n                name=\"file\"\n                label={t(\"Proof of payment\")}\n                type=\"file\"\n                accept=\".jpg, .jpeg, .pdf\"\n                onChange={handleFileSelect}\n              />\n            )}\n          </Form.Group>\n          <Form.Group>{error && <Label color=\"red\">{error}</Label>}</Form.Group>\n\n          <div style={{ textAlign: \"right\" }}>\n            <Button type=\"button\" onClick={onClose}>\n              {t(\"Cancel\")}\n            </Button>\n            <Button type=\"submit\" loading={isLoading} primary disabled={isFileUploading}>\n              {t(\"Submit\")}\n            </Button>\n          </div>\n        </Form>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nexport default AddOrderPaymentModal;\n","import React, { useState } from \"react\";\n\nimport { Icon, Button, Table, Confirm, Dropdown, Modal, Form, Pagination } from \"semantic-ui-react\";\nimport DeleteOrder from \"../DeleteOrder\";\nimport { formatNumber, stringifyOrderStatus } from \"../../../helpers/formatters\";\nimport UpdateQuotation from \"../UpdateQuotation\";\nimport moment from \"moment\";\n\nimport currencyFormatter from \"../../../helpers/currencyFormatterPrefix\";\nimport AddOrderPaymentModal from \"src/components/OrderComponents/AddOrderPaymentModal\";\nimport { updateOrderProcessStatus } from \"../../../services/orderService\";\nimport { Upload } from \"antd\";\nimport { useTranslation } from \"react-i18next\";\nimport { orderProcesses } from \"src/hooks\";\nimport { useContext } from \"react\";\nimport { UserContext } from \"src/contexts\";\n\nconst _30Days = 30 * 24 * 60 * 60 * 1000;\n\nconst ConcludedStatus = 8;\n\nconst OrderProcess = ({ id: orderId, status, paymentStatus, onUpdate, allowed }) => {\n  const { t } = useTranslation([\"translation\"]);\n  const [shouldShowReviewModal, setShouldShowReviewModal] = useState(false);\n  const [files, setFiles] = useState([]);\n  const [review, setReview] = useState(\"\");\n  const handleClick = (id) => () => {\n    updateOrderProcessStatus(orderId, { processStatus: id }).then(() => onUpdate());\n  };\n\n  const addReview = () => {\n    updateOrderProcessStatus(orderId, {\n      processStatus: ConcludedStatus,\n      documents: files.map(({ response }) => response?.message),\n      comment: review,\n    }).then(() => onUpdate());\n  };\n\n  const handleFilesChane = ({ fileList }) => {\n    setFiles(fileList);\n  };\n\n  const closeShouldShowReviewModal = () => setShouldShowReviewModal(false);\n  return (\n    <>\n      <Dropdown text={t(orderProcesses[status])}>\n        <Dropdown.Menu>\n          {orderProcesses.map((label, i) => (\n            <Dropdown.Item\n              key={label}\n              text={t(label)}\n              onClick={i === ConcludedStatus ? () => setShouldShowReviewModal(true) : handleClick(i)}\n              disabled={(i === ConcludedStatus && (status !== 7 || paymentStatus !== 3)) || i === 0 || !allowed.includes(i)}\n            />\n          ))}\n        </Dropdown.Menu>\n      </Dropdown>\n      {shouldShowReviewModal && (\n        <Modal closeIcon open onClose={closeShouldShowReviewModal}>\n          <Modal.Header>{t(\"Conclude with Review\")}</Modal.Header>\n          <Modal.Content>\n            <Form>\n              <div style={{ marginBottom: 16 }}>\n                <Upload\n                  onChange={handleFilesChane}\n                  fileList={files}\n                  action=\"/api/assets/upload?entity=order\"\n                  accept=\"image/*,.pdf\"\n                  headers={{\n                    Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                  }}\n                >\n                  <Button>{t(\"Add files\")}</Button>\n                </Upload>\n              </div>\n\n              <Form.Group widths=\"equal\">\n                <Form.TextArea\n                  label={t(\"Client Review\")}\n                  onChange={(e, { value }) => {\n                    setReview(value);\n                  }}\n                />\n              </Form.Group>\n            </Form>\n            <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n              <Button onClick={closeShouldShowReviewModal}>Cancel</Button>\n              <Button primary onClick={addReview}>\n                {t(\"Conclude\")} {t(\"Order\")}\n              </Button>\n            </div>\n          </Modal.Content>\n        </Modal>\n      )}\n    </>\n  );\n};\n\nconst noPaymentSince30days = (order) => {\n  const lastTransactionOn = (order.transactions || []).sort((a, b) => b.createdAt - a.createdAt)[0]?.createdAt;\n  const lastPaymentOn = lastTransactionOn || order.createdAt;\n  return [1, 2].includes(order.status) && Date.now() - lastPaymentOn * 1000 > _30Days;\n};\n\nconst EstConclusionDate = ({ date, status }) => {\n  if (!date) return \"-\";\n  const dateFormatted = moment(date).format(\"DD/MM/YYYY\");\n  const diffFromToday = moment(date).diff(moment(), \"day\");\n  let bgColor;\n  let prefix;\n  if (status < 7) {\n    if (diffFromToday <= 0) {\n      bgColor = \"rgba(255, 0, 0, 0.2)\";\n      prefix = \"\";\n    } else if (diffFromToday > 0 && diffFromToday <= 5) {\n      prefix = <span style={{ fontFamily: \"Segoe UI Emoji\" }}> </span>;\n      bgColor = \"rgba(255, 255, 0, 0.2)\";\n    }\n  }\n\n  return (\n    <span style={{ backgroundColor: bgColor, padding: 8 }}>\n      {prefix}\n      {dateFormatted}\n    </span>\n  );\n};\n\nconst OrderList = ({\n  orders,\n  addToast,\n  loadOrders,\n  setSelectedOrders,\n  selectedOrders,\n  showOrderUpdateModal,\n\n  filters,\n  pages,\n  onPageChange,\n}) => {\n  const { t } = useTranslation([\"translation\"]);\n  const { user: admin } = useContext(UserContext);\n  const [collectPaymentFor, setCollectPaymentFor] = useState(undefined);\n\n  const [shouldShowChangeStatusModal, setShouldShowChangeStatusModal] = useState();\n\n  const allowedOrders = (orders || []).filter(({ processStatus, client }) => {\n    const r1 = (admin.allowedStatuses || []).length > 0 ? admin.allowedStatuses.includes(processStatus) : true;\n    const r2 = admin.roleNumber === 6 ? client?._id === admin._id : true;\n    return r1 && r2;\n  });\n\n  const updateOrderStatusProcess = () => {};\n\n  const selectOrder = (_id) => (event) => {\n    if (event.target.checked) {\n      setSelectedOrders([...selectedOrders, _id]);\n    } else {\n      setSelectedOrders(selectedOrders.filter((sid) => sid !== _id));\n    }\n  };\n\n  const handleEdit = (order) => {\n    setCollectPaymentFor(order);\n  };\n\n  const closeCollectPaymentModal = () => {\n    setCollectPaymentFor(undefined);\n  };\n\n  const handleAfterUpdate = () => {\n    closeCollectPaymentModal();\n    loadOrders();\n  };\n\n  return (\n    <>\n      <Table celled>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell colSpan=\"2\" rowSpan=\"2\">\n              {t(\"Actions\")}\n            </Table.HeaderCell>\n            <Table.HeaderCell>{t(\"ID\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Client\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Status\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Process Status\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Total Units\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Total Cost\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Total Paid\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Est. Conlusion\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Created At\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Last Pay date\")}</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {allowedOrders.map((order) => {\n            const shouldDeleteQuote = order.status === 4 && Date.now() - order.createdAt * 1000 > _30Days;\n\n            return (\n              <Table.Row key={order._id}>\n                <Table.Cell>\n                  <div style={{ display: \"flex\", gridAutoFlow: \"column\", columnGap: 16 }}>\n                    {([1].includes(admin.roleNumber) || shouldDeleteQuote) && (\n                      <DeleteOrder\n                        hasPayments={order.totalPaid !== 0}\n                        id={order._id}\n                        addToast={addToast}\n                        loadOrders={loadOrders}\n                      />\n                    )}\n                    {order.totalCost > order.totalPaid && order.status !== 4 && (\n                      <button onClick={() => handleEdit(order)} className=\"table-action-btn\">\n                        <Icon name=\"money bill alternate\" />\n                      </button>\n                    )}\n                    {order.status === 4 && <UpdateQuotation id={order._id} addToast={addToast} loadOrders={loadOrders} />}\n\n                    {(order.status === 4 || admin.roleNumber === 1) && (\n                      <Button className=\"table-action-btn\" onClick={() => showOrderUpdateModal(order._id)}>\n                        <Icon name=\"pencil alternate\" />\n                      </Button>\n                    )}\n                  </div>\n                </Table.Cell>\n                <Table.Cell>\n                  {order.status === 4 && <input type=\"checkbox\" onChange={selectOrder(order._id)}></input>}\n                </Table.Cell>\n\n                <Table.Cell>\n                  <a href={`/orders/view/${order._id}`}>{order.orderId}</a>\n                </Table.Cell>\n                <Table.Cell>\n                  {(order.client || {}).firstName} {(order.client || {}).lastName}\n                </Table.Cell>\n                <Table.Cell>\n                  {stringifyOrderStatus(t, order.status, shouldDeleteQuote || noPaymentSince30days(order))}\n                </Table.Cell>\n                <Table.Cell>\n                  {order.status !== 4 && (\n                    <OrderProcess\n                      id={order._id}\n                      status={order.processStatus}\n                      onUpdate={loadOrders}\n                      paymentStatus={order.status}\n                      allowed={\n                        [1, 2].includes(admin.roleNumber)\n                          ? [...orderProcesses.keys()]\n                          : orderProcesses.map((_, i) => i).filter((s) => order.processStatus + 1 === s)\n                      }\n                    />\n                  )}\n                </Table.Cell>\n                <Table.Cell>{formatNumber(order.totalUnits)}</Table.Cell>\n                <Table.Cell>{currencyFormatter.format(order.totalCost)}</Table.Cell>\n                <Table.Cell>{currencyFormatter.format(order.totalPaid)}</Table.Cell>\n                <Table.Cell style={{ padding: 16, width: 160 }}>\n                  <EstConclusionDate date={order.estConclusionDate} status={order.processStatus} />\n                </Table.Cell>\n                <Table.Cell>{moment(order.createdAt * 1000).format(\"DD/MM/YYYY\")}</Table.Cell>\n                <Table.Cell>\n                  {order.transactions.length > 0\n                    ? moment(order.transactions.sort((a, b) => b.createdAt - a.createdAt)[0].createdAt * 1000).format(\n                        \"DD/MM/YYYY\"\n                      )\n                    : \"-\"}\n                </Table.Cell>\n              </Table.Row>\n            );\n          })}\n        </Table.Body>\n\n        <Table.Footer>\n          <Table.Row>\n            <Table.HeaderCell colSpan=\"20\" style={{ textAlign: \"right\" }}>\n              <Pagination\n                activePage={filters.currentPage}\n                totalPages={pages}\n                onPageChange={(_, { activePage }) => onPageChange(activePage)}\n              />\n            </Table.HeaderCell>\n          </Table.Row>\n        </Table.Footer>\n      </Table>\n      {collectPaymentFor && (\n        <AddOrderPaymentModal\n          addToast={addToast}\n          order={collectPaymentFor}\n          onClose={closeCollectPaymentModal}\n          afterSave={handleAfterUpdate}\n          loadOrders={loadOrders}\n        />\n      )}\n      {shouldShowChangeStatusModal && (\n        <Confirm open onCancel={() => setShouldShowChangeStatusModal(undefined)} onConfirm={updateOrderStatusProcess} />\n      )}\n    </>\n  );\n};\n\nOrderList.defaultProps = {\n  orders: [],\n  isLoading: true,\n};\n\nexport default OrderList;\n","import React, { useEffect, useState } from \"react\";\nimport { Alert, Col, Form, Input, message, Radio, Row } from \"antd\";\nimport { FormModal } from \"src/components\";\nimport NumberFormat from \"react-number-format\";\nimport { useTranslation } from \"react-i18next\";\nimport { braillePatternBlank, ruleRequired, translateFormRules } from \"src/helpers\";\n\nimport { useClient } from \"src/hooks\";\nimport { InputNumberFmtd } from \"src/components\";\n\nconst formRules = {\n  firstName: [ruleRequired],\n  lastName: [ruleRequired],\n  email: [ruleRequired],\n  address: [ruleRequired],\n  cpf: [{ type: \"string\", len: 11 }],\n  cnpj: [{ type: \"string\", len: 14 }],\n  zipCode: [ruleRequired, { type: \"string\", len: 8 }],\n};\n\nconst addressPlaceholder = `Sr. Luis Carvalho\nBoulevard das Flores 255\nSALVADOR-BA\nBRAZIL\n`;\n\nconst defaultValue = {\n  costContribution: [{ name: \"cost\", value: 0 }],\n  profitInPercentage: false,\n  identificationType: \"pf\",\n  unitType: \"unit\",\n  images: [],\n};\n\nfunction ClientFormModal({ onClose, afterSave, okText, initialValue }) {\n  const { t } = useTranslation([\"translation\"]);\n  const rules = translateFormRules(t, formRules);\n\n  const { insertedId, save, status: saveStatus } = useClient();\n  const [form] = Form.useForm();\n\n  const confirmPasswordValidator = ({ getFieldValue }) => ({\n    validator(_, value) {\n      if (!getFieldValue(\"password\") || getFieldValue(\"password\") === value) {\n        return Promise.resolve();\n      }\n      return Promise.reject(new Error(t(\"passwords do not match\")));\n    },\n  });\n\n  const handleSubmit = (values) => {\n    const payload = {\n      ...values,\n      // lets not save  identificationType if user not provided identificationNumber\n      identificationType: values.identificationNumber ? values.identificationType : undefined,\n    };\n    save(payload, initialValue?._id);\n  };\n\n  useEffect(() => {\n    if (saveStatus.isSuccess) {\n      message.success(saveStatus.message);\n      afterSave(insertedId);\n    }\n  }, [saveStatus, insertedId]);\n\n  const denormInitValue = initialValue\n    ? {\n        ...defaultValue,\n        ...initialValue,\n        identificationType: initialValue.identificationType || \"pf\",\n      }\n    : defaultValue;\n\n  return (\n    <FormModal\n      formID=\"client-add-modal\"\n      onClose={onClose}\n      okText={okText}\n      submitButtonProps={{ loading: saveStatus.isLoading }}\n      width={800}\n      organizationId={denormInitValue?.organizationId}\n    >\n      <Form\n        form={form}\n        layout=\"vertical\"\n        id=\"client-add-modal\"\n        initialValues={denormInitValue}\n        onFinish={handleSubmit}\n        validateTrigger=\"onFinish\"\n      >\n        <Row gutter={16}>\n          <Col span={12}>\n            <Form.Item name=\"firstName\" label={t(\"First Name\")} rules={rules.firstName}>\n              <Input />\n            </Form.Item>\n          </Col>\n          <Col span={12}>\n            <Form.Item name=\"lastName\" label={t(\"Last Name\")} rules={rules.lastName}>\n              <Input />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Form.Item name=\"address\" label={t(\"Address\")} rules={rules.address}>\n          <Input.TextArea rows={5} placeholder={addressPlaceholder} />\n        </Form.Item>\n        <Row gutter={16}>\n          <Col span={4}>\n            <Form.Item name=\"identificationType\" label={braillePatternBlank} rules={rules.identificationType}>\n              <Radio.Group>\n                <Radio.Button value=\"pf\">{t(\"PF\")}</Radio.Button>\n                <Radio.Button value=\"pj\">{t(\"PJ\")}</Radio.Button>\n              </Radio.Group>\n            </Form.Item>\n          </Col>\n          <Col span={8}>\n            <Form.Item dependencies={[\"identificationType\"]} noStyle>\n              {({ getFieldValue }) => {\n                const isCNPJ = getFieldValue(\"identificationType\") === \"pj\";\n                return (\n                  <Form.Item\n                    name=\"identificationNumber\"\n                    label={isCNPJ ? t(\"CNPJ\") : t(\"CPF\")}\n                    rules={isCNPJ ? rules.cnpj : rules.cpf}\n                  >\n                    <InputNumberFmtd\n                      format={isCNPJ ? \"##.###.###/####-##\" : \"###.###.###-##\"}\n                      placeholder={isCNPJ ? \"00.000.000/0001-00\" : \"000.000.000-00\"}\n                      valuePropName=\"value\"\n                    />\n                  </Form.Item>\n                );\n              }}\n            </Form.Item>\n          </Col>\n          <Col span={8}>\n            <Form.Item name=\"zipCode\" label={t(\"Zip Code\")} rules={rules.zipCode}>\n              <InputNumberFmtd format=\"#####-###\" placeholder=\"00000-000\" valuePropName=\"value\" />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row gutter={16}>\n          <Col span={8}>\n            <Form.Item label={t(\"Email\")} name=\"email\" rules={rules.email}>\n              <Input />\n            </Form.Item>\n          </Col>\n          <Col span={8}>\n            <Form.Item\n              label={t(\"Landline Number\")}\n              name=\"landlineNumber\"\n              rules={rules.landlineNumber}\n              trigger=\"onValueChange\"\n              getValueFromEvent={(vs) => vs.value}\n            >\n              <NumberFormat customInput={Input} format=\"(##) ##### - ####\" placeholder=\"(00) 00000 - 0000\" />\n            </Form.Item>\n          </Col>\n          <Col span={8}>\n            <Form.Item\n              label={t(\"Mobile Number\")}\n              name=\"mobileNumber\"\n              rules={rules.mobileNumber}\n              trigger=\"onValueChange\"\n              getValueFromEvent={(vs) => vs.value}\n            >\n              <NumberFormat customInput={Input} format=\"(##) #### - ####\" placeholder=\"(00) 0000 - 0000\" />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row gutter={16}>\n          <Col span={8}>\n            <Form.Item name=\"password\" label={t(\"Password\")} rules={rules.password}>\n              <Input.Password />\n            </Form.Item>\n          </Col>\n          <Col span={8}>\n            <Form.Item\n              name=\"confirmPassword\"\n              label={t(\"Confirm Password\")}\n              dependencies={[\"password\"]}\n              rules={[confirmPasswordValidator]}\n            >\n              <Input.Password />\n            </Form.Item>\n          </Col>\n        </Row>\n      </Form>\n      {saveStatus.isError && <Alert message={saveStatus.message} type=\"error\" />}\n    </FormModal>\n  );\n}\n\nexport default ClientFormModal;\n","import { Alert, Button, Col, DatePicker, Form, Input, message, Row, Select, Upload } from \"antd\";\nimport { List } from \"antd\";\nimport { DeleteOutlined } from \"@ant-design/icons\";\nimport React, { useEffect, useState } from \"react\";\nimport { useClientOptions, useOrder, useProductList } from \"src/hooks\";\nimport listsearch from \"src/helpers/listsearch\";\nimport currencyFormatter from \"src/helpers/currencyFormatterPrefix\";\nimport { useTranslation } from \"react-i18next\";\nimport NumberFormat from \"react-number-format\";\nimport NSHandler from \"src/components/NSHandler\";\nimport moment from \"moment\";\n\nimport FormModal from \"src/components/FormModal\";\nimport ClientFormModal from \"../ClientsPage/ClientFormModal\";\nimport { InputNumberFmtd } from \"src/components\";\nimport { staticFormOptions } from \"src/helpers/options\";\nimport { braillePatternBlank } from \"src/helpers\";\nimport \"./OrderFormModal.scss\";\n\nconst paymentMethodOptions = staticFormOptions.paymentOptions.map(({ value, text }) => ({ label: text, value }));\n\nconst imageFromEvent = ({ file }) => {\n  if (file.status === \"removed\") {\n    return [];\n  }\n  if (file?.response?.message) {\n    file.uid = file?.response?.message;\n    file.url = `/uploads/${file?.response?.message}`;\n  }\n  return [file];\n};\n\nconst ruleRequired = { required: true };\nconst ruleJustRequired = [ruleRequired];\n\nconst validations = {\n  discount: [ruleRequired, { max: 10, min: 0, type: \"number\" }],\n};\n\nconst defaultValue = {\n  products: [],\n  discount: 0,\n};\n\nconst computeOrderTotal = (selectedProducts, discount) => {\n  let total = 0;\n  for (const id in selectedProducts) {\n    const p = selectedProducts[id];\n    total += (p.totalUnits || 0) * p.price;\n  }\n\n  if (discount === 0) return total;\n\n  return total - Number(((total * discount) / 100).toFixed(2));\n};\n\nconst searchFields = \"*\";\n\nfunction OrderFormModal({ onClose, afterPlace, initialValue, isQuotation = false, okText }) {\n  const { t } = useTranslation([\"translation\"]);\n\n  const [shouldShowClientAddModal, setShouldShowClientAddModal] = useState(false);\n  const { save, status: saveStatus } = useOrder();\n  const { all: products, status: productsStatus } = useProductList();\n  const { options: clientOptions, status: clientOptionsStatus, refresh: refreshClientOpts } = useClientOptions();\n\n  const [form] = Form.useForm();\n  const [searchText, setSearchText] = useState(\"\");\n\n  const handleFinish = (payload) => {\n    const productItems = [];\n    const selectedProducts = form.getFieldValue(\"products\");\n    console.log(\"selectedProducts :>> \", selectedProducts);\n\n    for (let id in selectedProducts) {\n      const product = selectedProducts[id];\n      if (!product.totalUnits) continue;\n      productItems.push({\n        productId: product.__id,\n        amount: product.totalUnits,\n        title: product.title,\n        price: product.price,\n        cost: product.cost,\n        comment: product.comment,\n      });\n    }\n\n    save(initialValue?._id, {\n      ...initialValue,\n      ...payload,\n      isQuotation: isQuotation,\n      estConclusionDate: payload.estConclusionDate && payload.estConclusionDate.unix() * 1000,\n      items: productItems,\n    });\n  };\n\n  const handleProductAdd = (product) => () => {\n    const selectedProducts = form.getFieldValue(\"products\");\n\n    const selectedProduct = selectedProducts.findIndex((p) => p._id === product._id);\n    const selectedQuantity = selectedProduct?.totalUnits || 0;\n    if (product.isService || isQuotation || selectedQuantity !== product.totalUnits) {\n      if (selectedProduct === -1) {\n        const t = {\n          _id: product._id,\n          __id: product._id,\n          title: product.title,\n          price: product.price,\n          cost: product.cost,\n          totalUnits: 1,\n        };\n        form.setFieldsValue({ products: [t, ...selectedProducts] });\n      } else {\n        selectedProducts[selectedProduct].totalUnits += 1;\n        form.setFieldsValue({ products: selectedProducts });\n      }\n\n      // form.setFieldsValue({\n      //   products: {\n      //     ...selectedProducts,\n      //     [product._id]: t,\n      //   },\n      // });\n    }\n  };\n\n  const handleProductAddAsAnother = (product) => () => {\n    const selectedProducts = form.getFieldValue(\"products\");\n    const selectedQuantity = selectedProducts[product._id]?.totalUnits || 0;\n    if (product.isService || isQuotation || product.totalUnits !== selectedQuantity) {\n      const t = {\n        _id: Symbol(product._id),\n        __id: product._id,\n        title: product.title,\n        price: product.price,\n        cost: product.cost,\n        totalUnits: 1,\n      };\n\n      form.setFieldsValue({\n        products: [t, ...selectedProducts],\n      });\n    }\n  };\n\n  const handleQuantityChange = (productId) => (quantity) => {\n    const selectedProducts = form.getFieldValue(\"products\");\n    const selectedProduct = selectedProducts.find((p) => p._id === productId);\n    selectedProduct.totalUnits = quantity;\n    form.setFieldsValue({\n      products: null,\n    });\n    form.setFieldsValue({\n      products: selectedProducts,\n    });\n    // form.setFieldsValue({\n    //   products: {\n    //     ...selectedProducts,\n    //     [productId]: { ...selectedProducts[productId], totalUnits: quantity },\n    //   },\n    // });\n  };\n\n  const handleAddClientClick = () => {\n    setShouldShowClientAddModal(true);\n  };\n\n  const closeClientFormModal = () => setShouldShowClientAddModal(false);\n\n  const handleAddClient = (_id) => {\n    setShouldShowClientAddModal(false);\n    refreshClientOpts();\n    form.setFieldsValue({ clientId: _id });\n  };\n\n  const handleDelete = (productId) => () => {\n    const selectedProducts = form.getFieldValue(\"products\");\n    const i = selectedProducts.findIndex((p) => p._id === productId);\n\n    form.setFieldsValue({\n      products: null,\n    });\n    form.setFieldsValue({\n      products: [...selectedProducts.slice(0, i), ...selectedProducts.slice(i + 1)],\n    });\n  };\n\n  useEffect(() => {\n    if (saveStatus.isSuccess) {\n      message.success(\"New order placed successfully!\");\n      afterPlace();\n    }\n    if (saveStatus.isError) {\n      message.error(saveStatus.message);\n    }\n  }, [saveStatus, afterPlace]);\n\n  useEffect(() => {\n    let code = \"\";\n    let reading = false;\n\n    const handleScannerInput = (e) => {\n      //usually scanners throw an 'Enter' key at the end of read\n\n      if (e.key === \"Enter\") {\n        if (code.length >= 13) {\n          /// code ready to use\n          const scannedProduct = products.find(({ ISBN }) => code === ISBN);\n\n          code = \"\";\n          if (scannedProduct) {\n            handleProductAdd(scannedProduct)();\n          }\n        }\n      } else {\n        code += e.key; //while this is not an 'enter' it stores the every key\n      }\n      //run a timeout of 200ms at the first read and clear everything\n      if (!reading) {\n        reading = true;\n        setTimeout(() => {\n          code = \"\";\n          reading = false;\n        }, 200);\n      } //200 works fine for me but you can adjust it\n    };\n    document.addEventListener(\"keydown\", handleScannerInput);\n\n    return () => {\n      document.removeEventListener(\"keydown\", handleScannerInput);\n    };\n  }, [products]);\n\n  const searched = listsearch(products, searchFields, searchText);\n\n  let temp = new Set();\n  const denormInitValue = initialValue\n    ? {\n        products: initialValue.items.map(({ productId, amount, ...rest }) => {\n          const _id = temp.has(productId) ? Symbol(productId) : productId;\n          temp.add(productId);\n          return {\n            _id: _id,\n            __id: productId,\n            totalUnits: amount,\n            ...rest,\n          };\n        }),\n        // products: Object.fromEntries(\n        //   initialValue.items.map(({ productId, amount, ...rest }) => [\n        //     productId,\n        //     { _id: productId, totalUnits: amount, ...rest },\n        //   ])\n        // ),\n        clientId: (initialValue.client || {})._id,\n        comment: initialValue.comment,\n        discount: initialValue.discount,\n        isQuotation: initialValue.status === 4,\n        estConclusionDate: initialValue.estConclusionDate ? moment(initialValue.estConclusionDate) : undefined,\n      }\n    : defaultValue;\n\n  return (\n    <FormModal\n      className=\"order-place-form-modal\"\n      formID=\"order-place-form\"\n      okText={okText}\n      onClose={onClose}\n      submitButtonProps={{ loading: saveStatus.isLoading }}\n      width=\"100%\"\n      style={{ top: 16 }}\n      organizationId={denormInitValue?.organizationId}\n    >\n      <Form\n        id=\"order-place-form\"\n        layout=\"vertical\"\n        form={form}\n        onFinish={handleFinish}\n        initialValues={denormInitValue}\n        preserve={false}\n        onValuesChange={console.log}\n      >\n        <Row gutter={16}>\n          <Col span={12} style={{ height: \"100%\" }}>\n            <div\n              style={{\n                display: \"grid\",\n                gridTemplateRows: \"minmax(min-content, max-content) auto\",\n                minHeight: 0,\n                height: \"100%\",\n              }}\n            >\n              <Input.Search onChange={(e) => setSearchText(e.target.value)} allowClear />\n              <List\n                className=\"product-list-form\"\n                itemLayout=\"horizontal\"\n                dataSource={searched}\n                loading={productsStatus.isLoading}\n                renderItem={(product) => (\n                  <List.Item\n                    className={product.totalUnits === 0 && !product.isService && !isQuotation ? \"disabled\" : undefined}\n                    actions={[\n                      <Button\n                        onClick={handleProductAddAsAnother(product)}\n                        size=\"small\"\n                        disabled={product.totalUnits === 0 && !product.isService && !isQuotation}\n                      >\n                        + {t(\"Add as Another\")}\n                      </Button>,\n                      <Button\n                        onClick={handleProductAdd(product)}\n                        size=\"small\"\n                        disabled={product.totalUnits === 0 && !product.isService && !isQuotation}\n                      >\n                        + {t(\"Add\")}\n                      </Button>,\n                    ]}\n                  >\n                    <List.Item.Meta\n                      avatar={<img src={`/assets/${(product.images || [])[0]?.link}`} />}\n                      title={\n                        <>\n                          <div>{product.title}</div>\n                          {!product.isService && (\n                            <span style={{ color: product.totalUnits === 0 ? \"red\" : \"inherit\" }}>\n                              {t(\"In Stock\")}: {product.totalUnits}\n                            </span>\n                          )}\n                        </>\n                      }\n                    ></List.Item.Meta>\n                  </List.Item>\n                )}\n              ></List>\n            </div>\n          </Col>\n          <Col span={12} style={{ height: \"100%\" }}>\n            <Form.Item className=\"products-form-item\" wrapperCol={{ span: 24 }} rules={ruleJustRequired} shouldUpdate>\n              {({ getFieldValue }) => (\n                <NSHandler status={productsStatus}>\n                  {() => (\n                    <List\n                      className=\"product-list-form\"\n                      itemLayout=\"horizontal\"\n                      dataSource={getFieldValue(\"products\")}\n                      renderItem={(product) => {\n                        const id = product._id;\n                        const inProduct = products.find((p) => product._id === p._id);\n                        const images = inProduct?.images || [];\n                        const quantity = product.totalUnits;\n                        const chargeDuration = inProduct?.chargeDuration || \"\";\n\n                        return (\n                          <List.Item style={{ display: \"block\" }}>\n                            <List.Item.Meta\n                              className=\"selected-product-meta\"\n                              avatar={<img src={`/assets/${images[0]?.link}`} />}\n                              title={product?.title + (chargeDuration ? ` (per ${chargeDuration})` : \"\")}\n                            ></List.Item.Meta>\n                            <div className=\"sel-product\">\n                              <div className=\"action-group\">\n                                <Input\n                                  style={{ height: 24 }}\n                                  size=\"small\"\n                                  placeholder={t(\"Comment\")}\n                                  onChange={(e) => (product.comment = e.target.value)}\n                                />\n\n                                <InputNumberFmtd\n                                  value={quantity}\n                                  onChange={handleQuantityChange(id)}\n                                  size=\"small\"\n                                  step={0.01}\n                                />\n\n                                <Button icon={<DeleteOutlined />} onClick={handleDelete(id)} size=\"small\" danger />\n                              </div>\n                              <div className=\"price\">{currencyFormatter.format(product?.price * quantity)}</div>\n                            </div>\n                          </List.Item>\n                        );\n                      }}\n                    ></List>\n                  )}\n                </NSHandler>\n              )}\n            </Form.Item>\n          </Col>\n        </Row>\n\n        <Form.Item wrapperCol={{ span: 24 }} shouldUpdate>\n          {({ getFieldValue: f }) => (\n            <div style={{ textAlign: \"right\", fontSize: \"1.2em\" }}>\n              {t(\"Total\")}: {currencyFormatter.format(computeOrderTotal(f(\"products\"), f(\"discount\")))}\n            </div>\n          )}\n        </Form.Item>\n\n        <Row gutter={16}>\n          <Col span={4}>\n            <Form.Item name=\"clientId\" label={t(\"Client\")} rules={ruleJustRequired}>\n              <Select\n                options={clientOptions}\n                loading={clientOptionsStatus.isLoading}\n                dropdownRender={(menu) => (\n                  <div>\n                    {menu}\n                    <Button onClick={handleAddClientClick} block>\n                      + Add Client\n                    </Button>\n                  </div>\n                )}\n                filterOption={(input, option) => option.label.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                showSearch\n              />\n            </Form.Item>\n          </Col>\n          <Col span={3}>\n            <Form.Item\n              label={t(\"% Discount\")}\n              name=\"discount\"\n              trigger=\"onValueChange\"\n              getValueFromEvent={(vs) => vs.floatValue}\n              rules={validations.discount}\n            >\n              <NumberFormat\n                customInput={Input}\n                thousandSeparator=\".\"\n                decimalSeparator=\",\"\n                disabled={initialValue?._id && !isQuotation}\n              />\n            </Form.Item>\n          </Col>\n          <Col span={4}>\n            <Form.Item label={t(\"Conclude By\")} name=\"estConclusionDate\">\n              <DatePicker format=\"DD/MM/YYYY\" style={{ width: \"100%\" }} />\n            </Form.Item>\n          </Col>\n          {!isQuotation && !initialValue?._id && (\n            <Form.Item dependencies={[\"isQuotation\"]} noStyle>\n              {({ getFieldValue }) => (\n                <>\n                  <Col span={3}>\n                    <Form.Item name=\"paid\" label={t(\"Paid Amount\")}>\n                      <InputNumberFmtd disabled={!!getFieldValue(\"isQuotation\")} />\n                    </Form.Item>\n                  </Col>\n                  <Col span={3}>\n                    <Form.Item name=\"paymentMethod\" label={t(\"Payment Method\")}>\n                      <Select options={paymentMethodOptions} disabled={!!getFieldValue(\"isQuotation\")} />\n                    </Form.Item>\n                  </Col>\n                  <Col span={3}>\n                    <Form.Item\n                      label={braillePatternBlank}\n                      name=\"proofOfPayment\"\n                      getValueFromEvent={imageFromEvent}\n                      valuePropName=\"fileList\"\n                      shouldUpdate\n                    >\n                      <Upload\n                        action=\"/api/assets/upload?entity=transaction\"\n                        accept=\"image/*, .pdf\"\n                        headers={{\n                          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                        }}\n                      >\n                        <Button disabled={!!getFieldValue(\"isQuotation\")}>{t(\"Upload Proof\")}</Button>\n                      </Upload>\n                    </Form.Item>\n                  </Col>\n                </>\n              )}\n            </Form.Item>\n          )}\n        </Row>\n        <Form.Item labelCol={{ span: 4 }} label={t(\"Comment\")} name=\"comment\">\n          <Input.TextArea placeholder={t(\"Comment\")} style={{ width: \"100%\" }} rows={1} />\n        </Form.Item>\n      </Form>\n      {saveStatus.isError && <Alert message={saveStatus.message} type=\"error\" />}\n      {shouldShowClientAddModal && (\n        <ClientFormModal afterSave={handleAddClient} onClose={closeClientFormModal} okText={`${t(\"Add\")} ${t(\"Client\")}`} />\n      )}\n    </FormModal>\n  );\n}\n\nexport default OrderFormModal;\n","import React, { useEffect } from \"react\";\n\nimport Spinner from \"./../../components/Spinner\";\nimport OrderList from \"src/components/OrderComponents/OrderList\";\nimport OrderFormModal from \"./OrderFormModal\";\nimport { Input } from \"antd\";\nimport { deleteOrder } from \"../../services/orderService\";\nimport { useState } from \"react\";\nimport moment from \"moment\";\nimport { Radio, Select, Button } from \"antd\";\nimport { useOrders, orderProcesses } from \"src/hooks\";\nimport \"./styles.css\";\nimport { useTranslation } from \"react-i18next\";\nimport OrgAwareButton from \"src/components/OrgAwareButton\";\nimport { useContext } from \"react\";\nimport { UserContext } from \"src/contexts\";\n\nimport { paymentStatuses, statuses } from \"src/hooks/useOrders\";\n\nconst _30Days = 30 * 24 * 60 * 60 * 1000;\n\nconst noPaymentSince30days = (order) => {\n  const lastTransactionOn = (order.transactions || []).sort((a, b) => b.createdAt - a.createdAt)[0]?.createdAt;\n  const lastPaymentOn = lastTransactionOn || order.createdAt;\n  return [1, 2].includes(order.status) && Date.now() - lastPaymentOn * 1000 > _30Days;\n};\n\nconst expiredQuotataionsPredicate = (order) => {\n  const shouldDeleteQuote = order.status === 4 && Date.now() - order.createdAt * 1000 > _30Days;\n  return shouldDeleteQuote;\n};\n\nconst lastWeekOpenOrdersPredicate = (order) =>\n  order.createdAt * 1000 > moment().subtract(7, \"days\").unix() && order.status === 1;\n\nfunction OrdersPage(props) {\n  const { t } = useTranslation(\"translation\");\n  const { user: admin } = useContext(UserContext);\n  const { addToast, location } = props;\n  const { data: orders, total, pages, all: allOrders, search, goto, filters, status: ordersStatus, refresh } = useOrders();\n  const [alerted, setAlerted] = useState(false);\n  const [shouldShowQuotationForm, setShouldShowQuotationForm] = useState(false);\n  const [paymentDueAlert, setPaymentDueAlert] = useState(false);\n  const [conclusionNearAlert, setConclusionNearAlert] = useState(false);\n  const [conclusionDueAlert, setConclusionDueAlert] = useState(false);\n  const [selectedOrders, setSelectedOrders] = useState([]);\n  const [showOrderCreateModal, setShowOrderCreateModal] = useState(false);\n  const [editOrderId, setEditOrderId] = useState(undefined);\n\n  const searchParams = new URLSearchParams(location.search);\n  const defaultSelectedStatus = Number(searchParams.get(\"status\"));\n  const defaultSelectedPaymentStatus = Number(searchParams.get(\"paymentStatus\"));\n  const [selectedStatus, setSelectedStatus] = useState(defaultSelectedStatus > -1 ? defaultSelectedStatus : undefined);\n  const [selectedPaymentStatus, setSelectedPaymentStatus] = useState(\n    defaultSelectedPaymentStatus > -1 ? defaultSelectedPaymentStatus : undefined\n  );\n\n  const handleSearch = (e) => {\n    search(e.target.value);\n  };\n\n  const closeOrderFormModal = () => {\n    setEditOrderId(undefined);\n    setShowOrderCreateModal(false);\n    setShouldShowQuotationForm(false);\n  };\n\n  const afterPlace = () => {\n    closeOrderFormModal();\n    refresh();\n  };\n\n  const deleteSelected = () => {\n    const p = Promise.all(selectedOrders.map((_id) => deleteOrder(_id, { deleteTrxs: false })));\n    p.then((resp) => {\n      this.props.addToast(t(\"Orders deleted successfully\"), {\n        appearance: \"success\",\n      });\n    })\n      .catch((err) => {\n        if (err.message !== \"\") {\n          this.props.addToast(t(\"Could not delete orders\") + \": \" + err.message, {\n            appearance: \"error\",\n          });\n        } else {\n          this.props.addToast(t(\"Something went wrong\"), { appearance: \"error\" });\n        }\n      })\n      .finally(() => {\n        setSelectedOrders([]);\n        refresh();\n      });\n  };\n\n  const handleFilterChange = (e) => {\n    switch (e.target.value) {\n      case \"latePayments\":\n        filters.setPredicate(noPaymentSince30days);\n        break;\n      case \"expiredQuotes\":\n        filters.setPredicate(expiredQuotataionsPredicate);\n        break;\n      default:\n        filters.setPredicate(undefined);\n    }\n  };\n\n  useEffect(() => {\n    if (ordersStatus.isSuccess) {\n      if (selectedStatus > 0 || selectedPaymentStatus > 0) {\n        filters.setPredicate(\n          ({ processStatus, status }) =>\n            (selectedStatus > 0 ? processStatus === selectedStatus : true) &&\n            (selectedPaymentStatus > 0 ? status === selectedPaymentStatus : true)\n        );\n      } else {\n        filters.setPredicate(undefined);\n      }\n    }\n  }, [selectedStatus, selectedPaymentStatus, ordersStatus]);\n\n  useEffect(() => {\n    if (!alerted) {\n      const shouldAlert = allOrders.some(expiredQuotataionsPredicate);\n\n      if (shouldAlert) {\n        addToast(t(\"You have quotations older than 30 days\"), {\n          appearance: \"warning\",\n          autoDismissTimeout: 10000,\n        });\n        setAlerted(true);\n      }\n    }\n  }, [allOrders]);\n\n  useEffect(() => {\n    if (!paymentDueAlert) {\n      const shouldAlert = allOrders.some(noPaymentSince30days);\n\n      if (shouldAlert) {\n        addToast(t(\"You have orders haven't received payment since 30 days\"), {\n          appearance: \"warning\",\n          autoDismissTimeout: 10000,\n        });\n        setPaymentDueAlert(true);\n      }\n    }\n  }, [allOrders]);\n\n  useEffect(() => {\n    if (conclusionDueAlert && conclusionNearAlert) return;\n    let shouldAlertForDue = false;\n    let shouldAlertForNear = false;\n    for (let i = 0; i < allOrders.length; i++) {\n      const order = allOrders[i];\n      if (order.estConclusionDate && ![8].includes(order.processStatus)) {\n        const diffFromToday = moment(order.estConclusionDate).diff(moment(), \"day\");\n        if (diffFromToday <= 0) {\n          shouldAlertForDue = true;\n        }\n        if (diffFromToday <= 5 && diffFromToday > 0) {\n          shouldAlertForNear = true;\n        }\n      }\n    }\n    if (shouldAlertForDue) {\n      addToast(t(\"You are due to conclude order(s)\"), {\n        appearance: \"error\",\n        autoDismissTimeout: 10000,\n      });\n      setConclusionDueAlert(true);\n    }\n    if (shouldAlertForNear) {\n      addToast(t(\"You are near due to conclude order(s)\"), {\n        appearance: \"warning\",\n        autoDismissTimeout: 10000,\n      });\n      setConclusionNearAlert(true);\n    }\n  }, [allOrders]);\n\n  const isCreateDisabled =\n    (admin.isRep || admin.roleNumber === 8) && admin.maxOrders > 0\n      ? allOrders.filter(lastWeekOpenOrdersPredicate).length === admin.maxOrders\n      : false;\n\n  const selectedOrder = orders.find((o) => o._id === editOrderId);\n  const okText = selectedOrder\n    ? shouldShowQuotationForm\n      ? t(\"Update\") + \" \" + t(\"Quotation\")\n      : t(\"Update\") + \" \" + t(\"Order\")\n    : shouldShowQuotationForm\n    ? t(\"Create\") + \" \" + t(\"Quotation\")\n    : t(\"Place\") + \" \" + t(\"Order\");\n\n  return ordersStatus.isLoading ? (\n    <Spinner />\n  ) : (\n    <div className={\"container\"}>\n      <h2>{t(\"Orders\")}</h2>\n      {(showOrderCreateModal || (selectedOrder && selectedOrder.status !== 4)) && (\n        <OrderFormModal\n          addToast={props.addToast}\n          onClose={closeOrderFormModal}\n          afterPlace={afterPlace}\n          initialValue={selectedOrder}\n          okText={okText}\n        />\n      )}\n\n      {(shouldShowQuotationForm || selectedOrder?.status === 4) && (\n        <OrderFormModal\n          addToast={props.addToast}\n          onClose={closeOrderFormModal}\n          afterPlace={afterPlace}\n          initialValue={selectedOrder}\n          okText={okText}\n          isQuotation={shouldShowQuotationForm || selectedOrder.status === 4}\n        />\n      )}\n\n      <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n        <div>\n          <span style={{ marginRight: 16 }}>\n            {t(\"Total\")}: {total}\n          </span>\n          <Input.Search\n            style={{ marginRight: 16, width: 200 }}\n            placeholder={t(\"Search\")}\n            onChange={handleSearch}\n            value={filters.searchText}\n            allowClear\n          />\n          <Radio.Group onChange={handleFilterChange} defaultValue=\"\" style={{ marginRight: 16 }}>\n            <Radio.Button value=\"\">{t(\"All\")}</Radio.Button>\n            <Radio.Button value=\"latePayments\">{t(\"Late Payments\")}</Radio.Button>\n            <Radio.Button value=\"expiredQuotes\">{t(\"Exp. Quotations\")}</Radio.Button>\n          </Radio.Group>\n          <Select\n            defaultValue={selectedStatus}\n            onChange={setSelectedStatus}\n            style={{ width: 200, marginRight: 16 }}\n            placeholder={t(\"Status\")}\n            allowClear\n          >\n            {orderProcesses.map((status, i) => (\n              <Select.Option value={i}>{t(status)}</Select.Option>\n            ))}\n          </Select>\n          <Select\n            defaultValue={selectedPaymentStatus}\n            onChange={setSelectedPaymentStatus}\n            style={{ width: 200 }}\n            allowClear\n            placeholder={t(\"Payment Status\")}\n          >\n            {paymentStatuses.map((status, i) => (\n              <Select.Option value={i}>{t(status)}</Select.Option>\n            ))}\n          </Select>\n        </div>\n        <div>\n          {selectedOrders.length > 0 && (\n            <Button style={{ marginLeft: 16 }} onClick={deleteSelected} className=\"negative\">\n              {t(\"Delete Selected\")}\n            </Button>\n          )}\n\n          {[1, 2, 3, 4, 8].includes(admin.roleNumber) && (\n            <>\n              <OrgAwareButton\n                style={{ marginRight: 16 }}\n                onClick={() => setShouldShowQuotationForm(true)}\n                type=\"primary\"\n                disabled={isCreateDisabled}\n              >\n                {isCreateDisabled ? t(\"you reached limit\") : t(\"Create\") + \" \" + t(\"Quotation\")}\n              </OrgAwareButton>\n              <OrgAwareButton onClick={() => setShowOrderCreateModal(true)} type=\"primary\" disabled={isCreateDisabled}>\n                {isCreateDisabled ? t(\"you reached limit\") : t(\"Create\") + \" \" + t(\"Order\")}\n              </OrgAwareButton>\n            </>\n          )}\n        </div>\n      </div>\n      <OrderList\n        loadOrders={refresh}\n        filters={filters}\n        addToast={props.addToast}\n        orders={orders}\n        selectedOrders={selectedOrders}\n        setSelectedOrders={setSelectedOrders}\n        showOrderUpdateModal={setEditOrderId}\n        admin={props.admin}\n        pages={pages}\n        onPageChange={goto}\n      />\n    </div>\n  );\n}\n\nOrdersPage.defaultProps = {\n  orders: [],\n  isLoading: true,\n};\n\nexport default OrdersPage;\n","import React, { useState } from \"react\";\nimport { Button, Input } from \"antd\";\nimport { useClient, useClients, useRoles } from \"src/hooks\";\nimport { Confirm } from \"semantic-ui-react\";\nimport { useTranslation } from \"react-i18next\";\nimport { OrgAwareButton } from \"src/components\";\nimport ClientFormModal from \"./ClientFormModal\";\nimport { Pagination, Table } from \"semantic-ui-react\";\nimport { DeleteOutlined, EditOutlined } from \"@ant-design/icons\";\nimport { useEffect } from \"react\";\nimport { Span } from \"src/components\";\nimport NumberFormat from \"react-number-format\";\n\nfunction ClientsPage({ addToast }) {\n  const { t } = useTranslation([\"translation\"]);\n  const { data: clients, total, pages, search, goto, sort, filters, status, refresh } = useClients();\n  const roles = useRoles();\n  console.log(\"roles :>> \", roles);\n  const { del, status: actionStatus } = useClient();\n  const [shouldShowAddModal, setShouldShowAddModal] = useState(false);\n  const [selectedForEdit, setSelectedForEdit] = useState();\n  const [selectedForDelete, setSelectedForDelete] = useState();\n\n  const showAddModal = () => setShouldShowAddModal(true);\n  const closeAddModal = () => setShouldShowAddModal(false);\n\n  const handleSearch = (event) => {\n    search(event.target.value);\n  };\n\n  const closeEditModal = () => setSelectedForEdit(undefined);\n\n  const handleEdit = (item) => () => setSelectedForEdit(item);\n  const handleDelete = (id) => () => setSelectedForDelete(id);\n  const closeDeleteConfirmation = () => setSelectedForDelete();\n\n  const handleSave = () => {\n    closeAddModal();\n    closeEditModal();\n    refresh();\n  };\n\n  useEffect(() => {\n    if (actionStatus.isError || actionStatus.isSuccess) {\n      addToast(actionStatus.message, {\n        appearance: actionStatus.toString().toLowerCase(),\n      });\n\n      if (actionStatus.isSuccess) {\n        closeEditModal();\n        closeDeleteConfirmation();\n        refresh();\n      }\n    }\n  }, [actionStatus]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"list-actions\">\n        <span>\n          {t(\"Total\")}: {total}\n        </span>\n        <div style={{ marginLeft: 16, marginRight: 16 }}>\n          <Input.Search placeholder={t(\"Search\")} onChange={handleSearch} value={filters.searchText} allowClear />\n        </div>\n        <OrgAwareButton type=\"primary\" onClick={showAddModal}>\n          {t(\"Add\")} {t(\"Client\")}\n        </OrgAwareButton>\n      </div>\n\n      <Table celled>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>{t(\"Actions\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"ID\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"First Name\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Last Name\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Email\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Mobile Number\")}</Table.HeaderCell>\n            <Table.HeaderCell>\n              {t(\"CPF\")} / {t(\"CNPJ\")}\n            </Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Address\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Zip Code\")}</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {clients.map((record) => (\n            <Table.Row key={record._id}>\n              <Table.Cell>\n                <>\n                  <Button\n                    className=\"margin-right\"\n                    icon={<DeleteOutlined />}\n                    type=\"danger\"\n                    onClick={handleDelete(record._id)}\n                    size=\"small\"\n                    ghost\n                  />\n                  <Button className=\"margin-right\" icon={<EditOutlined />} onClick={handleEdit(record)} size=\"small\" />\n                </>\n              </Table.Cell>\n              <Table.Cell>{record._id}</Table.Cell>\n              <Table.Cell>{record.firstName}</Table.Cell>\n              <Table.Cell>{record.lastName}</Table.Cell>\n              <Table.Cell>{record.email}</Table.Cell>\n              <Table.Cell>\n                <NumberFormat customInput={Span} defaultValue={record.mobileNumber} format=\"(##) #### - ####\" readOnly />\n              </Table.Cell>\n              <Table.Cell>\n                <NumberFormat\n                  customInput={Span}\n                  defaultValue={record.identificationNumber}\n                  format={record.identificationType === \"pj\" ? \"##.###.###/####-##\" : \"###.###.###-##\"}\n                  readOnly\n                />\n              </Table.Cell>\n              <Table.Cell style={{ whiteSpace: \"pre\" }}>{record.address}</Table.Cell>\n              <Table.Cell>\n                <NumberFormat customInput={Span} defaultValue={record.zipCode} format=\"########\" readOnly />\n              </Table.Cell>\n            </Table.Row>\n          ))}\n        </Table.Body>\n\n        <Table.Footer>\n          <Table.Row>\n            <Table.HeaderCell colSpan=\"20\" style={{ textAlign: \"right\" }}>\n              <Pagination\n                activePage={filters.currentPage}\n                totalPages={pages}\n                onPageChange={(_, { activePage }) => goto(activePage)}\n              />\n            </Table.HeaderCell>\n          </Table.Row>\n        </Table.Footer>\n      </Table>\n\n      {(shouldShowAddModal || selectedForEdit) && (\n        <ClientFormModal\n          afterSave={handleSave}\n          onClose={() => {\n            closeAddModal();\n            closeEditModal();\n          }}\n          okText={`${selectedForEdit ? t(\"Update\") : t(\"Add\")} ${t(\"Client\")}`}\n          initialValue={selectedForEdit}\n        />\n      )}\n\n      {selectedForDelete && (\n        <Confirm\n          open\n          content={t(\"Are you sure you want to delete\") + \" ?\"}\n          onCancel={closeDeleteConfirmation}\n          onConfirm={() => del(selectedForDelete)}\n          cancelButton={t(\"No\")}\n          confirmButton={t(\"Delete\")}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default ClientsPage;\n","import React, { useEffect, useState } from \"react\";\nimport { Button, Row, Col, Input, Radio, Form, Modal, Upload, ConfigProvider, DatePicker, Checkbox, Select } from \"antd\";\nimport moment from \"moment\";\nimport { getOrderStatuses } from \"../../services/orderService\";\nimport NumberFormat from \"react-number-format\";\nimport { useFetch } from \"src/hooks\";\nimport { useDepartmentOptions, useOrganizations } from \"src/hooks\";\n\nimport { FormList } from \"src/components\";\n\nconst ruleRequired = { required: true };\n\nconst validations = {\n  name: [ruleRequired],\n  email: [ruleRequired, { type: \"email\" }],\n  password: [ruleRequired],\n  organizationId: [ruleRequired],\n  phoneNumber: [ruleRequired, { len: 11 }],\n  role: [ruleRequired],\n};\n\nconst defaultValues = {\n  documents: [{ name: \"\", url: \"\" }],\n  departmentIds: [],\n  salary: { \"13thDates\": [] },\n  organizationIds: [],\n};\n\nconst imageFromEvent = ({ file }) => {\n  if (file.status === \"removed\") {\n    return [];\n  }\n  if (file?.response?.message) {\n    file.uid = file?.response?.message;\n    file.url = `/uploads/${file?.response?.message}`;\n  }\n  return [file];\n};\n\nfunction useRoles() {\n  return useFetch(\"/api/admins/roles\");\n}\n\nconst nonAdminOneOrgValidator = (rule, value) => {\n  return value.length !== 1 ? Promise.reject(\"non-superadmins can only have one org\") : Promise.resolve();\n};\n\nfunction UserFormModal({ onClose, okText, okButtonProps, onSave, initialValues }) {\n  const [form] = Form.useForm();\n  const [orderStatuses, setOrderStatuses] = useState([]);\n  const [{ data: roles } = { data: [] }] = useRoles();\n  const { options: departmentOptions } = useDepartmentOptions();\n  const [organizations] = useOrganizations();\n\n  const roleOptions = roles.map(({ roleNumber, name }) => ({\n    label: name,\n    value: roleNumber,\n  }));\n  const organizationOptions = organizations.map(({ _id, title }) => ({\n    label: title,\n    value: _id,\n  }));\n\n  const handleSubmit = (payload) => {\n    onSave({\n      ...payload,\n      salary: {\n        ...payload.salary,\n        \"13thDates\": payload.salary[\"13thDates\"].map((dateStr) => moment(dateStr, \"DD/MM/YYYY\").unix()),\n      },\n      documents: payload.documents.map(({ name, url }) => ({\n        name,\n        url: url[0]?.uid,\n      })),\n    });\n  };\n\n  const handleValuesChange = (changed) => {\n    if (changed[\"salary13thDate\"]) {\n      console.log(form.getFieldValue([\"salary\", \"13thDates\"]));\n      form.setFieldsValue({\n        salary13thDate: \"\",\n        salary: {\n          \"13thDates\": [...form.getFieldValue([\"salary\", \"13thDates\"]), changed[\"salary13thDate\"].format(\"DD/MM/YYYY\")],\n        },\n      });\n    }\n    if (changed.organizationIds) {\n      form.setFieldsValue({ branchIds: [] });\n    }\n  };\n\n  useEffect(() => {\n    getOrderStatuses().then((res) => {\n      setOrderStatuses(Object.entries(res).map(([k, v]) => ({ value: Number(k), label: v })));\n    });\n  }, []);\n  const denormInitValue = initialValues\n    ? {\n        ...initialValues,\n        password: \"\",\n        departmentIds: initialValues.departmentIds || [],\n        allowedStatuses: initialValues.allowedStatuses || [],\n        organizationIds: initialValues.organizationIds || [],\n        branchIds: initialValues.branchIds || [],\n        documents: initialValues.documents || [],\n        salary: {\n          ...initialValues.salary,\n          \"13thDates\": ((initialValues.salary || {})[\"13thDates\"] || []).map((d) => moment(d).format(\"DD/MM/YYYY\")),\n        },\n      }\n    : defaultValues;\n\n  const branchOptions = organizations.reduce(\n    (acc, { branches, _id: organization_id }) =>\n      acc.concat(\n        (branches || []).map(({ _id, title }) => ({\n          value: _id,\n          label: title,\n          organizationId: organization_id,\n        }))\n      ),\n    []\n  );\n\n  console.log(\"organizationId :>> \", form.getFieldValue(\"organizationIds\"));\n\n  return (\n    <ConfigProvider componentSize=\"middle\">\n      <Modal\n        title={okText}\n        onClose={onClose}\n        visible\n        okText={okText}\n        okButtonProps={{\n          form: \"user-add-modal\",\n          htmlType: \"submit\",\n          ...okButtonProps,\n        }}\n        onCancel={onClose}\n        width={1124}\n        maskClosable={false}\n        keyboard={false}\n      >\n        <Form\n          layout=\"vertical\"\n          id=\"user-add-modal\"\n          form={form}\n          onValuesChange={handleValuesChange}\n          initialValues={denormInitValue}\n          onFinish={handleSubmit}\n          size=\"middle\"\n        >\n          <Row gutter={16}>\n            <Col span={4}>\n              <Form.Item label=\"First Name\" name=\"firstName\" rules={validations.firstName}>\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col span={4}>\n              <Form.Item label=\"Last Name\" name=\"lastName\" rules={validations.lastName}>\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col span={6}>\n              <Form.Item label=\"Email\" name=\"email\" rules={validations.email}>\n                <Input type=\"email\" />\n              </Form.Item>\n            </Col>\n            <Col span={6}>\n              <Form.Item label=\"Password\" name=\"password\" rules={initialValues ? undefined : validations.password}>\n                <Input.Password />\n              </Form.Item>\n            </Col>\n            <Col span={4}>\n              <Form.Item\n                label=\"Phone No\"\n                name=\"landlineNumber\"\n                rules={validations.landlineNumber}\n                trigger=\"onValueChange\"\n                getValueFromEvent={(vs) => vs.value}\n              >\n                <NumberFormat customInput={Input} format=\"(##) ##### - ####\" placeholder=\"(00) 00000 - 0000\" />\n              </Form.Item>\n            </Col>\n          </Row>\n          <Row gutter={16}>\n            <Col span={4}>\n              <Form.Item label=\"Role\" name=\"roleNumber\" rules={validations.role}>\n                <Select options={roleOptions} />\n              </Form.Item>\n            </Col>\n            <Col span={10}>\n              <Form.Item noStyle dependencies={[\"roleNumber\"]}>\n                {({ getFieldValue }) => (\n                  <Form.Item\n                    label=\"Organization\"\n                    name=\"organizationIds\"\n                    rules={[\n                      ...(getFieldValue(\"roleNumber\") === 1 ? [] : [ruleRequired]),\n                      ...(getFieldValue(\"roleNumber\") !== 1\n                        ? [\n                            {\n                              validator: nonAdminOneOrgValidator,\n                              message: \"non-superadmin must have only one org\",\n                            },\n                          ]\n                        : []),\n                    ]}\n                  >\n                    <Select mode=\"multiple\" options={organizationOptions} />\n                  </Form.Item>\n                )}\n              </Form.Item>\n            </Col>\n            <Col span={10}>\n              <Form.Item dependencies={[\"organizationIds\", \"roleNumber\"]} noStyle>\n                {({ getFieldValue }) => (\n                  <Form.Item\n                    name=\"branchIds\"\n                    label=\"Branches\"\n                    rules={getFieldValue(\"roleNumber\") === 3 ? [ruleRequired] : undefined}\n                  >\n                    <Select\n                      mode=\"multiple\"\n                      options={branchOptions.filter(({ organizationId }) =>\n                        getFieldValue(\"organizationIds\").includes(organizationId)\n                      )}\n                      disabled={getFieldValue(\"roleNumber\") !== 3}\n                    />\n                  </Form.Item>\n                )}\n              </Form.Item>\n            </Col>\n          </Row>\n          <Row gutter={16}>\n            <Col span={3}>\n              <Form.Item dependencies={[\"roleNumber\"]} noStyle>\n                {({ getFieldValue }) => (\n                  <Form.Item\n                    className=\"ant-form-item-inline\"\n                    label=\"Is Rep ?\"\n                    name=\"isRep\"\n                    rules={validations.isRep}\n                    valuePropName=\"checked\"\n                  >\n                    <Checkbox disabled={getFieldValue(\"roleNumber\") !== 3} />\n                  </Form.Item>\n                )}\n              </Form.Item>\n            </Col>\n            <Col span={5}>\n              <Form.Item dependencies={[\"roleNumber\", \"isRep\"]} noStyle>\n                {({ getFieldValue }) => (\n                  <Row gutter={16}>\n                    <Col span={12}>\n                      <Form.Item\n                        label=\"Commission\"\n                        name=\"commission\"\n                        rules={validations.commission}\n                        trigger=\"onValueChange\"\n                        getValueFromEvent={(vs) => vs.floatValue}\n                      >\n                        <NumberFormat\n                          customInput={Input}\n                          thousandSeparator=\".\"\n                          decimalSeparator=\",\"\n                          disabled={!(getFieldValue(\"roleNumber\") === 8 || getFieldValue(\"isRep\"))}\n                        />\n                      </Form.Item>\n                    </Col>\n                    <Col span={12}>\n                      <Form.Item\n                        label=\"Max Orders\"\n                        name=\"maxOrders\"\n                        rules={validations.commission}\n                        trigger=\"onValueChange\"\n                        getValueFromEvent={(vs) => vs.floatValue}\n                      >\n                        <NumberFormat\n                          customInput={Input}\n                          thousandSeparator=\".\"\n                          decimalSeparator=\",\"\n                          disabled={!(getFieldValue(\"roleNumber\") === 8 || getFieldValue(\"isRep\"))}\n                        />\n                      </Form.Item>\n                    </Col>\n                  </Row>\n                )}\n              </Form.Item>\n            </Col>\n            <Col span={8}>\n              <Form.Item dependencies={[\"roleNumber\", \"organizationIds\"]} noStyle>\n                {({ getFieldValue }) => (\n                  <Form.Item label=\"Deparments\" name=\"departmentIds\" rules={validations.departmentIds}>\n                    <Select\n                      mode=\"multiple\"\n                      options={departmentOptions.filter(\n                        ({ organizationId }) => organizationId === getFieldValue(\"organizationIds\")[0]\n                      )}\n                      disabled={getFieldValue(\"roleNumber\") !== 3}\n                    />\n                  </Form.Item>\n                )}\n              </Form.Item>\n            </Col>\n            <Col span={8}>\n              <Form.Item dependencies={[\"roleNumber\"]} noStyle>\n                {({ getFieldValue }) => (\n                  <Form.Item label=\"Allowed Orders\" name=\"allowedStatuses\" rules={validations.allowedStatuses}>\n                    <Select mode=\"multiple\" options={orderStatuses} disabled={getFieldValue(\"roleNumber\") !== 3} />\n                  </Form.Item>\n                )}\n              </Form.Item>\n            </Col>\n          </Row>\n\n          <Row gutter={16}>\n            <Col span={4}>\n              <Form.Item\n                label=\"Salary\"\n                name={[\"salary\", \"salary\"]}\n                rules={validations.salary}\n                trigger=\"onValueChange\"\n                getValueFromEvent={(vs) => vs.floatValue}\n              >\n                <NumberFormat customInput={Input} thousandSeparator=\".\" decimalSeparator=\",\" />\n              </Form.Item>\n            </Col>\n            <Col span={8}>\n              <Form.Item label=\"Frequency\" name={[\"salary\", \"frequency\"]} rules={validations.frequency}>\n                <Radio.Group>\n                  <Radio.Button value=\"daily\">Daily</Radio.Button>\n                  <Radio.Button value=\"weekly\">Weekly</Radio.Button>\n                  <Radio.Button value=\"monthly\">Monthly</Radio.Button>\n                  <Radio.Button value=\"15days\">15 days</Radio.Button>\n                </Radio.Group>\n              </Form.Item>\n            </Col>\n            <Col span={3}>\n              <Form.Item\n                className=\"ant-form-item-inline\"\n                label=\"13th Salary ?\"\n                name={[\"salary\", \"13th\"]}\n                rules={validations[\"13thSalary\"]}\n                valuePropName=\"checked\"\n              >\n                <Checkbox />\n              </Form.Item>\n            </Col>\n            <Col span={9}>\n              <Form.Item dependencies={[[\"salary\", \"13th\"]]} noStyle>\n                {({ getFieldValue }) => (\n                  <Row>\n                    <Col span={18}>\n                      <Form.Item label=\"13th Salary Dates\" name={[\"salary\", \"13thDates\"]}>\n                        <Select mode=\"tags\" disabled={getFieldValue([\"salary\", \"13th\"]) !== true} />\n                      </Form.Item>\n                    </Col>\n                    <Col span={6}>\n                      <Form.Item label={\"\\u2800\"} name=\"salary13thDate\">\n                        <DatePicker disabled={getFieldValue([\"salary\", \"13th\"]) !== true} />\n                      </Form.Item>\n                    </Col>\n                  </Row>\n                )}\n              </Form.Item>\n            </Col>\n          </Row>\n          <FormList label=\"Documents\" name=\"documents\">\n            {(field) => (\n              <>\n                <Form.Item name={[field.name, \"name\"]} fieldKey={[field.fieldKey, \"name\"]} rules={[ruleRequired]}>\n                  <Input placeholder=\"File Name\" />\n                </Form.Item>\n                <Form.Item\n                  name={[field.name, \"url\"]}\n                  fieldKey={[field.fieldKey, \"url\"]}\n                  rules={validations.frontImageUrl}\n                  getValueFromEvent={imageFromEvent}\n                  valuePropName=\"fileList\"\n                >\n                  <Upload\n                    action=\"/assets/upload?entity=user\"\n                    accept=\"image/*,.pdf\"\n                    headers={{\n                      Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                    }}\n                  >\n                    <Button>upload</Button>\n                  </Upload>\n                </Form.Item>\n              </>\n            )}\n          </FormList>\n        </Form>\n      </Modal>\n    </ConfigProvider>\n  );\n}\n\nexport default UserFormModal;\n","import React, { useEffect, useMemo } from \"react\";\n\nimport { Button, Confirm, Input, Pagination, Table } from \"semantic-ui-react\";\n\nimport { useState } from \"react\";\nimport UserFormModal from \"./UserFormModal\";\nimport useFetch from \"../../helpers/useFetch\";\nimport useList from \"src/helpers/useList\";\nimport NumberFormat from \"react-number-format\";\nconst searchFields = \"*\";\n\nconst Span = ({ value }) => <span>{value}</span>;\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => (a === \"status change\" ? `failed to change status of ${n}` : `failed to ${a} ${n}`),\n};\n\nfunction useUser() {\n  const [[id, payload, method], setPayload] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"add\" && payload) return [\"/api/admins\", { method: \"POST\", body: JSON.stringify(payload) }];\n    if (method === \"update\" && id && payload) return [`/api/admins/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && id) return [`/api/admins/${id}`, { method: \"DELETE\" }];\n\n    if (method === \"status change\" && id && payload)\n      return [`/api/admins/${id}/status`, { method: \"POST\", body: JSON.stringify(payload) }];\n    return [undefined, undefined];\n  }, [payload, method, id]);\n  const [, status] = useFetch(...opts);\n\n  const add = (payload) => setPayload([undefined, payload, \"add\"]);\n  const edit = (payload, id) => setPayload([id, payload, \"update\"]);\n  const del = (id) => setPayload([id, undefined, \"delete\"]);\n\n  status.action = method;\n  status.message = msgTemplate[status.code] ? msgTemplate[status.code](\"user\", method) : \"\";\n\n  return [add, edit, del, status];\n}\n\nfunction useUsers() {\n  return useList(\"/api/admins\", searchFields);\n}\n\nfunction AdminsPage(props) {\n  const [add, edit, del, actionStatus] = useUser();\n  const [users, { total, pages }, search, goto, , filters, , refresh] = useUsers();\n  const [shouldShowAddModal, setShouldShowAddModal] = useState(false);\n  const [selectedForEdit, setSelectedForEdit] = useState();\n  const [selectedForDelete, setSelectedForDelete] = useState();\n  const closeEditModal = () => setSelectedForEdit(undefined);\n  const handleEdit = (i) => () => setSelectedForEdit(i);\n\n  const handleDelete = (id) => () => setSelectedForDelete(id);\n  const closeDeleteConfirmation = () => setSelectedForDelete(undefined);\n\n  const handleSearch = (event) => {\n    search(event.target.value);\n  };\n\n  const clearSearch = () => {\n    search(\"\");\n  };\n\n  useEffect(() => {\n    if (actionStatus.isError || actionStatus.isSuccess) {\n      props.addToast(actionStatus.message, {\n        appearance: actionStatus.toString().toLowerCase(),\n      });\n\n      if (actionStatus.isSuccess) {\n        closeAddModal();\n        closeEditModal();\n        closeDeleteConfirmation();\n        refresh();\n      }\n    }\n  }, [actionStatus]);\n\n  const showAddModal = () => setShouldShowAddModal(true);\n  const closeAddModal = () => setShouldShowAddModal(false);\n\n  return (\n    <div className=\"container\">\n      <div>\n        <h2 style={{ display: \"inline\", marginRight: 16 }}>Admins</h2>\n        <span>Total admins: {total}</span>\n        <div class=\"ui action input\" style={{ marginLeft: 16 }}>\n          <Input type=\"text\" placeholder=\"Search...\" onChange={handleSearch} value={filters.searchText} />\n          <button class=\"ui icon button\" onClick={clearSearch}>\n            <i class=\"delete icon\"></i>\n          </button>\n        </div>\n        <div style={{ float: \"right\" }}>\n          <Button onClick={showAddModal} primary>\n            Add User\n          </Button>\n        </div>\n      </div>\n      <Table celled>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>Actions</Table.HeaderCell>\n            <Table.HeaderCell>ID</Table.HeaderCell>\n            <Table.HeaderCell>First Name</Table.HeaderCell>\n            <Table.HeaderCell>Last Name</Table.HeaderCell>\n            <Table.HeaderCell>Email</Table.HeaderCell>\n            <Table.HeaderCell>Landline Number</Table.HeaderCell>\n            <Table.HeaderCell>Role</Table.HeaderCell>\n            <Table.HeaderCell>Organization</Table.HeaderCell>\n            <Table.HeaderCell>Documents</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {users.map((user) => (\n            <Table.Row key={user._id}>\n              <Table.Cell>\n                <Button icon=\"edit\" basic onClick={handleEdit(user)} size=\"mini\" />\n                <Button icon=\"trash alternate\" negative basic onClick={handleDelete(user._id)} size=\"mini\" />\n              </Table.Cell>\n              <Table.Cell>{user._id}</Table.Cell>\n              <Table.Cell>{user.firstName}</Table.Cell>\n              <Table.Cell>{user.lastName}</Table.Cell>\n              <Table.Cell>{user.email}</Table.Cell>\n              <Table.Cell>\n                {<NumberFormat customInput={Span} defaultValue={user.landlineNumber} format=\"(##) ##### - ####\" readOnly />}\n              </Table.Cell>\n              <Table.Cell>{(user.role || {}).name}</Table.Cell>\n              <Table.Cell>{user.organizations.map(({ title }) => title).join(\",\")}</Table.Cell>\n              <Table.Cell>\n                {(user.documents || []).map(({ name, url }) => (\n                  <>\n                    <a href={url} target=\"_blank\">\n                      {name}\n                    </a>\n                    <br />\n                  </>\n                ))}\n              </Table.Cell>\n            </Table.Row>\n          ))}\n        </Table.Body>\n\n        <Table.Footer>\n          <Table.Row>\n            <Table.HeaderCell colSpan=\"20\" style={{ textAlign: \"right\" }}>\n              <Pagination\n                activePage={filters.currentPage}\n                totalPages={pages}\n                onPageChange={(_, { activePage }) => goto(activePage)}\n              />\n            </Table.HeaderCell>\n          </Table.Row>\n        </Table.Footer>\n      </Table>\n      {shouldShowAddModal && <UserFormModal okText=\"Add User\" onClose={closeAddModal} onSave={add} />}\n      {selectedForEdit && (\n        <UserFormModal\n          onSave={(payload) => edit(payload, selectedForEdit._id)}\n          onClose={closeEditModal}\n          initialValues={selectedForEdit}\n          okButtonProps={{ disabled: actionStatus.isLoading }}\n          okText=\"Update Cheque\"\n        />\n      )}\n      {selectedForDelete && (\n        <Confirm\n          open\n          content=\"Are you sure you want to DELETE this cheque ?\"\n          onCancel={closeDeleteConfirmation}\n          onConfirm={() => del(selectedForDelete)}\n          cancelButton=\"No\"\n          confirmButton=\"Yes, Delete\"\n        />\n      )}\n    </div>\n  );\n}\n\nexport default AdminsPage;\n","import React from \"react\";\nimport { Button, Card, Confirm, Table } from \"semantic-ui-react\";\nimport { getOrder, getOrderPayments, deleteTransaction } from \"../../../services/orderService\";\nimport { formatDate, formatNumber, stringifyOrderStatus } from \"../../../helpers/formatters\";\nimport moment from \"moment\";\nimport QRCode from \"qrcode.react\";\nimport currencyFormatter from \"../../../helpers/currencyFormatterPrefix\";\nimport { staticFormOptions } from \"../../../helpers/options\";\nimport AddOrderPaymentModal from \"src/components/OrderComponents/AddOrderPaymentModal\";\nimport { Link } from \"@reach/router\";\nimport QRModal from \"src/components/QRModal\";\nimport OrganizationAddr from \"src/components/OrganizationAddr\";\nimport { withTranslation } from \"react-i18next\";\n\nclass OrderViewPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      order: { items: [] },\n      trxs: [],\n      transactionToEdit: undefined,\n      transactionToDelete: undefined,\n      shouldShowQR: false,\n    };\n  }\n\n  fetchTransactions = () => {\n    getOrderPayments(this.props.id)\n      .then((resp) => this.setState({ trxs: resp.data }, () => console.log(this.state)))\n      .catch((err) =>\n        this.props.addToast(\"Could not fetch related transactions\", {\n          appearance: \"error\",\n        })\n      );\n  };\n\n  fetchOrderAndTransactions = () => {\n    getOrder(this.props.id)\n      .then((resp) => this.setState({ order: resp }))\n      .catch((err) => this.props.addToast(\"Could not fetch order\", { appearance: \"error\" }));\n\n    this.fetchTransactions();\n  };\n\n  componentDidMount() {\n    this.fetchOrderAndTransactions();\n  }\n\n  handleEdit = (transaction) => () => {\n    this.setState({ transactionToEdit: transaction });\n  };\n\n  handleDelete = (transactionId) => () => {\n    this.setState({ transactionToDelete: transactionId });\n  };\n\n  handleConfirmDelete = () => {\n    const { t } = this.props;\n    deleteTransaction(this.state.order._id, this.state.transactionToDelete)\n      .then((resp) => {\n        this.props.addToast(t(\"Transaction\") + \" \" + t(\"deleted successfully\"), {\n          appearance: \"success\",\n        });\n        this.closeDeleteConfirmation();\n        this.fetchOrderAndTransactions();\n      })\n      .catch((err) => {\n        this.props.addToast(t(\"Could not delete\") + \" \" + t(\"transaction\"), {\n          appearance: \"error\",\n        });\n        this.closeDeleteConfirmation();\n      });\n  };\n\n  closeTransactionEditModal = () => {\n    this.setState({ transactionToEdit: undefined });\n  };\n\n  handleAfterTransactionSave = () => {\n    this.setState({ transactionToEdit: undefined }, this.fetchOrderAndTransactions);\n  };\n\n  closeDeleteConfirmation = () => {\n    this.setState({ transactionToDelete: undefined });\n  };\n\n  showQR = () => {\n    this.setState({ shouldShowQR: true });\n  };\n  hideQR = () => {\n    this.setState({ shouldShowQR: false });\n  };\n\n  prepareTransactionsTable = (trxs) => {\n    const { t } = this.props;\n    return (\n      <Table.Body>\n        {trxs.map((trx) => (\n          <Table.Row key={trx._id}>\n            <Table.Cell className=\"noprint\">\n              {[1, 2].includes(this.props.admin.roleNumber) && (\n                <>\n                  <Button icon=\"edit\" basic onClick={this.handleEdit(trx)} size=\"mini\" />\n                  <Button icon=\"trash alternate\" negative basic onClick={this.handleDelete(trx._id)} size=\"mini\" />\n                </>\n              )}\n            </Table.Cell>\n            <Table.Cell>{moment(trx.createdAt * 1000).format(\"DD/MM/YYYY\")}</Table.Cell>\n            <Table.Cell>\n              {staticFormOptions.paymentOptions.find(({ value }) => value === trx.method)?.text}\n              <br />\n              {trx.method === 4 && trx.chequeId && <Link to={`/cheques`}>({trx.chequeId})</Link>}\n            </Table.Cell>\n            <Table.Cell>{currencyFormatter.format(trx.amount)}</Table.Cell>\n            <Table.Cell>\n              {trx.fileLink && (\n                <a target=\"_blank\" href={`/assets/${trx.fileLink}`}>\n                   {t(\"attachment\")}\n                </a>\n              )}\n            </Table.Cell>\n            <Table.Cell>{trx.comment}</Table.Cell>\n          </Table.Row>\n        ))}\n      </Table.Body>\n    );\n  };\n\n  render() {\n    const { order } = this.state;\n    const { items: products } = order;\n    const { t } = this.props;\n\n    const totalWithoutDiscount = products.reduce((acc, p) => p.price * p.amount + acc, 0);\n\n    return (\n      <div style={{ display: \"grid\", gridTemplateColumns: \"5fr 1fr\" }}>\n        <div className=\"container\">\n          <div className=\"printonly printonly-flex\" style={{ justifyContent: \"space-between\", marginBottom: 16 }}>\n            <OrganizationAddr organization={this.state.order.organization} />\n            <div>\n              {t(\"Bill To\")}:\n              <div>\n                <strong>{this.state.order.client?.firstName + \" \" + this.state.order.client?.lastName}</strong>\n              </div>\n              <div>{this.state.order.client?.address}</div>\n              <div>{this.state.order.client?.cellNumber}</div>\n            </div>\n          </div>\n          <Button primary className=\"noprint\" style={{ marginBottom: 16, float: \"right\" }} onClick={() => window.print()}>\n            <i class=\"print icon\"></i>\n            {t(\"Print\")}\n          </Button>\n          <QRModal className=\"noprint\" style={{ marginBottom: 16, float: \"right\" }} fileName={this.state.order?._id} />\n          <QRCode className=\"printonly\" id=\"qr-canvas\" value={window.location.href} size={100} />\n          <Table celled>\n            <Table.Header className=\"noprint\">\n              <Table.Row>\n                <Table.HeaderCell>{t(\"Property\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Value\")}</Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n\n            <Table.Body>\n              <Table.Row>\n                <Table.Cell>{t(\"Order ID\")}</Table.Cell>\n                <Table.Cell>{order.orderId}</Table.Cell>\n              </Table.Row>\n              <Table.Row>\n                <Table.Cell>{t(\"Created At\")}</Table.Cell>\n                <Table.Cell>{formatDate(order.createdAt)}</Table.Cell>\n              </Table.Row>\n              <Table.Row>\n                <Table.Cell>{t(\"Created By\")}</Table.Cell>\n                <Table.Cell>{order.user?.firstName + \" \" + order.user?.lastName}</Table.Cell>\n              </Table.Row>\n              <Table.Row>\n                <Table.Cell>{t(\"Total Items\")}</Table.Cell>\n                <Table.Cell>{formatNumber(order.totalUnits)}</Table.Cell>\n              </Table.Row>\n              <Table.Row className=\"noprint\">\n                <Table.Cell>{t(\"Total Cost\")}</Table.Cell>\n                <Table.Cell>{currencyFormatter.format(order.totalCost)}</Table.Cell>\n              </Table.Row>\n              <Table.Row className=\"noprint\">\n                <Table.Cell>{t(\"Total Paid\")}</Table.Cell>\n                <Table.Cell>{currencyFormatter.format(order.totalPaid)}</Table.Cell>\n              </Table.Row>\n              <Table.Row>\n                <Table.Cell>{t(\"Last Pay date\")}</Table.Cell>\n                <Table.Cell>\n                  {this.state.trxs.length > 0\n                    ? moment(this.state.trxs.sort((a, b) => b.createdAt - a.createdAt)[0].createdAt * 1000).format(\"DD/MM/YYYY\")\n                    : \"-\"}\n                </Table.Cell>\n              </Table.Row>\n              <Table.Row className=\"noprint\">\n                <Table.Cell>{t(\"Status\")}</Table.Cell>\n                <Table.Cell>{stringifyOrderStatus(t, order.status)}</Table.Cell>\n              </Table.Row>\n              <Table.Row className=\"noprint\">\n                <Table.Cell>{t(\"Comment\")}</Table.Cell>\n                <Table.Cell>{order.comment}</Table.Cell>\n              </Table.Row>\n              <Table.Row className=\"noprint\">\n                <Table.Cell>{t(\"Est. Conclusion Date\")}</Table.Cell>\n                <Table.Cell>{order.estConclusionDate ? moment(order.estConclusionDate).format(\"DD/MM/YYYY\") : \"-\"}</Table.Cell>\n              </Table.Row>\n              <Table.Row className=\"noprint\">\n                <Table.Cell>{t(\"Client\")}</Table.Cell>\n                <Table.Cell>{order.client && order.client.firstName + \" \" + order.client.lastName}</Table.Cell>\n              </Table.Row>\n              <Table.Row className=\"noprint\">\n                <Table.Cell>{t(\"Documents\")}</Table.Cell>\n                <Table.Cell>\n                  {(order.documents || []).map((url) => (\n                    <>\n                      <a href={url} target=\"_blank\">\n                        {url}\n                      </a>\n                      <br />\n                    </>\n                  ))}\n                </Table.Cell>\n              </Table.Row>\n            </Table.Body>\n          </Table>\n\n          <h4>{t(\"Products\")}</h4>\n          <Table celled>\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell>{t(\"Title\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Comment\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Unit Price\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Quantity\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Total\")}</Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n            <Table.Body>\n              {this.state.order.items.map((product) => (\n                <Table.Row key={product.productId}>\n                  <Table.Cell>{product.title}</Table.Cell>\n                  <Table.Cell>{product.comment}</Table.Cell>\n                  <Table.Cell>{currencyFormatter.format(product.price)}</Table.Cell>\n                  <Table.Cell>{product.amount}</Table.Cell>\n                  <Table.Cell>{currencyFormatter.format(product.amount * product.price)}</Table.Cell>\n                </Table.Row>\n              ))}\n\n              <Table.Row>\n                <Table.Cell colspan=\"4\" textAlign=\"right\">\n                  <strong>{t(\"Gross Total\")}</strong>\n                </Table.Cell>\n                <Table.Cell>\n                  <strong>{currencyFormatter.format(totalWithoutDiscount)}</strong>\n                </Table.Cell>\n              </Table.Row>\n\n              <Table.Row>\n                <Table.Cell colspan=\"4\" textAlign=\"right\">\n                  {t(\"Discount\")}\n                </Table.Cell>\n                <Table.Cell>\n                  - {currencyFormatter.format(totalWithoutDiscount - order.totalCost)} ({this.state.order.discount}%)\n                </Table.Cell>\n              </Table.Row>\n\n              <Table.Row>\n                <Table.Cell colspan=\"4\" textAlign=\"right\">\n                  <strong>{t(\"Total\")}</strong>\n                </Table.Cell>\n                <Table.Cell>\n                  <strong>{currencyFormatter.format(this.state.order.totalCost)}</strong>\n                </Table.Cell>\n              </Table.Row>\n            </Table.Body>\n          </Table>\n\n          <h4>{t(\"Transactions\")}</h4>\n          <Table celled>\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell className=\"noprint\">{t(\"Actions\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Date\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Method\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Amount\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Proof\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Comment\")}</Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n            {this.prepareTransactionsTable(this.state.trxs)}\n          </Table>\n          {this.state.transactionToEdit && (\n            <AddOrderPaymentModal\n              order={this.state.order}\n              addToast={this.props.addToast}\n              initialValues={this.state.transactionToEdit}\n              loadOrders={this.fetchTransactions}\n              onClose={this.closeTransactionEditModal}\n              afterSave={this.handleAfterTransactionSave}\n            />\n          )}\n          {this.state.transactionToDelete && (\n            <Confirm\n              open\n              content={t(\"Are you sure you want to delete\") + \" \" + t(\"transaction\") + \" ?\"}\n              onCancel={this.closeDeleteConfirmation}\n              onConfirm={this.handleConfirmDelete}\n              cancelButton={t(\"No\")}\n              confirmButton={t(\"Yes\")}\n            />\n          )}\n        </div>\n        <div className=\"noprint\" style={{ padding: \"20px 5%\" }}>\n          {this.props.admin._id === this.state.order.user?._id &&\n            this.state.order.user?.roleNumber === 8 &&\n            [2, 3].includes(this.state.order.status) && (\n              <Card>\n                <Card.Content>\n                  <Card.Header content={t(\"Your Commission\")} />\n                  <Card.Description\n                    content={\n                      <div style={{ textAlign: \"center\", marginTop: 16 }}>\n                        <span\n                          style={{\n                            color: \"#508cfe\",\n                            fontSize: 24,\n                            fontWeight: \"bold\",\n                            marginRight: 8,\n                          }}\n                        >\n                          {currencyFormatter.format((this.state.order.user?.commission * this.state.order.totalCost) / 100)}\n                        </span>\n                        <span>({`${this.state.order.user?.commission} %`})</span>\n                      </div>\n                    }\n                  />\n                </Card.Content>\n              </Card>\n            )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withTranslation(\"translation\")(OrderViewPage);\n","import React from \"react\";\nimport { Form } from \"semantic-ui-react\";\n\nconst isNumericInput = (event) => {\n  const key = event.keyCode;\n  return (\n    (key >= 48 && key <= 57) || // Allow number line\n    (key >= 96 && key <= 105) // Allow number pad\n  );\n};\n\nconst isModifierKey = (event) => {\n  const key = event.keyCode;\n  return (\n    event.shiftKey === true ||\n    key === 35 ||\n    key === 36 || // Allow Shift, Home, End\n    key === 8 ||\n    key === 9 ||\n    key === 13 ||\n    key === 46 || // Allow Backspace, Tab, Enter, Delete\n    (key > 36 && key < 41) || // Allow left, up, right, down\n    // Allow Ctrl/Command + A,C,V,X,Z\n    ((event.ctrlKey === true || event.metaKey === true) &&\n      (key === 65 || key === 67 || key === 86 || key === 88 || key === 90))\n  );\n};\n\nconst NUM_LENGTH = 11;\nconst enforceFormat = (event) => {\n  // Input must be of a valid number format or a modifier key, and not longer than ten digits\n  if (!isNumericInput(event) && !isModifierKey(event)) {\n    event.preventDefault();\n  }\n};\n\nconst formatEVToPhone = (event) => {\n  if (isModifierKey(event)) {\n    return;\n  }\n\n  event.target.value = formatToPhone(event.target.value);\n};\nconst formatToPhone = (number) => {\n  const input = number.replace(/\\D/g, \"\").substring(0, NUM_LENGTH); // First ten digits of input only\n  const area = input.substring(0, 2);\n  const middle = input.substring(2, 7);\n  const last = input.substring(7, NUM_LENGTH);\n\n  if (input.length > 7) {\n    return `(${area}) ${middle} - ${last}`;\n  } else if (input.length > 2) {\n    return `(${area}) ${middle}`;\n  } else if (input.length > 0) {\n    return `(${area}`;\n  }\n};\n\nconst InputNumber = ({ onChange, defaultValue, ...props }) => {\n  const handleChange = (e) => {\n    onChange(\n      Number(e.target.value.replace(/\\D/g, \"\").substring(0, NUM_LENGTH))\n    );\n  };\n  return (\n    <Form.Input\n      placeholder=\"(00) 00000 - 0000\"\n      onKeyDown={enforceFormat}\n      onKeyUp={formatEVToPhone}\n      onChange={handleChange}\n      maxLength={17}\n      defaultValue={\n        defaultValue ? formatToPhone(defaultValue.toString()) : undefined\n      }\n      {...props}\n    />\n  );\n};\n\nexport default InputNumber;\n\n//https://stackoverflow.com/a/30058928/6748719\n","import React from \"react\";\nimport { Upload } from \"antd\";\nimport { PlusOutlined } from \"@ant-design/icons\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\n\nfunction ImageUpload({ onUpload, fileList: inFileList, ...rest }) {\n  const [fileList, setFileList] = useState([]);\n\n  const handleChange = ({ fileList, file }) => {\n    setFileList(fileList);\n    if (file.status === \"done\") {\n      onUpload(file.response);\n    }\n  };\n\n  useEffect(() => {\n    setFileList(inFileList);\n  }, [inFileList]);\n\n  return (\n    <Upload\n      accept=\".jpg, .jpeg, .png\"\n      listType=\"picture-card\"\n      fileList={fileList}\n      onChange={handleChange}\n      headers={{ Authorization: \"Bearer \" + localStorage.getItem(\"token\") }}\n      {...rest}\n    >\n      {fileList.length === 0 && (\n        <div>\n          <PlusOutlined />\n          <div style={{ marginTop: 8 }}>Upload logo</div>\n        </div>\n      )}\n    </Upload>\n  );\n}\n\nexport default ImageUpload;\n","import React, { useState } from \"react\";\nimport { Button, Divider, Form, Icon, Modal } from \"semantic-ui-react\";\nimport { isTextValid } from \"../../../helpers/validations\";\nimport InputNumber from \"../../InputNumber\";\nimport { useEffect } from \"react\";\nimport ImageUpload from \"../../ImageUpload\";\nimport { useMemo } from \"react\";\n\nconst OrganizationForm = ({ org = {}, submit, addToast, componentName, loadOrgs }) => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [title, setTitle] = useState(org.title);\n  const [isTitleValid, setIsTitleValid] = useState(true);\n  const [logoUrl, setLogoPath] = useState(org?.logoUrl);\n  const [description, setDescription] = useState(org.description);\n  const [isDescriptionValid, setIsDescriptionValid] = useState(true);\n  const [branches, setBranches] = useState(org.branches || []);\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleFormSubmit = async () => {\n    const isValid = isDescriptionValid && isTitleValid;\n    if (!isValid || isLoading) {\n      return;\n    }\n    setIsLoading(true);\n    await submit({ title, description, branches, logoUrl })\n      .then((resp) => {\n        addToast(`Organization ${org.title ? \"updated\" : \"created\"} successfully`, { appearance: \"success\" });\n        window.location.reload(); // refreshes organizaionts in dropdown in header\n      })\n      .catch((err) => {\n        addToast(err.message, { appearance: \"error\" });\n      });\n    setIsLoading(false);\n    handleCloseModal();\n  };\n\n  const toggleModalState = () => {\n    setIsModalOpen(!isModalOpen);\n  };\n\n  const handleCloseModal = () => {\n    loadOrgs();\n    toggleModalState();\n\n    setTitle(\"\");\n    setIsTitleValid(true);\n    setDescription(\"\");\n    setIsDescriptionValid(true);\n  };\n\n  const addBranchItem = () => {\n    setBranches([...branches, { id: branches.length }]);\n  };\n  const updateBranchItem = (propValue, propName, index) => {\n    const newBranches = branches;\n    newBranches[index][propName] = propValue;\n    console.log(\"newBranches :>> \", newBranches);\n    setBranches(newBranches);\n  };\n\n  useEffect(() => {\n    setIsDescriptionValid(isTextValid(description, 5, 0));\n  }, [description]);\n\n  const defaultFileList = useMemo(() => {\n    return logoUrl\n      ? [\n          {\n            uid: \"0\",\n            name: \"logo.png\",\n            status: \"done\",\n            headers: {\n              Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n            },\n            url: logoUrl,\n          },\n        ]\n      : [];\n  }, [logoUrl]);\n  return (\n    <Modal\n      trigger={\n        <Button onClick={toggleModalState} className={componentName === \"Edit\" ? \"table-action-btn\" : \"generic-create-btn\"}>\n          {\" \"}\n          {componentName === \"Edit\" ? <Icon name=\"pencil\" /> : <span>{componentName}</span>}\n        </Button>\n      }\n      closeIcon\n      open={isModalOpen}\n      onClose={handleCloseModal}\n    >\n      <Modal.Header>{componentName} a organization</Modal.Header>\n      <Modal.Content>\n        <Form name=\"createOrgForm\" size=\"large\">\n          <Form.Input\n            fluid\n            placeholder=\"Titulo\"\n            label=\"Titulo\"\n            value={title}\n            error={!isTitleValid}\n            onChange={(ev) => setTitle(ev.target.value)}\n            onBlur={() => setIsTitleValid(isTextValid(title, 3, 0))}\n          />\n          <Form.TextArea\n            fluid\n            placeholder=\"Descrio\"\n            label=\"Descrio\"\n            value={description}\n            error={!isDescriptionValid}\n            onChange={(ev) => setDescription(ev.target.value)}\n          />\n          <ImageUpload\n            onUpload={({ message }) => setLogoPath(message)}\n            action=\"/assets/upload?entity=organization\"\n            accept=\".jpg, .jpeg\"\n            name=\"file\"\n            fileList={defaultFileList}\n          />\n          <Divider />\n          {branches.map((branch, index) => (\n            <React.Fragment key={branch._id}>\n              <Form.Group widths=\"equal\" key={branch._id}>\n                <Form.Input\n                  fluid\n                  placeholder=\"Titulo\"\n                  label={\"Branch # \" + index + \" title\"}\n                  value={branch.title}\n                  error={!isTextValid(title, 3, 0)}\n                  onChange={(ev) => updateBranchItem(ev.target.value, \"title\", index)}\n                  onBlur={() => setIsTitleValid(isTextValid(title, 3, 0))}\n                />\n\n                <InputNumber\n                  label=\"Phone Number\"\n                  onChange={(value) => updateBranchItem(value, \"phoneNumber\", index)}\n                  defaultValue={branch.phoneNumber}\n                />\n              </Form.Group>\n              <Form.TextArea\n                fluid\n                placeholder=\"Descrio\"\n                label={\"Branch # \" + index + \" description\"}\n                defaultValue={branch.description}\n                error={!isTextValid(branch.description, 3, 0)}\n                onChange={(ev) => updateBranchItem(ev.target.value, \"description\", index)}\n                // onBlur={() => setIsDescriptionValid(isTextValid(description))}\n              />\n            </React.Fragment>\n          ))}\n          <Form.Button fluid onClick={addBranchItem}>\n            Add a branch\n          </Form.Button>\n\n          <Button onClick={handleFormSubmit} color=\"teal\" fluid size=\"small\" loading={isLoading} primary>\n            Submit\n          </Button>\n        </Form>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nexport default OrganizationForm;\n","import React from \"react\";\nimport { Button, List, Pagination, Table } from \"semantic-ui-react\";\nimport OrganizationForm from \"../CreateOrganizationForm\";\nimport { updateOrganization } from \"../../../services/organizationsService\";\n\nconst OrganizationList = ({ orgs, filters, pages, onPageChange, addToast, loadOrgs, handleDelete }) => {\n  return (\n    <Table celled>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell>Actions</Table.HeaderCell>\n          <Table.HeaderCell>OrganizationID</Table.HeaderCell>\n          <Table.HeaderCell>ID</Table.HeaderCell>\n          <Table.HeaderCell>Titulo</Table.HeaderCell>\n          <Table.HeaderCell>Descrio</Table.HeaderCell>\n          <Table.HeaderCell>Branches </Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n\n      <Table.Body>\n        {orgs.map((org) => (\n          <Table.Row>\n            <Table.Cell>\n              <Button\n                style={{ marginRight: 16 }}\n                icon=\"trash alternate\"\n                negative\n                basic\n                onClick={handleDelete(org._id)}\n                size=\"mini\"\n              />\n              <OrganizationForm\n                org={org}\n                submit={(req) => updateOrganization(org._id, req)}\n                addToast={addToast}\n                componentName={\"Edit\"}\n                loadOrgs={loadOrgs}\n              />\n            </Table.Cell>\n            <Table.Cell>{org._id}</Table.Cell>\n            <Table.Cell>{org.organizationId}</Table.Cell>\n            <Table.Cell>{org.title}</Table.Cell>\n            <Table.Cell>{org.description}</Table.Cell>\n\n            <Table.Cell>\n              <List bulleted>{org.branches && org.branches.map((branch) => <List.Item>{branch.title}</List.Item>)}</List>\n            </Table.Cell>\n          </Table.Row>\n        ))}\n      </Table.Body>\n\n      <Table.Footer>\n        <Table.Row>\n          <Table.HeaderCell colSpan=\"20\" style={{ textAlign: \"right\" }}>\n            <Pagination\n              activePage={filters.currentPage}\n              totalPages={pages}\n              onPageChange={(_, { activePage }) => onPageChange(activePage)}\n            />\n          </Table.HeaderCell>\n        </Table.Row>\n      </Table.Footer>\n    </Table>\n  );\n};\n\nexport default OrganizationList;\n","import React from \"react\";\nimport { Modal } from \"antd\";\nimport { ExclamationCircleOutlined } from \"@ant-design/icons\";\n\nconst { confirm } = Modal;\n\nfunction confirmCallback(title, okText, cb) {\n  confirm({\n    title: title,\n    icon: <ExclamationCircleOutlined />,\n    okText: okText,\n    cancelText: \"No\",\n    onOk() {\n      cb();\n    },\n  });\n}\n\nexport default confirmCallback;\n","import React, { useEffect } from \"react\";\nimport { createOrganization } from \"../../services/organizationsService\";\nimport OrganizationList from \"../../components/OrganizationComponents/OrganizationList\";\nimport OrganizationForm from \"../../components/OrganizationComponents/CreateOrganizationForm\";\nimport { useOrganization } from \"src/hooks\";\nimport { Input } from \"semantic-ui-react\";\nimport useList from \"src/helpers/useList\";\nimport confirmCallback from \"src/components/confirmCallback\";\n\nconst searchFields = \"*\";\n\nfunction useOrganizations() {\n  return useList(\"/api/v2/organizations\", searchFields);\n}\n\nfunction OrganizationsPage(props) {\n  const [organizations, { total, pages }, search, goto, sort, filters, status, refresh] = useOrganizations();\n  const { del, status: actionStatus } = useOrganization();\n  const handleSearch = (event) => {\n    search(event.target.value);\n  };\n\n  const handleDelete = (_id) => () => {\n    confirmCallback(\"This will delete everything related to organization. Do you want to continue ?\", \"Delete\", () => del(_id));\n  };\n\n  const clearSearch = () => {\n    search(\"\");\n  };\n\n  useEffect(() => {\n    if (actionStatus.isError || actionStatus.isSuccess) {\n      props.addToast(actionStatus.message, {\n        appearance: actionStatus.toString().toLowerCase(),\n      });\n\n      if (actionStatus.isSuccess) {\n        // clears org dropdown, if current selected org deleted\n        localStorage.removeItem(\"organizationId\");\n        window.location.reload();\n      }\n    }\n  }, [actionStatus]);\n\n  return (\n    <div className=\"container\">\n      <h2>Organizations</h2>\n      <OrganizationForm addToast={props.addToast} loadOrgs={refresh} componentName={\"Create\"} submit={createOrganization} />\n      <div>\n        <span>Total organizations: {total}</span>\n        <div class=\"ui action input\" style={{ marginLeft: 16 }}>\n          <Input type=\"text\" placeholder=\"Search...\" onChange={handleSearch} value={filters.searchText} />\n          <button class=\"ui icon button\" onClick={clearSearch}>\n            <i class=\"delete icon\"></i>\n          </button>\n        </div>\n      </div>\n\n      <OrganizationList\n        orgs={organizations}\n        addToast={props.addToast}\n        filters={filters}\n        loadOrgs={refresh}\n        pages={pages}\n        onPageChange={goto}\n        handleDelete={handleDelete}\n      />\n    </div>\n  );\n}\n\nexport default OrganizationsPage;\n","export default new Intl.NumberFormat(\"pt-BR\", {\n  style: \"currency\",\n  currency: \"BRL\",\n}).format;\n","import React from \"react\";\nimport { Col, Form, Modal, Row, Upload, Button, Select, Input } from \"antd\";\nimport { useNewCheques } from \"src/hooks\";\n\nimport currencyFormatterPrefix from \"src/helpers/currencyFormatterPrefix\";\nimport { useMemo } from \"react\";\nimport NumberFormat from \"react-number-format\";\nimport { useTranslation } from \"react-i18next\";\n\nconst ruleRequired = { required: true };\nconst validations = {\n  method: [ruleRequired],\n  amount: [ruleRequired, { min: 1, type: \"number\" }],\n};\n\nconst imageFromEvent = ({ fileList }) => {\n  const file = fileList.slice(-1)[0];\n  if (file?.status === \"removed\") {\n    return fileList.slice(0, -1);\n  }\n\n  if (file?.response?.message) {\n    file.uid = file?.response?.message;\n    file.url = file?.response?.message;\n    file.name = file?.response?.message;\n  }\n  return fileList;\n};\n\nfunction MakePaymentModal({ okText, onClose, onSave, initialValues }) {\n  const { t } = useTranslation([\"translation\"]);\n  const [form] = Form.useForm();\n  const [cheques, chequesStatus] = useNewCheques();\n  const handleSubmit = (payload) => {\n    onSave({\n      ...payload,\n      chequeIds: payload.chequeIds,\n    });\n  };\n\n  const chequeAmountValidator = (rule, value) => {\n    const chequeTotal = cheques.reduce((acc, c) => (value.includes(c._id) ? acc + c.amount : acc + 0), 0);\n    const amount = form.getFieldValue(\"amount\");\n    if (amount > chequeTotal) {\n      return Promise.reject(\"\");\n    }\n    return Promise.resolve();\n  };\n\n  const chequeOptions = cheques.map(({ _id, no, amount }) => ({\n    label: `${no} (${currencyFormatterPrefix.format(amount)})`,\n    value: _id,\n  }));\n\n  const denormInitialValues = useMemo(() => {\n    return {\n      amount: initialValues?.amount,\n    };\n  }, [initialValues]);\n\n  return (\n    <Modal\n      title={okText}\n      onClose={onClose}\n      visible\n      okText={okText}\n      okButtonProps={{\n        form: \"make-payment-modal\",\n        htmlType: \"submit\",\n      }}\n      onCancel={onClose}\n      width={800}\n      maskClosable={false}\n      keyboard={false}\n    >\n      <Form layout=\"vertical\" id=\"make-payment-modal\" onFinish={handleSubmit} initialValues={denormInitialValues} form={form}>\n        <Row gutter={16}>\n          <Col span={6}>\n            <Form.Item\n              label={t(\"Amount\")}\n              name=\"amount\"\n              rules={validations.amount}\n              trigger=\"onValueChange\"\n              getValueFromEvent={(vs) => vs.floatValue}\n            >\n              <NumberFormat customInput={Input} thousandSeparator=\".\" decimalSeparator=\",\" />\n            </Form.Item>\n          </Col>\n          <Col span={8}>\n            <Form.Item label={t(\"Method of Payment\")} name=\"method\" rules={validations.method}>\n              <Select>\n                <Select.Option value=\"cheque\">{t(\"Cheque\")}</Select.Option>\n                <Select.Option value=\"cash\">{t(\"Cash\")}</Select.Option>\n                <Select.Option value=\"credit card\">{t(\"Credit Card\")}</Select.Option>\n                <Select.Option value=\"debit card\">{t(\"Debit Card\")}</Select.Option>\n                <Select.Option value=\"boleto\">{t(\"Boleto\")}</Select.Option>\n                <Select.Option value=\"deposit\">{t(\"Deposit\")}</Select.Option>\n              </Select>\n            </Form.Item>\n          </Col>\n          <Col span={10}>\n            <Form.Item dependencies={[\"method\", \"amount\"]} noStyle>\n              {({ getFieldValue }) => (\n                <Form.Item\n                  label={t(\"Cheques\")}\n                  name=\"chequeIds\"\n                  rules={\n                    getFieldValue(\"method\") === \"cheque\"\n                      ? [\n                          {\n                            validator: chequeAmountValidator,\n                            message: t(\"cheque total should be >= expense amount\"),\n                          },\n                        ]\n                      : undefined\n                  }\n                >\n                  <Select\n                    mode=\"multiple\"\n                    options={chequeOptions}\n                    loading={chequesStatus.isLoading}\n                    disabled={getFieldValue(\"method\") !== \"cheque\"}\n                    allowClear\n                  ></Select>\n                </Form.Item>\n              )}\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={12}>\n            <Form.Item\n              label={t(\"Receipt\")}\n              name=\"receipts\"\n              getValueFromEvent={imageFromEvent}\n              valuePropName=\"fileList\"\n              shouldUpdate\n            >\n              <Upload\n                action=\"/api/assets/upload?entity=expense\"\n                accept=\"image/*\"\n                headers={{\n                  Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                }}\n              >\n                <Button size=\"small\">{t(\"upload\")}</Button>\n              </Upload>\n            </Form.Item>\n          </Col>\n          <Col span={12}>\n            <Form.Item\n              label={t(\"Invoice\")}\n              name=\"invoices\"\n              getValueFromEvent={imageFromEvent}\n              valuePropName=\"fileList\"\n              shouldUpdate\n            >\n              <Upload\n                action=\"/api/assets/upload?entity=expense\"\n                accept=\"image/*\"\n                headers={{\n                  Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                }}\n              >\n                <Button size=\"small\">{t(\"upload\")}</Button>\n              </Upload>\n            </Form.Item>\n          </Col>\n        </Row>\n      </Form>\n    </Modal>\n  );\n}\n\nexport default MakePaymentModal;\n","import { Descriptions, Button, Table } from \"antd\";\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link } from \"@reach/router\";\n\nimport NSHandler from \"src/components/NSHandler\";\nimport currencyFormatterPrefix from \"src/helpers/currencyFormatterPrefix\";\nimport formatMoney from \"src/helpers/formatMoney\";\nimport { formatDate } from \"src/helpers/formatters\";\nimport { useAPI } from \"src/helpers/useFetch\";\nimport MakePaymentModal from \"./MakePaymentModal\";\n\nfunction useGetExpense(id) {\n  return useAPI(`/api/expenses/${id}`);\n}\n\nfunction useExpensePayments(id) {\n  const [{ data: payments } = { data: [] }, status, refresh] = useAPI(`/api/expenses/${id}/payments`);\n  return [payments, status, refresh];\n}\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => (a === \"status change\" ? `failed to change status of ${n}` : `failed to ${a} ${n}`),\n};\n\nconst URLsWithDate = ({ urls }) =>\n  (urls || []).map(({ createdAt, url }) => (\n    <a key={url} style={{ display: \"block\" }} href={url} alt=\"invoice\" target=\"_blank\">\n      {formatDate(createdAt)}\n    </a>\n  ));\n\nconst URLAnchors = ({ urls }) =>\n  (urls || []).map(({ url }) => (\n    <a key={url} style={{ display: \"block\" }} href={url} alt=\"invoice\" target=\"_blank\">\n      {url}\n    </a>\n  ));\n\nconst ChequeAnchor = ({ no, amount }) => (\n  <Link to=\"/cheques\">\n    {no} ({currencyFormatterPrefix.format(amount)})\n  </Link>\n);\n\nconst ChequeAnchors = ({ cheques = [] }) =>\n  cheques.map(({ no, amount }) => (\n    <>\n      <ChequeAnchor no={no} amount={amount} />\n      <br />\n    </>\n  ));\nfunction useExpensePayment(expenseId) {\n  const [[id, payload, method], setState] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"add\" && payload)\n      return [`/api/expenses/${expenseId}/payments`, { method: \"POST\", body: JSON.stringify({ ...payload, expenseId }) }];\n    if (method === \"update\" && expenseId && id && payload)\n      return [`/api/expenses/${expenseId}/payments/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && expenseId && id) return [`/api/expenses/${expenseId}/payments/${id}`, { method: \"DELETE\" }];\n\n    return [undefined, undefined];\n  }, [payload, expenseId, method, id]);\n  const [, status] = useAPI(...opts);\n\n  const add = (payload) => setState([undefined, payload, \"add\"]);\n  const edit = (payload, id) => setState([id, payload, \"update\"]);\n  const del = (id) => setState([id, undefined, \"delete\"]);\n\n  const reset = () => setState([]);\n\n  if (method) {\n    status.action = method;\n    status.message = msgTemplate[status.code] ? msgTemplate[status.code](\"payment\", method) : \"\";\n  }\n\n  return { add, edit, del, reset, status };\n}\n\nfunction ExpenseDetail({ addToast, id }) {\n  const { t } = useTranslation([\"translation\"]);\n\n  const [expense, status] = useGetExpense(id);\n  const [payments, paymentsStatus, refreshPayments] = useExpensePayments(id);\n  const { add, status: actionStatus } = useExpensePayment(id);\n  const [shouldShowMakePaymentModal, setShouldShowMakePaymentModal] = useState(false);\n  const showMakePaymentModal = () => setShouldShowMakePaymentModal(true);\n  const closeMakePaymentModal = () => setShouldShowMakePaymentModal(false);\n\n  useEffect(() => {\n    if (actionStatus.isError || actionStatus.isSuccess) {\n      addToast(actionStatus.message, {\n        appearance: actionStatus.toString().toLowerCase(),\n      });\n\n      if (actionStatus.isSuccess) {\n        closeMakePaymentModal();\n        refreshPayments();\n      }\n    }\n  }, [actionStatus]);\n\n  const shouldDisablePayment =\n    expense && payments.length > 0 ? expense.frequency === \"custom\" && expense.numTimes <= payments.length : false;\n  return (\n    <div className=\"container\">\n      <NSHandler status={status}>\n        {() => (\n          <Descriptions title={expense.name} bordered style={{ marginBottom: 32 }}>\n            <Descriptions.Item label={t(\"Type\")}>{expense.type}</Descriptions.Item>\n            <Descriptions.Item label={t(\"Fixed\")}>{expense.fixed ? \"True\" : \"False\"}</Descriptions.Item>\n            <Descriptions.Item label={t(\"Issue Date\")}>{formatDate(expense.issueDate)}</Descriptions.Item>\n            <Descriptions.Item label={t(\"Due Date\")}>{formatDate(expense.dueDate)}</Descriptions.Item>\n            <Descriptions.Item label={t(\"Frequency\")}>{expense.frequency}</Descriptions.Item>\n            {expense.frequency === \"custom\" && (\n              <Descriptions.Item label={t(\"Num Of Times\")}>{expense.numTimes}</Descriptions.Item>\n            )}\n            <Descriptions.Item label={t(\"Amount\")}>\n              {expense.frequency === \"custom\"\n                ? `${formatMoney(expense.amount)} * ${expense.numTimes} = ${formatMoney(expense.amount * expense.numTimes)}`\n                : formatMoney(expense.amount)}\n            </Descriptions.Item>\n            <Descriptions.Item label={t(\"Late Fee\")}>{formatMoney(expense.lateFee)}</Descriptions.Item>\n            {expense.moneySourceId && (\n              <Descriptions.Item label={t(\"Source of Money\")}>{expense.moneySourceId}</Descriptions.Item>\n            )}\n            <Descriptions.Item></Descriptions.Item>\n            <Descriptions.Item span={3} label={t(\"Description\")} className=\"whitespace-pre\">\n              {expense.description}\n            </Descriptions.Item>\n          </Descriptions>\n        )}\n      </NSHandler>\n      <NSHandler status={paymentsStatus}>\n        {() => (\n          <>\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"flex-end\",\n                marginBottom: 16,\n              }}\n            >\n              <Button onClick={showMakePaymentModal} disabled={shouldDisablePayment}>\n                {t(\"Make Payment\")}\n              </Button>\n            </div>\n            <Table dataSource={payments} rowKey=\"_id\">\n              <Table.Column title={t(\"Date\")} dataIndex=\"createdAt\" render={formatDate}></Table.Column>\n              <Table.Column title={t(\"Method\")} dataIndex=\"method\"></Table.Column>\n              <Table.Column title={t(\"Amount\")} dataIndex=\"amount\" render={currencyFormatterPrefix.format}></Table.Column>\n              <Table.Column\n                title={t(\"Cheque\")}\n                dataIndex=\"cheques\"\n                render={(cheques) => <ChequeAnchors cheques={cheques} />}\n              ></Table.Column>\n              <Table.Column\n                title={t(\"Invoice\")}\n                dataIndex=\"invoices\"\n                render={(urls) => <URLsWithDate urls={urls} />}\n              ></Table.Column>\n              <Table.Column\n                title={t(\"Receipt\")}\n                dataIndex=\"receipts\"\n                render={(urls) => <URLsWithDate urls={urls} />}\n              ></Table.Column>\n            </Table>\n          </>\n        )}\n      </NSHandler>\n      {shouldShowMakePaymentModal && (\n        <MakePaymentModal onSave={add} onClose={closeMakePaymentModal} okText={t(\"Make Payment\")} initialValues={expense} />\n      )}\n    </div>\n  );\n}\n\nexport default ExpenseDetail;\n","import React from \"react\";\nimport { Form, Row, Col } from \"antd\";\nimport { InputNumberFmtd } from \"src/components\";\nimport { useTranslation } from \"react-i18next\";\nimport { cf, nf } from \"src/helpers\";\nimport { Link } from \"@reach/router\";\nimport { OrgAwareButton } from \"src/components\";\n\nconst computeVolume = (values) => {\n  const heightAverage =\n    (values.frontLeftHeight +\n      values.frontRightHeight +\n      values.midLeftHeight +\n      values.midRightHeight +\n      values.rearLeftHeight +\n      values.rearRightHeight) /\n    6;\n  const lengthAverage = (values.leftLength + values.rightLength) / 2;\n  return heightAverage * lengthAverage * values.width;\n};\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\n\nconst tailLayout = {\n  labelCol: { span: 4 },\n  wrapperCol: { span: 8 },\n};\n\nconst defaultValues = {\n  frontLeftHeight: 0,\n  frontRightHeight: 0,\n  midLeftHeight: 0,\n  midRightHeight: 0,\n  rearLeftHeight: 0,\n  rearRightHeight: 0,\n  leftLength: 0,\n  rightLength: 0,\n  width: 0,\n  pricePerVolume: 0,\n};\n\nconst CreateExpenseLink = ({ values }) => {\n  const { t } = useTranslation([\"translation\"]);\n  const expenseDescription = `${t(\"Front Left Height\")}: ${nf(values.frontLeftHeight)}\n${t(\"Front Right Height\")}: ${nf(values.frontRightHeight)}\n${t(\"Mid Left Height\")}: ${nf(values.midLeftHeight)}\n${t(\"Mid Right Height\")}: ${nf(values.midRightHeight)}\n${t(\"Rear Left Height\")}: ${nf(values.rearLeftHeight)}\n${t(\"Rear Right Height\")}: ${nf(values.rearRightHeight)}\n${t(\"Left Length\")}: ${nf(values.leftLength)}\n${t(\"Right Length\")}: ${nf(values.rightLength)}\n${t(\"Width\")}: ${nf(values.width)}\n${t(\"Price Per Volume\")}: ${cf(values.pricePerVolume)}\n`;\n  const searchParams = new URLSearchParams({\n    create: true,\n    name: \"Woods Buy\",\n    description: expenseDescription,\n    numTimes: 1,\n    frequency: \"custom\",\n    amount: Number((computeVolume(values) * values.pricePerVolume).toFixed(2)),\n    type: \"purchase\",\n    fixed: true,\n  });\n  const urlpath = `/expenses?${searchParams.toString()}`;\n\n  return (\n    <Link className=\"margin-left\" to={urlpath} target=\"_blank\" component={OrgAwareButton}>\n      {t(\"Create Expense\")}\n    </Link>\n  );\n};\n\nconst Total = ({ values }) => {\n  console.log(\"values :>> \", values);\n  const volume = computeVolume(values);\n\n  return (\n    <div style={{ fontSize: \"1.2em\" }}>\n      Total: {nf(volume)} x {cf(values.pricePerVolume)} = {cf(volume * values.pricePerVolume)}{\" \"}\n      <CreateExpenseLink values={values} />\n    </div>\n  );\n};\n\nfunction WoodCalculator() {\n  const { t } = useTranslation([\"translation\"]);\n\n  return (\n    <Form {...layout} initialValues={defaultValues} className=\"margin\">\n      <h2>{t(\"Calc. M3\")}</h2>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item label={t(\"Front Left Height\")} name=\"frontLeftHeight\">\n            <InputNumberFmtd />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label={t(\"Front Right Height\")} name=\"frontRightHeight\">\n            <InputNumberFmtd />\n          </Form.Item>\n        </Col>\n      </Row>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item label={t(\"Mid Left Height\")} name=\"midLeftHeight\">\n            <InputNumberFmtd />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label={t(\"Mid Right Height\")} name=\"midRightHeight\">\n            <InputNumberFmtd />\n          </Form.Item>\n        </Col>\n      </Row>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item label={t(\"Rear Left Height\")} name=\"rearLeftHeight\">\n            <InputNumberFmtd />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label={t(\"Rear Right Height\")} name=\"rearRightHeight\">\n            <InputNumberFmtd />\n          </Form.Item>\n        </Col>\n      </Row>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item label={t(\"Left Length\")} name=\"leftLength\">\n            <InputNumberFmtd />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label={t(\"Right Length\")} name=\"rightLength\">\n            <InputNumberFmtd />\n          </Form.Item>\n        </Col>\n      </Row>\n      <Form.Item label={t(\"Width\")} name=\"width\" {...tailLayout}>\n        <InputNumberFmtd />\n      </Form.Item>\n      <Form.Item label={t(\"Price Per Volume\")} name=\"pricePerVolume\" {...tailLayout}>\n        <InputNumberFmtd />\n      </Form.Item>\n      <Form.Item wrapperCol={{ offset: 4 }} shouldUpdate>\n        {({ getFieldsValue }) => <Total values={getFieldsValue()} />}\n      </Form.Item>\n    </Form>\n  );\n}\n\nexport default WoodCalculator;\n","import React, { useContext } from \"react\";\nimport { Alert, Col, Form, Input, Modal, Row, Select, Radio, DatePicker } from \"antd\";\nimport { useStaffOptions, useTask } from \"src/hooks\";\nimport { useEffect } from \"react\";\nimport { OrganizationContext } from \"src/contexts\";\nimport { useTranslation } from \"react-i18next\";\nimport moment from \"moment\";\nconst ruleRequired = { required: true };\n\nconst validations = {\n  title: [ruleRequired],\n  estConclusionDate: [ruleRequired],\n  startDate: [ruleRequired],\n  assigneeId: [ruleRequired],\n  leaderId: [ruleRequired],\n};\n\nfunction TaskFormModal({ onClose, okText, okButtonProps, afterSave, initialValue }) {\n  const { t } = useTranslation([\"translation\"]);\n  const { save, status } = useTask(initialValue?._id);\n  const organizationId = useContext(OrganizationContext);\n  const { data: userOptions } = useStaffOptions(initialValue?.organizationId || organizationId);\n  const [form] = Form.useForm();\n\n  const handleSubmit = (formValues) => {\n    const payload = {\n      ...initialValue,\n      ...formValues,\n      startDate: formValues.startDate.unix(),\n      estConclusionDate: formValues.estConclusionDate.unix(),\n    };\n\n    save(initialValue?._id, payload);\n  };\n\n  const handleValuesChange = (values) => {\n    if (values.leaderId) {\n      form.setFieldsValue({ helperIds: [] });\n    }\n  };\n\n  useEffect(() => {\n    if (status.isSuccess) {\n      onClose();\n      afterSave();\n    }\n  }, [status, afterSave, onClose]);\n\n  const denormInitialValue = initialValue\n    ? {\n        ...initialValue,\n        startDate: moment.unix(initialValue.startDate),\n        estConclusionDate: moment.unix(initialValue.estConclusionDate),\n      }\n    : undefined;\n\n  return (\n    <Modal\n      visible\n      onCancel={onClose}\n      title={okText}\n      onClose={onClose}\n      okText={okText}\n      okButtonProps={{\n        form: \"task-create-modal\",\n        htmlType: \"submit\",\n        ...okButtonProps,\n      }}\n      width={800}\n      maskClosable={false}\n      keyboard={false}\n    >\n      <Form\n        form={form}\n        layout=\"vertical\"\n        id=\"task-create-modal\"\n        initialValues={denormInitialValue}\n        onFinish={handleSubmit}\n        onValuesChange={handleValuesChange}\n      >\n        <Form.Item label={t(\"Title\")} name=\"title\" rules={validations.name}>\n          <Input />\n        </Form.Item>\n        <Row gutter={16}>\n          <Col span={8}>\n            <Form.Item label={t(\"Start Date\")} name=\"startDate\" rules={validations.startDate}>\n              <DatePicker format=\"DD/MM/YYYY\" />\n            </Form.Item>\n          </Col>\n          <Col span={8}>\n            <Form.Item label={t(\"Est. Conclusion Date\")} name=\"estConclusionDate\" rules={validations.estConclusionDate}>\n              <DatePicker format=\"DD/MM/YYYY\" />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row gutter={16}>\n          <Col span={8}>\n            <Form.Item label={t(\"Leader\")} name=\"leaderId\" rules={validations.leaderId}>\n              <Select options={userOptions} />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Form.Item noStyle dependencies={[\"leaderId\"]}>\n          {({ getFieldValue }) => (\n            <Form.Item label={t(\"Helpers\")} name=\"helperIds\" rules={validations.helperIds}>\n              <Select options={userOptions.filter(({ value }) => value !== getFieldValue(\"leaderId\"))} mode=\"multiple\" />\n            </Form.Item>\n          )}\n        </Form.Item>\n        <Form.Item label={t(\"Description\")} name=\"description\" rules={validations.description}>\n          <Input.TextArea rows={4} />\n        </Form.Item>\n      </Form>\n      {status.isError && <Alert message={status.message} type=\"error\" />}\n    </Modal>\n  );\n}\n\nexport default TaskFormModal;\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"@reach/router\";\nimport { useTaskList, useTask } from \"src/hooks\";\nimport { useTranslation } from \"react-i18next\";\nimport { Input, Table, Button } from \"antd\";\nimport NSHandler from \"src/components/NSHandler\";\nimport TaskFormModal from \"./TaskFormModal\";\nimport OrgAwareButton from \"src/components/OrgAwareButton\";\nimport moment from \"moment\";\nimport { DeleteOutlined, EditOutlined } from \"@ant-design/icons\";\n\nconst timestampToDateStr = (t) => (t ? moment.unix(t).format(\"DD/MM/YYYY\") : undefined);\n\nfunction TaskList({ addToast }) {\n  const { t } = useTranslation([\"translation\"]);\n  const { edit, changeStatus, status: actionStatus } = useTask();\n  const { data: tasks, total, pages, goto, search, filters, status: tasksStatus, refresh } = useTaskList();\n  const [selectedForEdit, setSelectedForEdit] = useState();\n  const [selectedForDelete, setSelectedForDelete] = useState();\n  const [shouldShowCreateModal, setShouldShowCreateModal] = useState(false);\n\n  const showCreateModal = () => setShouldShowCreateModal(true);\n  const closeCreateModal = () => setShouldShowCreateModal(false);\n\n  const closeEditModal = () => setSelectedForEdit(undefined);\n\n  const handleEdit = (item) => () => setSelectedForEdit(item);\n  const handleDelete = (id) => () => setSelectedForDelete(id);\n  const handleSearch = (e) => search(e.target.value);\n\n  const afterSave = () => {\n    refresh();\n  };\n\n  const handleFormModalClose = () => {\n    closeCreateModal();\n    closeEditModal();\n  };\n\n  useEffect(() => {\n    if (actionStatus.isError || actionStatus.isSuccess) {\n      addToast(actionStatus.message, {\n        appearance: actionStatus.toString().toLowerCase(),\n      });\n\n      if (actionStatus.isSuccess) {\n        closeEditModal();\n        refresh();\n      }\n    }\n  }, [actionStatus]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"list-actions\">\n        <span>\n          {t(\"Total\")}: {total}\n        </span>\n        <div style={{ marginLeft: 16, marginRight: 16 }}>\n          <Input.Search placeholder={t(\"Search\")} onChange={handleSearch} value={filters.searchText} allowClear />\n        </div>\n        <OrgAwareButton type=\"primary\" onClick={showCreateModal}>\n          {t(\"Create Task\")}\n        </OrgAwareButton>\n      </div>\n      <NSHandler status={tasksStatus}>\n        {() => (\n          <Table dataSource={tasks} rowKey=\"_id\">\n            <Table.Column\n              title={t(\"Action\")}\n              key=\"action\"\n              render={(_, record) => (\n                <>\n                  <Button\n                    className=\"margin-right\"\n                    icon={<DeleteOutlined />}\n                    type=\"danger\"\n                    onClick={handleDelete(record._id)}\n                    size=\"small\"\n                    ghost\n                  />\n                  <Button className=\"margin-right\" icon={<EditOutlined />} onClick={handleEdit(record)} size=\"small\" />\n                </>\n              )}\n            />\n            <Table.Column\n              key=\"title\"\n              dataIndex=\"\"\n              title={t(\"Title\")}\n              render={(task) => <Link to={`/tasks/${task._id}`}>{task.title}</Link>}\n            ></Table.Column>\n            <Table.Column key=\"description\" dataIndex=\"description\" title={t(\"Description\")} />\n            <Table.Column key=\"startDate\" dataIndex=\"startDate\" title={t(\"Start Date\")} render={timestampToDateStr} />\n            <Table.Column\n              key=\"estConclusionDate\"\n              dataIndex=\"estConclusionDate\"\n              title={t(\"Est. Conclusion Date\")}\n              render={timestampToDateStr}\n            />\n            <Table.Column\n              key=\"assignee\"\n              dataIndex=\"assignee\"\n              render={({ firstName, lastName }) => `${firstName} ${lastName}`}\n              title={t(\"Assignee\")}\n            />\n            <Table.Column\n              key=\"leader\"\n              title={t(\"Leader\")}\n              dataIndex=\"leader\"\n              render={({ firstName, lastName }) => `${firstName} ${lastName}`}\n            />\n            <Table.Column\n              key=\"helpers\"\n              dataIndex=\"helpers\"\n              title={t(\"Helpers\")}\n              render={(v) => v.map(({ firstName, lastName }) => `${firstName} ${lastName}`).join(\",\")}\n            />\n          </Table>\n        )}\n      </NSHandler>\n      {(shouldShowCreateModal || selectedForEdit) && (\n        <TaskFormModal\n          afterSave={afterSave}\n          onClose={handleFormModalClose}\n          initialValue={selectedForEdit}\n          okText={`${selectedForEdit ? t(\"Update\") : t(\"Create\")} ${t(\"Task\")}`}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default TaskList;\n","import { Descriptions, Button } from \"antd\";\nimport React from \"react\";\nimport { PrinterOutlined } from \"@ant-design/icons\";\nimport { useTranslation } from \"react-i18next\";\nimport NSHandler from \"src/components/NSHandler\";\nimport moment from \"moment\";\nimport { useTask } from \"src/hooks\";\nimport QRCode from \"qrcode.react\";\nimport { OrganizationAddr } from \"src/components\";\n\nfunction TaskPrintView({ task }) {\n  return (\n    <div className=\"printonly printonly-flex space-between\">\n      <OrganizationAddr organization={task.organization} />\n      <QRCode id=\"qr-canvas\" value={window.location.href} size={100} />\n    </div>\n  );\n}\n\nfunction TaskDetail({ id }) {\n  const { t } = useTranslation([\"translation\"]);\n  const { data: task, getStatus: status } = useTask(id);\n\n  return (\n    <div className=\"container\">\n      <div className=\"text-right margin-bottom noprint\">\n        <Button icon={<PrinterOutlined />} onClick={() => window.print()}>\n          Print\n        </Button>\n      </div>\n      <NSHandler status={status}>\n        {() => (\n          <>\n            <TaskPrintView task={task} />\n            <Descriptions bordered style={{ marginBottom: 32 }}>\n              <Descriptions.Item label={t(\"Title\")} span={3}>\n                {task.title}\n              </Descriptions.Item>\n              <Descriptions.Item label={t(\"Description\")} span={3}>\n                {task.description}\n              </Descriptions.Item>\n              <Descriptions.Item label={t(\"Start Date\")} span={1.5}>\n                {moment.unix(task.startDate).format(\"DD/MM/YYYY\")}\n              </Descriptions.Item>\n              <Descriptions.Item label={t(\"Est. Conlusion\")} span={1.5}>\n                {moment.unix(task.estConclusionDate).format(\"DD/MM/YYYY\")}\n              </Descriptions.Item>\n              <Descriptions.Item label={t(\"Assignee\")} span={1.5}>\n                {task.assignee.name}\n              </Descriptions.Item>\n              <Descriptions.Item label={t(\"Leader\")} span={1.5}>\n                {task.leader.name}\n              </Descriptions.Item>\n              <Descriptions.Item label={t(\"Helpers\")} span={3}>\n                {task.helpers.map((h) => h.name).join(\",\")}\n              </Descriptions.Item>\n            </Descriptions>\n          </>\n        )}\n      </NSHandler>\n    </div>\n  );\n}\n\nexport default TaskDetail;\n","import React from \"react\";\nimport { Table } from \"antd\";\nimport NSHandler from \"src/components/NSHandler\";\nimport { useOrders } from \"src/hooks\";\nimport { useTranslation } from \"react-i18next\";\nimport currencyFormatter from \"../../helpers/currencyFormatterPrefix\";\nimport { listOptsFromQueryParams } from \"src/helpers\";\nimport moment from \"moment\";\n\nconst cf = currencyFormatter.format;\n\nfunction ProductTable({ products }) {\n  const { t } = useTranslation([\"translation\"]);\n  return (\n    <Table dataSource={products} showHeader={false} size=\"small\" pagination={false}>\n      <Table.Column dataIndex=\"title\" title={t(\"Title\")} width=\"50%\"></Table.Column>\n      <Table.Column render={(p) => `(${p.amount} x ${cf(p.price)})`}></Table.Column>\n    </Table>\n  );\n}\n\nconst getOrderTotal = (products) => cf(products.reduce((acc, p) => acc + p.amount * p.price, 0));\n\nfunction OrderTable() {\n  const { t } = useTranslation([\"translation\"]);\n  const { all: data, status } = useOrders(listOptsFromQueryParams());\n\n  return (\n    <NSHandler status={status}>\n      {() => (\n        <Table dataSource={data} pagination={false} bordered size=\"small\">\n          <Table.Column dataIndex=\"orderId\" title={t(\"ID\")}></Table.Column>\n          <Table.Column\n            dataIndex=\"createdAt\"\n            title={t(\"Created At\")}\n            render={(t) => moment(t * 1000).format(\"DD/MM/YY\")}\n          ></Table.Column>\n          <Table.Column\n            dataIndex=\"items\"\n            title={t(\"Products\")}\n            render={(products) => <ProductTable products={products} />}\n          ></Table.Column>\n          <Table.Column dataIndex=\"items\" title={t(\"Total\")} render={getOrderTotal}></Table.Column>\n          <Table.Column dataIndex={[\"client\", \"name\"]} title={t(\"Client\")}></Table.Column>\n          <Table.Column dataIndex=\"_status\" title={t(\"Status\")}></Table.Column>\n          <Table.Column dataIndex=\"_processStatus\" title={t(\"Process Status\")}></Table.Column>\n        </Table>\n      )}\n    </NSHandler>\n  );\n}\n\nexport default OrderTable;\n","import React from \"react\";\nimport { Table } from \"antd\";\nimport NSHandler from \"src/components/NSHandler\";\nimport { useProductList } from \"src/hooks\";\nimport { useTranslation } from \"react-i18next\";\nimport currencyFormatterPrefix from \"../../helpers/currencyFormatterPrefix\";\nimport { listOptsFromQueryParams } from \"src/helpers\";\n\nconst getTotalUnits = (p) => (p.isService ? undefined : p.totalUnits);\n\nconst cf = currencyFormatterPrefix.format;\n\nfunction ProductTable() {\n  const { t } = useTranslation([\"translation\"]);\n  const { all: data, status } = useProductList(listOptsFromQueryParams());\n\n  return (\n    <NSHandler status={status}>\n      {() => (\n        <Table dataSource={data} pagination={false} bordered size=\"small\">\n          <Table.Column dataIndex=\"title\" title={t(\"Title\")}></Table.Column>\n          <Table.Column dataIndex=\"description\" title={t(\"Description\")}></Table.Column>\n          <Table.Column title={t(\"Total Units\")} render={getTotalUnits}></Table.Column>\n          <Table.Column dataIndex=\"cost\" title={t(\"Cost\")} render={cf}></Table.Column>\n          <Table.Column dataIndex=\"price\" title={t(\"Price\")} render={cf}></Table.Column>\n          <Table.Column dataIndex=\"status\" title={t(\"Status\")}></Table.Column>\n        </Table>\n      )}\n    </NSHandler>\n  );\n}\n\nexport default ProductTable;\n","import React from \"react\";\nimport { Table } from \"antd\";\nimport NSHandler from \"src/components/NSHandler\";\nimport { useTaskList } from \"src/hooks\";\nimport moment from \"moment\";\nimport { useTranslation } from \"react-i18next\";\nimport { listOptsFromQueryParams } from \"src/helpers\";\n\nfunction TaskTable() {\n  const { t } = useTranslation([\"translation\"]);\n  const { all: data, status } = useTaskList(listOptsFromQueryParams());\n\n  return (\n    <NSHandler status={status}>\n      {() => (\n        <Table dataSource={data} pagination={false} bordered size=\"small\">\n          <Table.Column dataIndex=\"title\" title={t(\"Title\")}></Table.Column>\n          <Table.Column dataIndex=\"description\" title={t(\"Description\")}></Table.Column>\n          <Table.Column\n            dataIndex=\"startDate\"\n            title={t(\"Start Date\")}\n            render={(t) => moment.unix(t).format(\"DD/MM/YYYY\")}\n          ></Table.Column>\n          <Table.Column\n            dataIndex=\"estConclusionDate\"\n            title={t(\"Est. Conclusion Date\")}\n            render={(t) => moment.unix(t).format(\"DD/MM/YYYY\")}\n          ></Table.Column>\n          <Table.Column dataIndex={[\"assignee\", \"name\"]} title={t(\"Assignee\")}></Table.Column>\n          <Table.Column dataIndex={[\"leader\", \"name\"]} title={t(\"Leader\")}></Table.Column>\n          <Table.Column\n            dataIndex=\"helpers\"\n            title={t(\"Helpers\")}\n            render={(hs) => hs.map(({ name }) => name).join(\",\")}\n          ></Table.Column>\n        </Table>\n      )}\n    </NSHandler>\n  );\n}\n\nexport default TaskTable;\n","import React from \"react\";\nimport { Table } from \"antd\";\nimport NSHandler from \"src/components/NSHandler\";\nimport { useExpenses } from \"src/hooks\";\nimport moment from \"moment\";\nimport { useTranslation } from \"react-i18next\";\nimport { cf, listOptsFromQueryParams } from \"src/helpers\";\n\nfunction TaskTable() {\n  const { t } = useTranslation([\"translation\"]);\n  const { all: data, status } = useExpenses(listOptsFromQueryParams());\n\n  return (\n    <NSHandler status={status}>\n      {() => (\n        <Table dataSource={data} pagination={false} bordered size=\"small\">\n          <Table.Column dataIndex=\"name\" title={t(\"Title\")}></Table.Column>\n          <Table.Column dataIndex=\"type\" title={t(\"Type\")}></Table.Column>\n          <Table.Column\n            dataIndex=\"issueDate\"\n            title={t(\"Issue Date\")}\n            render={(t) => moment.unix(t).format(\"DD/MM/YYYY\")}\n          ></Table.Column>\n          <Table.Column\n            dataIndex=\"dueDate\"\n            title={t(\"Due Date\")}\n            render={(t) => moment.unix(t).format(\"DD/MM/YYYY\")}\n          ></Table.Column>\n          <Table.Column dataIndex=\"frequency\" title={t(\"Frequency\")}></Table.Column>\n          <Table.Column dataIndex=\"amount\" title={t(\"Amount\")} render={cf}></Table.Column>\n        </Table>\n      )}\n    </NSHandler>\n  );\n}\n\nexport default TaskTable;\n","import React from \"react\";\nimport { useAPI } from \"src/helpers/useFetch\";\nimport { Table } from \"antd\";\nimport { useTranslation } from \"react-i18next\";\nimport NSHandler from \"src/components/NSHandler\";\nimport { nf, cf } from \"src/helpers\";\n\nfunction DepartmentEarnings() {\n  const { t } = useTranslation([\"translation\"]);\n  const [departments = [], departmentsStatus] = useAPI(`/api/products-stats${window.location.search}`);\n\n  return (\n    <NSHandler status={departmentsStatus}>\n      {() => (\n        <Table dataSource={departments} pagination={false} bordered size=\"small\">\n          <Table.Column dataIndex={[\"department\", \"title\"]} title={t(\"Title\")}></Table.Column>\n          <Table.Column dataIndex=\"total\" title={t(\"Products\")} render={nf}></Table.Column>\n          <Table.Column dataIndex=\"worthCost\" title={`${t(\"Worth\")} ${t(\"Cost\")}`} render={cf}></Table.Column>\n          <Table.Column dataIndex=\"worthPrice\" title={`${t(\"Worth\")} ${t(\"Price\")}`} render={cf}></Table.Column>\n        </Table>\n      )}\n    </NSHandler>\n  );\n}\n\nexport default DepartmentEarnings;\n","import { Button, Descriptions } from \"antd\";\nimport React from \"react\";\nimport OrderTable from \"./OrderTable\";\nimport ProductTable from \"./ProductTable\";\nimport { PrinterOutlined } from \"@ant-design/icons\";\nimport NSHandler from \"src/components/NSHandler\";\nimport TaskTable from \"./TaskTable\";\nimport ExpenseTable from \"./ExpenseTable\";\nimport { useTranslation } from \"react-i18next\";\nimport DepartmentEarnings from \"./DepartmentEarnings\";\nimport { useAPI } from \"src/hooks\";\nimport { cf, nf } from \"src/helpers\";\n\nfunction Stats() {\n  const { t } = useTranslation([\"translation\"]);\n  const [data = {}, orderStatsStatus] = useAPI(`/api/orders-stats${window.location.search}`);\n  const [dashboard = {}, dashboardStatus] = useAPI(`/api/dashboard${window.location.search}`);\n\n  let totalRevenue = 0;\n  let totalCost = 0;\n  let totalQuantity = 0;\n  let totalCollected = 0;\n  let totalNeedsToCollect = 0;\n  let profit = 0;\n  let realProfit = 0;\n  if (orderStatsStatus.isSuccess && dashboardStatus.isSuccess) {\n    totalRevenue = data.open.revenue + data.closed.revenue + data.partial.revenue;\n    totalCost = data.open.cost + data.closed.cost + data.partial.cost;\n    totalQuantity = data.open.orders + data.closed.orders + data.partial.orders;\n    totalCollected = data.closed.revenue + data.partial.collected;\n    totalNeedsToCollect = data.open.revenue + (data.partial.revenue - data.partial.collected);\n    profit = data.partial.revenue + data.closed.revenue - data.partial.cost - data.closed.cost;\n    realProfit = profit - dashboard.totalexpenses;\n  }\n  return (\n    <NSHandler status={orderStatsStatus}>\n      {() => (\n        <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", columnGap: 16 }}>\n          <Descriptions title={t(\"Placed Orders\")} bordered size=\"small\">\n            <Descriptions.Item label={t(\"Profit\")} span={3}>\n              {cf(totalRevenue - totalCost)}\n            </Descriptions.Item>\n            <Descriptions.Item label={t(\"Placed Orders\")} span={3}>\n              {nf(totalQuantity)}\n            </Descriptions.Item>\n            <Descriptions.Item label={t(\"Revenue\")} span={1.5}>\n              {cf(totalRevenue)}\n            </Descriptions.Item>\n            <Descriptions.Item label={t(\"Cost\")} span={1.5}>\n              {cf(totalCost)}\n            </Descriptions.Item>\n            <Descriptions.Item label={t(\"Collected\")} span={1.5}>\n              {cf(totalCollected)}\n            </Descriptions.Item>\n            <Descriptions.Item label={t(\"Yet to collect\")} span={1.5}>\n              {cf(totalNeedsToCollect)}\n            </Descriptions.Item>\n          </Descriptions>\n          <Descriptions title={t(\"Real Profits\")} bordered size=\"small\">\n            <Descriptions.Item label={t(\"Real Profits\")} span={3}>\n              {cf(realProfit)}\n            </Descriptions.Item>\n            <Descriptions.Item label={t(\"Profit\")} span={1.5}>\n              {cf(profit)}\n            </Descriptions.Item>\n            <Descriptions.Item label={t(\"Expense\")} span={1.5}>\n              {cf(dashboard.totalexpenses)}\n            </Descriptions.Item>\n          </Descriptions>\n        </div>\n      )}\n    </NSHandler>\n  );\n}\n\nfunction PrintEverything() {\n  const { t } = useTranslation([\"translation\"]);\n\n  return (\n    <>\n      <Stats />\n      <h3 style={{ margin: \"16px 0\" }}>{t(\"Departments\")}</h3>\n      <DepartmentEarnings />\n      <h3 style={{ margin: \"16px 0\" }}>{t(\"Products\")}</h3>\n      <ProductTable />\n      <h3 style={{ margin: \"16px 0\" }}>{t(\"Orders\")}</h3>\n      <OrderTable />\n      <h3 style={{ margin: \"16px 0\" }}>{t(\"Tasks\")}</h3>\n      <TaskTable />\n      <h3 style={{ margin: \"16px 0\" }}>{t(\"Expenses\")}</h3>\n      <ExpenseTable />\n      <Button\n        className=\"noprint\"\n        icon={<PrinterOutlined />}\n        type=\"primary\"\n        style={{ position: \"fixed\", bottom: 16, right: 16 }}\n        onClick={() => window.print()}\n      >\n        {t(\"Print\")}\n      </Button>\n    </>\n  );\n}\n\nexport default PrintEverything;\n","import React from \"react\";\nimport { Form, Input, Button, message } from \"antd\";\nimport NumberFormat from \"react-number-format\";\nimport { useAPI } from \"src/helpers/useFetch\";\nimport { useEffect } from \"react\";\nimport { navigate } from \"@reach/router\";\nimport { useState } from \"react\";\nimport { useMemo } from \"react\";\nimport \"./styles.scss\";\n\nconst ruleRequired = { required: true };\n\nconst validations = {\n  name: [ruleRequired],\n  password: [ruleRequired],\n  phoneNumber: [ruleRequired, { len: 11 }],\n  email: [ruleRequired, { type: \"email\" }],\n};\n\nfunction useOnboard() {\n  const [payload, setPayload] = useState();\n  const args = useMemo(() => (payload ? [\"/api/onboard\", { method: \"POST\", body: JSON.stringify(payload) }] : []), [payload]);\n  const [{ onboarded } = {}, status] = useAPI(...args);\n  return { onboarded, onboard: setPayload, status };\n}\n\nfunction InitialOnboarding({ setOnboarded }) {\n  const [{ onboarded } = {}] = useAPI(\"/api/check-onboarded\");\n  const { onboarded: onboardedNew, onboard, status: onboardStatus } = useOnboard();\n\n  useEffect(() => {\n    if (onboarded) {\n      setOnboarded(true);\n    }\n  }, [onboarded]);\n\n  useEffect(() => {\n    if (onboardedNew) {\n      setOnboarded(true);\n    }\n  }, [onboardedNew]);\n\n  useEffect(() => {\n    if (onboardStatus.isError) {\n      message.error(onboardStatus.message || \"failed to onboard\");\n    }\n    if (onboardStatus.isSuccess) {\n      message.success(\"super admin onboarded successfully\");\n      navigate(\"/login\");\n    }\n  }, [onboardStatus]);\n\n  return (\n    <div className=\"onboard-form-container\">\n      <Form className=\"onboard-form\" id=\"onboard-form\" layout=\"vertical\" size=\"large\" onFinish={onboard}>\n        <Form.Item label=\"Super Admin Name\" name=\"firstName\" rules={validations.name}>\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Email\" name=\"email\" rules={validations.email}>\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Password\" name=\"password\" rules={validations.password}>\n          <Input.Password />\n        </Form.Item>\n        <Form.Item\n          label=\"Phone No\"\n          name=\"landlineNumber\"\n          trigger=\"onValueChange\"\n          getValueFromEvent={(vs) => vs.value}\n          rules={validations.phoneNumber}\n        >\n          <NumberFormat customInput={Input} format=\"(##) ##### - ####\" placeholder=\"(00) 00000 - 0000\" />\n        </Form.Item>\n        <div className=\"text-right\">\n          <Button type=\"primary\" htmlType=\"submit\">\n            Submit\n          </Button>\n        </div>\n      </Form>\n    </div>\n  );\n}\n\nexport default InitialOnboarding;\n","import React, { useEffect } from \"react\";\nimport { Alert, Form, Input, message, Select } from \"antd\";\nimport { FormModal } from \"src/components\";\nimport { useTranslation } from \"react-i18next\";\nimport { ruleRequired, translateFormRules } from \"src/helpers\";\nimport { useDepartmentOptions, useBrand } from \"src/hooks\";\n\nconst formRules = {\n  title: [ruleRequired],\n  departments: [ruleRequired],\n};\n\nfunction BrandFormModal({ initialValue, afterSave, onClose, okText }) {\n  const { t } = useTranslation([\"translation\"]);\n  const { save, status } = useBrand(initialValue?._id);\n  const { options: departmentOptions, status: departmentOptionsStatus } = useDepartmentOptions();\n  const handleSubmit = (values) => {\n    save(initialValue?._id, values);\n  };\n\n  useEffect(() => {\n    if (status.isSuccess) {\n      message.success(status.message);\n      afterSave();\n    }\n  }, [status, afterSave, onClose]);\n\n  const rules = translateFormRules(t, formRules);\n\n  return (\n    <FormModal formID=\"brand-add-modal\" onClose={onClose} okText={okText}>\n      <Form layout=\"vertical\" id=\"brand-add-modal\" initialValues={initialValue} onFinish={handleSubmit}>\n        <Form.Item name=\"title\" label={t(\"Title\")} rules={rules.title}>\n          <Input />\n        </Form.Item>\n\n        <Form.Item name=\"description\" label={t(\"Description\")} rules={rules.description}>\n          <Input.TextArea rows={4} />\n        </Form.Item>\n      </Form>\n      {status.isError && <Alert message={status.message} type=\"error\" />}\n    </FormModal>\n  );\n}\n\nexport default BrandFormModal;\n","import React, { useEffect, useState } from \"react\";\nimport { Confirm } from \"semantic-ui-react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useBrands, useBrand } from \"src/hooks\";\nimport { NSHandler, OrgAwareButton } from \"src/components\";\nimport { Table, Input } from \"antd\";\nimport BrandFormModal from \"./BrandFormModal\";\nimport { editDeleteRenderer } from \"src/helpers\";\nimport \"./styles.css\";\n\nfunction BrandList(props) {\n  const { t } = useTranslation([\"translation\"]);\n  const { all: brands, total, pages, search, goto, sort, filters, status, refresh } = useBrands();\n  const { del, status: delStatus } = useBrand();\n  const [shouldShowAddModal, setShouldShowAddModal] = useState(false);\n  const [selectedForEdit, setSelectedForEdit] = useState(undefined);\n  const [selectedForDelete, setSelectedForDelete] = useState(undefined);\n\n  const showAddModal = () => setShouldShowAddModal(true);\n  const closeAddModal = () => setShouldShowAddModal(false);\n  const closeEditModal = () => setSelectedForEdit(undefined);\n  const closeDeleteConfirm = () => setSelectedForDelete(undefined);\n\n  const handleSearch = (e) => search(e.target.value);\n\n  const afterSave = () => {\n    handleFormModalClose();\n    refresh();\n  };\n\n  const handleFormModalClose = () => {\n    closeAddModal();\n    closeEditModal();\n  };\n\n  useEffect(() => {\n    if (delStatus.isSuccess) {\n      closeDeleteConfirm();\n      refresh();\n    }\n  }, [delStatus, refresh]);\n\n  return (\n    <div className=\"container\">\n      <h2>{t(\"Brands\")}</h2>\n      <div className=\"list-actions\">\n        <span>\n          {t(\"Total\")}: {total}\n        </span>\n        <div style={{ marginLeft: 16, marginRight: 16 }}>\n          <Input.Search placeholder={t(\"Search\")} onChange={handleSearch} value={filters.searchText} allowClear />\n        </div>\n        <OrgAwareButton type=\"primary\" onClick={showAddModal}>\n          {t(\"Add\")} {t(\"Brand\")}\n        </OrgAwareButton>\n      </div>\n\n      <NSHandler status={status}>\n        {() => (\n          <Table dataSource={brands} rowKey=\"_id\" bordered>\n            <Table.Column\n              key=\"actions\"\n              title={t(\"Actions\")}\n              render={editDeleteRenderer(setSelectedForEdit, setSelectedForDelete)}\n            ></Table.Column>\n            <Table.Column dataIndex=\"_id\" title={t(\"ID\")}></Table.Column>\n            <Table.Column dataIndex=\"title\" title={t(\"Title\")}></Table.Column>\n            <Table.Column dataIndex=\"description\" title={t(\"Description\")}></Table.Column>\n          </Table>\n        )}\n      </NSHandler>\n\n      {(shouldShowAddModal || selectedForEdit) && (\n        <BrandFormModal\n          afterSave={afterSave}\n          onClose={handleFormModalClose}\n          initialValue={selectedForEdit}\n          okText={`${selectedForEdit ? t(\"Update\") : t(\"Add\")} ${t(\"Brand\")}`}\n        />\n      )}\n\n      {selectedForDelete && (\n        <Confirm\n          open\n          content={t(\"Are you sure you want to delete\") + \" ?\"}\n          onCancel={() => setSelectedForDelete()}\n          onConfirm={() => del(selectedForDelete)}\n          cancelButton={t(\"No\")}\n          confirmButton={t(\"Delete\")}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default BrandList;\n","import React, { useEffect } from \"react\";\nimport { Alert, Button, Form, Input, message } from \"antd\";\nimport { FormModal } from \"src/components\";\nimport { useTranslation } from \"react-i18next\";\nimport { ruleRequired, translateFormRules } from \"src/helpers\";\nimport { useDepartment } from \"src/hooks\";\n\nimport { MinusCircleOutlined } from \"@ant-design/icons\";\n\nconst formRules = {\n  title: [ruleRequired],\n  departments: [ruleRequired],\n  categoryTitle: [ruleRequired],\n  subCategoryTitle: [ruleRequired],\n};\n\nfunction DepartmentFormModal({ initialValue, afterSave, onClose, okText }) {\n  const { t } = useTranslation([\"translation\"]);\n  const { save, status } = useDepartment(initialValue?._id);\n\n  const handleSubmit = (values) => {\n    save(values, initialValue?._id);\n  };\n\n  useEffect(() => {\n    if (status.isSuccess) {\n      message.success(status.message);\n      afterSave();\n    }\n  }, [status, afterSave, onClose]);\n\n  const rules = translateFormRules(t, formRules);\n\n  return (\n    <FormModal formID=\"department-form-modal\" onClose={onClose} okText={okText} style={{ top: 16 }}>\n      <Form layout=\"vertical\" id=\"department-form-modal\" initialValues={initialValue} onFinish={handleSubmit}>\n        <Form.Item name=\"title\" label={t(\"Title\")} rules={rules.title}>\n          <Input />\n        </Form.Item>\n\n        <Form.Item name=\"description\" label={t(\"Description\")} rules={rules.description}>\n          <Input.TextArea rows={4} />\n        </Form.Item>\n\n        {!initialValue?._id && (\n          <>\n            <div style={{ paddingBottom: 8 }}>{t(\"Categories\")}</div>\n            <Form.List name=\"categories\">\n              {(fields, { add, remove }) => (\n                <>\n                  {fields.map((field) => (\n                    <div key={field.key}>\n                      <div className=\"categories-form-item-wrapper\">\n                        <Form.Item\n                          name={[field.name, \"title\"]}\n                          fieldKey={[field.fieldKey, \"title\"]}\n                          rules={rules.categoryTitle}\n                        >\n                          <Input />\n                        </Form.Item>\n                        <Form.Item\n                          name={[field.name, \"description\"]}\n                          fieldKey={[field.fieldKey, \"description\"]}\n                          rules={rules.categoryDescription}\n                        >\n                          <Input.TextArea rows={1} />\n                        </Form.Item>\n                        <Button type=\"danger\" ghost icon={<MinusCircleOutlined />} onClick={() => remove(field.name)}></Button>\n                      </div>\n                      <Form.List name={[field.name, \"subcategories\"]}>\n                        {(fields, { add, remove }) => (\n                          <div\n                            style={{\n                              marginLeft: 16,\n                              borderBottom: \"1px dashed #d9d9d9\",\n                              borderLeft: \"1px dashed #d9d9d9\",\n                              paddingLeft: 16,\n                              marginBottom: 16,\n                            }}\n                          >\n                            {fields.map((subfield) => (\n                              <div className=\"subcategories-form-item-wrapper\" key={subfield.key}>\n                                <Form.Item\n                                  name={[subfield.name, \"title\"]}\n                                  fieldKey={[subfield.fieldKey, \"title\"]}\n                                  rules={rules.subCategoryTitle}\n                                >\n                                  <Input />\n                                </Form.Item>\n                                <Form.Item\n                                  name={[subfield.name, \"description\"]}\n                                  fieldKey={[subfield.fieldKey, \"description\"]}\n                                  rules={rules.subCategoryDescription}\n                                >\n                                  <Input.TextArea rows={1} />\n                                </Form.Item>\n                                <Button\n                                  type=\"danger\"\n                                  ghost\n                                  icon={<MinusCircleOutlined />}\n                                  onClick={() => remove(subfield.name)}\n                                ></Button>\n                              </div>\n                            ))}\n                            <Button className=\"add-btn\" type=\"link\" onClick={() => add()}>\n                              + {t(\"Add\")} {t(\"Sub Category\")}\n                            </Button>\n                          </div>\n                        )}\n                      </Form.List>\n                    </div>\n                  ))}\n                  <Button className=\"add-btn\" type=\"link\" onClick={() => add()}>\n                    + {t(\"Add\")} {t(\"Category\")}\n                  </Button>\n                </>\n              )}\n            </Form.List>\n          </>\n        )}\n      </Form>\n      {status.isError && <Alert message={status.message} type=\"error\" />}\n    </FormModal>\n  );\n}\n\nexport default DepartmentFormModal;\n","import React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useDepartments, useDepartment } from \"src/hooks\";\nimport { NSHandler, OrgAwareButton } from \"src/components\";\nimport { Table, Input, message } from \"antd\";\nimport DepartmentFormModal from \"./DepartmentFormModal\";\nimport { editDeleteRenderer } from \"src/helpers\";\nimport { Confirm } from \"semantic-ui-react\";\n\nimport \"./styles.scss\";\n\nfunction DepartmentList() {\n  const { t } = useTranslation([\"translation\"]);\n  const { all: departments, total, search, filters, status, refresh } = useDepartments();\n  const [shouldShowAddModal, setShouldShowAddModal] = useState(false);\n  const [selectedForEdit, setSelectedForEdit] = useState(undefined);\n  const [selectedForDelete, setSelectedForDelete] = useState(undefined);\n  const { del, status: delStatus } = useDepartment();\n\n  const showAddModal = () => setShouldShowAddModal(true);\n  const closeAddModal = () => setShouldShowAddModal(false);\n  const closeEditModal = () => setSelectedForEdit(undefined);\n\n  const handleSearch = (e) => search(e.target.value);\n\n  const afterSave = () => {\n    handleFormModalClose();\n    refresh();\n  };\n\n  const handleFormModalClose = () => {\n    closeAddModal();\n    closeEditModal();\n  };\n\n  useEffect(() => {\n    if (delStatus.isSuccess) {\n      setSelectedForDelete(undefined);\n      refresh();\n      message.success(delStatus.message);\n    }\n  }, [delStatus]);\n\n  const departmentsTree = departments.map((department) => ({\n    ...department,\n    categories: (department.categories || []).map((category) => ({\n      ...category,\n      key: category.title,\n      children: (category.subcategories || []).map((subcategory) => ({\n        ...subcategory,\n        isLeaf: true,\n        key: `${category.title} ${subcategory.title}`,\n      })),\n    })),\n  }));\n\n  console.log(\"departmentsTree :>> \", departmentsTree);\n\n  return (\n    <div className=\"container\">\n      <h2>{t(\"Departments\")}</h2>\n      <div className=\"list-actions\">\n        <span>\n          {t(\"Total\")}: {total}\n        </span>\n        <div style={{ marginLeft: 16, marginRight: 16 }}>\n          <Input.Search placeholder={t(\"Search\")} onChange={handleSearch} value={filters.searchText} allowClear />\n        </div>\n        <OrgAwareButton type=\"primary\" onClick={showAddModal}>\n          {t(\"Add\")} {t(\"Department\")}\n        </OrgAwareButton>\n      </div>\n\n      <NSHandler status={status}>\n        {() => (\n          <Table dataSource={departmentsTree} rowKey=\"_id\" bordered>\n            <Table.Column\n              key=\"actions\"\n              title={t(\"Actions\")}\n              render={editDeleteRenderer(setSelectedForEdit, setSelectedForDelete)}\n            ></Table.Column>\n            <Table.Column dataIndex=\"_id\" title={t(\"ID\")}></Table.Column>\n            <Table.Column dataIndex=\"title\" title={t(\"Title\")}></Table.Column>\n            <Table.Column dataIndex=\"description\" title={t(\"Description\")}></Table.Column>\n          </Table>\n        )}\n      </NSHandler>\n\n      {(shouldShowAddModal || selectedForEdit) && (\n        <DepartmentFormModal\n          afterSave={afterSave}\n          onClose={handleFormModalClose}\n          initialValue={selectedForEdit}\n          okText={`${selectedForEdit ? t(\"Update\") : t(\"Add\")} ${t(\"Department\")}`}\n        />\n      )}\n\n      {selectedForDelete && (\n        <Confirm\n          open\n          content={t(\"Are you sure you want to delete\") + \" ?\"}\n          onCancel={() => setSelectedForDelete()}\n          onConfirm={() => del(selectedForDelete)}\n          cancelButton={t(\"No\")}\n          confirmButton={t(\"Delete\")}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default DepartmentList;\n","import React, { useCallback, useMemo } from \"react\";\n\nimport { navigate, Router } from \"@reach/router\";\nimport Login from \"../LoginPage\";\nimport ProductsPage from \"../ProductsPage\";\nimport SubcategoriesPage from \"../SubcategoriesPage\";\nimport CategoriesPage from \"../CategoriesPage\";\nimport { ProtectedRoute } from \"src/components\";\nimport ChequeList from \"../ChequeList\";\nimport ExpenseList from \"../ExpenseList\";\nimport Dashboard from \"../Dashboard/index\";\nimport Header from \"../../components/Header\";\nimport NotFound from \"../../components/NotFound\";\n\nimport ModelsPage from \"../ModelsPage\";\nimport ProductViewPage from \"src/components/ProductComponents/ProductView\";\nimport OrdersPage from \"../OrdersPage\";\nimport ClientsPage from \"../ClientsPage\";\nimport AdminsPage from \"../AdminsPage\";\nimport OrderViewPage from \"src/components/OrderComponents/OrderView\";\nimport OrganizationsPage from \"../OrganizationsPage\";\nimport ExpenseDetail from \"src/containers/ExpenseDetail\";\nimport WoodCalculator from \"src/containers/WoodCalculator\";\nimport TaskList from \"src/containers/TaskList\";\nimport TaskDetail from \"src/containers/TaskDetail\";\nimport PrintEverything from \"src/containers/PrintEverything\";\nimport { useState } from \"react\";\nimport { OrganizationContext, UserContext } from \"src/contexts\";\nimport { useEffect } from \"react\";\nimport InitialOnboarding from \"../InitialOnboarding\";\n\nimport BrandList from \"src/containers/BrandList\";\nimport DepartmentList from \"src/containers/DepartmentList\";\nimport { useAPI } from \"src/hooks\";\nimport { ConfigProvider } from \"antd\";\nimport enUS from \"antd/es/locale/en_US\";\nimport ptBR from \"antd/es/locale/pt_BR\";\nimport i18n from \"i18next\";\nimport { useTranslation } from \"react-i18next\";\n\nfunction ResetCache() {\n  useEffect(() => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"onboarded\");\n    localStorage.removeItem(\"organizationId\");\n    localStorage.removeItem(\"locale\");\n  }, []);\n  return <div>DONE</div>;\n}\n\nconst localeFileMap = { \"en-US\": enUS, \"pt-BR\": ptBR };\n\nconst defaultGlobalFormConfig = {\n  validateMessages: {\n    required: \"field is required\",\n  },\n};\n\nconst decodeJWT = (token) => {\n  try {\n    return JSON.parse(atob(token.split(\".\")[1]));\n  } catch (e) {\n    console.error(e);\n    return undefined;\n  }\n};\n\nconst getInitialState = () => localStorage.getItem(\"token\");\nconst getOnboardedFromLS = () => !!localStorage.getItem(\"onboarded\");\n\nconst Routing = () => {\n  const { t } = useTranslation(\"translation\");\n  const [organizationId, setOrganizationId] = useState(localStorage.getItem(\"organizationId\") ?? undefined);\n  const [token, setToken] = useState(getInitialState);\n  const [locale, setLocale] = useState(localStorage.getItem(\"locale\") || \"pt-BR\");\n  const [{ onboarded: onboardedFromAPI = false } = {}, onboardedStatus] = useAPI(\n    getOnboardedFromLS() ? undefined : \"/api/check-onboarded\"\n  );\n\n  const onboarded = useMemo(() => getOnboardedFromLS() || onboardedFromAPI, [onboardedFromAPI]);\n\n  const handleLogin = useCallback((token) => {\n    localStorage.setItem(\"token\", token);\n    setToken(token);\n  }, []);\n\n  const logout = () => {\n    localStorage.removeItem(\"token\");\n    setToken();\n  };\n\n  const { user } = useMemo(() => (token ? decodeJWT(token) : {}), [token]);\n\n  const authContext = useMemo(() => {\n    return { ...(token ? { token, user } : {}), logout };\n  }, [token, user]);\n\n  useEffect(() => {\n    if (organizationId) {\n      localStorage.setItem(\"organizationId\", organizationId);\n    } else {\n      localStorage.removeItem(\"organizationId\");\n    }\n  }, [organizationId]);\n\n  useEffect(() => {\n    if (onboardedStatus.isSuccess) {\n      localStorage.setItem(\"onboarded\", onboardedFromAPI);\n    }\n  }, [onboardedStatus, onboardedFromAPI]);\n\n  useEffect(() => {\n    if (!onboarded && onboardedStatus.isSuccess) {\n      navigate(\"/onboard\");\n    }\n  }, [onboarded, onboardedStatus]);\n\n  useEffect(() => {\n    i18n.changeLanguage(locale);\n    localStorage.setItem(\"locale\", locale);\n  }, [locale]);\n\n  useEffect(() => {\n    if (!token) {\n      navigate(\"/login\");\n    }\n  }, [token]);\n\n  const shouldShowNavigation = new URLSearchParams(window.location.search).get(\"nav\") !== \"false\";\n\n  const globalFormConfig = useMemo(\n    () => ({\n      ...defaultGlobalFormConfig,\n      validateMessages: Object.fromEntries(\n        Object.entries(defaultGlobalFormConfig.validateMessages).map(([k, msg]) => [k, t(msg)])\n      ),\n    }),\n    [t]\n  );\n\n  return (\n    <UserContext.Provider value={authContext}>\n      <OrganizationContext.Provider value={organizationId}>\n        <ConfigProvider form={globalFormConfig} locale={localeFileMap[locale]}>\n          <div className=\"fill\">\n            {token && shouldShowNavigation && (\n              <header className=\"noprint\">\n                <Header\n                  admin={user}\n                  logout={logout}\n                  onOrganizationChange={setOrganizationId}\n                  onLocaleChange={setLocale}\n                  locale={locale}\n                />\n              </header>\n            )}\n            <main className=\"fill\">\n              <Router id=\"router\">\n                <Login path=\"login\" onLogin={handleLogin} />\n                <ResetCache path=\"reset-cache\" />\n                <InitialOnboarding path=\"/onboard\" />\n                <ProtectedRoute path=\"/\" component={Dashboard} />\n                <ProtectedRoute path=\"/products\" component={ProductsPage} />\n\n                <ProtectedRoute path=\"/products/view/:id\" component={ProductViewPage} />\n\n                <ProtectedRoute path=\"/departments\" component={DepartmentList} />\n                <ProtectedRoute path=\"/categories\" component={CategoriesPage} />\n                <ProtectedRoute path=\"/subcategories\" component={SubcategoriesPage} />\n                <ProtectedRoute path=\"/brands\" component={BrandList} />\n                <ProtectedRoute path=\"/models\" component={ModelsPage} />\n                <ProtectedRoute path=\"/orders\" component={OrdersPage} />\n                <ProtectedRoute path=\"/orders/view/:id\" admin={user} component={OrderViewPage} />\n                <ProtectedRoute path=\"/clients\" component={ClientsPage} />\n                {[1, 2].includes(user?.roleNumber) && (\n                  <>\n                    <ProtectedRoute path=\"/cheques\" component={ChequeList} />\n                    <ProtectedRoute path=\"/expenses\" component={ExpenseList} />\n                    <ProtectedRoute path=\"/expenses/:id\" component={ExpenseDetail} />\n                    <ProtectedRoute path=\"/orgs\" component={OrganizationsPage} />\n                    <ProtectedRoute path=\"/admins\" component={AdminsPage} />\n                    <ProtectedRoute path=\"/tasks\" component={TaskList} />\n                    <ProtectedRoute path=\"/tasks/:id\" component={TaskDetail} />\n                    <ProtectedRoute path=\"/print-everything\" component={PrintEverything} />\n                    <ProtectedRoute path=\"/wood-price-calculator\" component={WoodCalculator} />\n                  </>\n                )}\n\n                {[3].includes(user?.roleNumber) && (\n                  <>\n                    <ProtectedRoute exact path=\"/wood-price-calculator\" component={WoodCalculator} />\n                  </>\n                )}\n\n                {/* redirect to login won't work without those*/}\n                {/* <PrivateRoute exact path=\"/orgs\" component={() => null} />\n                <PrivateRoute exact path=\"/admins\" component={() => null} /> */}\n                <NotFound default />\n              </Router>\n            </main>\n          </div>\n        </ConfigProvider>\n      </OrganizationContext.Provider>\n    </UserContext.Provider>\n  );\n};\n\nexport default Routing;\n","import React from \"react\";\n\nimport Routing from \"./containers/Routing\";\nimport { ToastProvider } from \"react-toast-notifications\";\nimport \"./App.css\";\nimport { Suspense } from \"react\";\nimport { Spin } from \"antd\";\n\nconst App = () => (\n  <ToastProvider>\n    <Suspense fallback={<Spin />}>\n      <Routing />\n    </Suspense>\n  </ToastProvider>\n);\n\nexport default App;\n","import React, { useEffect, useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/reset.scss\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport \"./styles/common.scss\";\n\nimport \"./i18n\";\n\nimport App from \"./App\"; // eslint-disable-line\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// const T = ({children}) => {\n//   const [loaded, setLoaded] = useState(false)\n\n//   useEffect(())\n\n// }\n"],"sourceRoot":""}